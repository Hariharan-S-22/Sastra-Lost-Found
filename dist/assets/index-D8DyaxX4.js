function G_(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Tg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cu={exports:{}},Qi={},du={exports:{}},he={};var Vp;function H_(){if(Vp)return he;Vp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function I(R,G,re){this.props=R,this.context=G,this.refs=N,this.updater=re||S}I.prototype.isReactComponent={},I.prototype.setState=function(R,G){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,G,"setState")},I.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function L(){}L.prototype=I.prototype;function U(R,G,re){this.props=R,this.context=G,this.refs=N,this.updater=re||S}var D=U.prototype=new L;D.constructor=U,A(D,I.prototype),D.isPureReactComponent=!0;var F=Array.isArray,K=Object.prototype.hasOwnProperty,B={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function z(R,G,re){var le,me={},pe=null,Se=null;if(G!=null)for(le in G.ref!==void 0&&(Se=G.ref),G.key!==void 0&&(pe=""+G.key),G)K.call(G,le)&&!O.hasOwnProperty(le)&&(me[le]=G[le]);var Ee=arguments.length-2;if(Ee===1)me.children=re;else if(1<Ee){for(var Pe=Array(Ee),ht=0;ht<Ee;ht++)Pe[ht]=arguments[ht+2];me.children=Pe}if(R&&R.defaultProps)for(le in Ee=R.defaultProps,Ee)me[le]===void 0&&(me[le]=Ee[le]);return{$$typeof:t,type:R,key:pe,ref:Se,props:me,_owner:B.current}}function J(R,G){return{$$typeof:t,type:R.type,key:G,ref:R.ref,props:R.props,_owner:R._owner}}function se(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function _e(R){var G={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(re){return G[re]})}var Le=/\/+/g;function fe(R,G){return typeof R=="object"&&R!==null&&R.key!=null?_e(""+R.key):G.toString(36)}function Re(R,G,re,le,me){var pe=typeof R;(pe==="undefined"||pe==="boolean")&&(R=null);var Se=!1;if(R===null)Se=!0;else switch(pe){case"string":case"number":Se=!0;break;case"object":switch(R.$$typeof){case t:case e:Se=!0}}if(Se)return Se=R,me=me(Se),R=le===""?"."+fe(Se,0):le,F(me)?(re="",R!=null&&(re=R.replace(Le,"$&/")+"/"),Re(me,G,re,"",function(ht){return ht})):me!=null&&(se(me)&&(me=J(me,re+(!me.key||Se&&Se.key===me.key?"":(""+me.key).replace(Le,"$&/")+"/")+R)),G.push(me)),1;if(Se=0,le=le===""?".":le+":",F(R))for(var Ee=0;Ee<R.length;Ee++){pe=R[Ee];var Pe=le+fe(pe,Ee);Se+=Re(pe,G,re,Pe,me)}else if(Pe=w(R),typeof Pe=="function")for(R=Pe.call(R),Ee=0;!(pe=R.next()).done;)pe=pe.value,Pe=le+fe(pe,Ee++),Se+=Re(pe,G,re,Pe,me);else if(pe==="object")throw G=String(R),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Se}function tt(R,G,re){if(R==null)return R;var le=[],me=0;return Re(R,le,"","",function(pe){return G.call(re,pe,me++)}),le}function Ie(R){if(R._status===-1){var G=R._result;G=G(),G.then(function(re){(R._status===0||R._status===-1)&&(R._status=1,R._result=re)},function(re){(R._status===0||R._status===-1)&&(R._status=2,R._result=re)}),R._status===-1&&(R._status=0,R._result=G)}if(R._status===1)return R._result.default;throw R._result}var xe={current:null},Y={transition:null},ae={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:Y,ReactCurrentOwner:B};function j(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:tt,forEach:function(R,G,re){tt(R,function(){G.apply(this,arguments)},re)},count:function(R){var G=0;return tt(R,function(){G++}),G},toArray:function(R){return tt(R,function(G){return G})||[]},only:function(R){if(!se(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},he.Component=I,he.Fragment=n,he.Profiler=s,he.PureComponent=U,he.StrictMode=i,he.Suspense=h,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,he.act=j,he.cloneElement=function(R,G,re){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var le=A({},R.props),me=R.key,pe=R.ref,Se=R._owner;if(G!=null){if(G.ref!==void 0&&(pe=G.ref,Se=B.current),G.key!==void 0&&(me=""+G.key),R.type&&R.type.defaultProps)var Ee=R.type.defaultProps;for(Pe in G)K.call(G,Pe)&&!O.hasOwnProperty(Pe)&&(le[Pe]=G[Pe]===void 0&&Ee!==void 0?Ee[Pe]:G[Pe])}var Pe=arguments.length-2;if(Pe===1)le.children=re;else if(1<Pe){Ee=Array(Pe);for(var ht=0;ht<Pe;ht++)Ee[ht]=arguments[ht+2];le.children=Ee}return{$$typeof:t,type:R.type,key:me,ref:pe,props:le,_owner:Se}},he.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:a,_context:R},R.Consumer=R},he.createElement=z,he.createFactory=function(R){var G=z.bind(null,R);return G.type=R,G},he.createRef=function(){return{current:null}},he.forwardRef=function(R){return{$$typeof:p,render:R}},he.isValidElement=se,he.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:Ie}},he.memo=function(R,G){return{$$typeof:m,type:R,compare:G===void 0?null:G}},he.startTransition=function(R){var G=Y.transition;Y.transition={};try{R()}finally{Y.transition=G}},he.unstable_act=j,he.useCallback=function(R,G){return xe.current.useCallback(R,G)},he.useContext=function(R){return xe.current.useContext(R)},he.useDebugValue=function(){},he.useDeferredValue=function(R){return xe.current.useDeferredValue(R)},he.useEffect=function(R,G){return xe.current.useEffect(R,G)},he.useId=function(){return xe.current.useId()},he.useImperativeHandle=function(R,G,re){return xe.current.useImperativeHandle(R,G,re)},he.useInsertionEffect=function(R,G){return xe.current.useInsertionEffect(R,G)},he.useLayoutEffect=function(R,G){return xe.current.useLayoutEffect(R,G)},he.useMemo=function(R,G){return xe.current.useMemo(R,G)},he.useReducer=function(R,G,re){return xe.current.useReducer(R,G,re)},he.useRef=function(R){return xe.current.useRef(R)},he.useState=function(R){return xe.current.useState(R)},he.useSyncExternalStore=function(R,G,re){return xe.current.useSyncExternalStore(R,G,re)},he.useTransition=function(){return xe.current.useTransition()},he.version="18.3.1",he}var Bp;function rc(){return Bp||(Bp=1,du.exports=H_()),du.exports}var Gp;function $_(){if(Gp)return Qi;Gp=1;var t=rc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(p,h,m){var v,_={},w=null,S=null;m!==void 0&&(w=""+m),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(v in h)i.call(h,v)&&!a.hasOwnProperty(v)&&(_[v]=h[v]);if(p&&p.defaultProps)for(v in h=p.defaultProps,h)_[v]===void 0&&(_[v]=h[v]);return{$$typeof:e,type:p,key:w,ref:S,props:_,_owner:s.current}}return Qi.Fragment=n,Qi.jsx=c,Qi.jsxs=c,Qi}var Hp;function q_(){return Hp||(Hp=1,cu.exports=$_()),cu.exports}var E=q_(),V=rc();const Ig=Tg(V),z_=G_({__proto__:null,default:Ig},[V]);var Cs={},fu={exports:{}},ft={},pu={exports:{}},hu={};var $p;function W_(){return $p||($p=1,(function(t){function e(Y,ae){var j=Y.length;Y.push(ae);e:for(;0<j;){var R=j-1>>>1,G=Y[R];if(0<s(G,ae))Y[R]=ae,Y[j]=G,j=R;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ae=Y[0],j=Y.pop();if(j!==ae){Y[0]=j;e:for(var R=0,G=Y.length,re=G>>>1;R<re;){var le=2*(R+1)-1,me=Y[le],pe=le+1,Se=Y[pe];if(0>s(me,j))pe<G&&0>s(Se,me)?(Y[R]=Se,Y[pe]=j,R=pe):(Y[R]=me,Y[le]=j,R=le);else if(pe<G&&0>s(Se,j))Y[R]=Se,Y[pe]=j,R=pe;else break e}}return ae}function s(Y,ae){var j=Y.sortIndex-ae.sortIndex;return j!==0?j:Y.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,p=c.now();t.unstable_now=function(){return c.now()-p}}var h=[],m=[],v=1,_=null,w=3,S=!1,A=!1,N=!1,I=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(Y){for(var ae=n(m);ae!==null;){if(ae.callback===null)i(m);else if(ae.startTime<=Y)i(m),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=n(m)}}function F(Y){if(N=!1,D(Y),!A)if(n(h)!==null)A=!0,Ie(K);else{var ae=n(m);ae!==null&&xe(F,ae.startTime-Y)}}function K(Y,ae){A=!1,N&&(N=!1,L(z),z=-1),S=!0;var j=w;try{for(D(ae),_=n(h);_!==null&&(!(_.expirationTime>ae)||Y&&!_e());){var R=_.callback;if(typeof R=="function"){_.callback=null,w=_.priorityLevel;var G=R(_.expirationTime<=ae);ae=t.unstable_now(),typeof G=="function"?_.callback=G:_===n(h)&&i(h),D(ae)}else i(h);_=n(h)}if(_!==null)var re=!0;else{var le=n(m);le!==null&&xe(F,le.startTime-ae),re=!1}return re}finally{_=null,w=j,S=!1}}var B=!1,O=null,z=-1,J=5,se=-1;function _e(){return!(t.unstable_now()-se<J)}function Le(){if(O!==null){var Y=t.unstable_now();se=Y;var ae=!0;try{ae=O(!0,Y)}finally{ae?fe():(B=!1,O=null)}}else B=!1}var fe;if(typeof U=="function")fe=function(){U(Le)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,tt=Re.port2;Re.port1.onmessage=Le,fe=function(){tt.postMessage(null)}}else fe=function(){I(Le,0)};function Ie(Y){O=Y,B||(B=!0,fe())}function xe(Y,ae){z=I(function(){Y(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){A||S||(A=!0,Ie(K))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var j=w;w=ae;try{return Y()}finally{w=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var j=w;w=Y;try{return ae()}finally{w=j}},t.unstable_scheduleCallback=function(Y,ae,j){var R=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?R+j:R):j=R,Y){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=j+G,Y={id:v++,callback:ae,priorityLevel:Y,startTime:j,expirationTime:G,sortIndex:-1},j>R?(Y.sortIndex=j,e(m,Y),n(h)===null&&Y===n(m)&&(N?(L(z),z=-1):N=!0,xe(F,j-R))):(Y.sortIndex=G,e(h,Y),A||S||(A=!0,Ie(K))),Y},t.unstable_shouldYield=_e,t.unstable_wrapCallback=function(Y){var ae=w;return function(){var j=w;w=ae;try{return Y.apply(this,arguments)}finally{w=j}}}})(hu)),hu}var qp;function J_(){return qp||(qp=1,pu.exports=W_()),pu.exports}var zp;function K_(){if(zp)return ft;zp=1;var t=rc(),e=J_();function n(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function a(r,o){c(r,o),c(r+"Capture",o)}function c(r,o){for(s[r]=o,r=0;r<o.length;r++)i.add(o[r])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function w(r){return h.call(_,r)?!0:h.call(v,r)?!1:m.test(r)?_[r]=!0:(v[r]=!0,!1)}function S(r,o,l,f){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function A(r,o,l,f){if(o===null||typeof o>"u"||S(r,o,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(r,o,l,f,g,y,x){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=r,this.type=o,this.sanitizeURL=y,this.removeEmptyString=x}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){I[r]=new N(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];I[o]=new N(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){I[r]=new N(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){I[r]=new N(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){I[r]=new N(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){I[r]=new N(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){I[r]=new N(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){I[r]=new N(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){I[r]=new N(r,5,!1,r.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function U(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(L,U);I[o]=new N(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(L,U);I[o]=new N(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(L,U);I[o]=new N(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){I[r]=new N(r,1,!1,r.toLowerCase(),null,!1,!1)}),I.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){I[r]=new N(r,1,!1,r.toLowerCase(),null,!0,!0)});function D(r,o,l,f){var g=I.hasOwnProperty(o)?I[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,l,g,f)&&(l=null),f||g===null?w(o)&&(l===null?r.removeAttribute(o):r.setAttribute(o,""+l)):g.mustUseProperty?r[g.propertyName]=l===null?g.type===3?!1:"":l:(o=g.attributeName,f=g.attributeNamespace,l===null?r.removeAttribute(o):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,f?r.setAttributeNS(f,o,l):r.setAttribute(o,l))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),B=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),_e=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ae(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var j=Object.assign,R;function G(r){if(R===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);R=o&&o[1]||""}return`
`+R+r}var re=!1;function le(r,o){if(!r||re)return"";re=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(M){var f=M}Reflect.construct(r,[],o)}else{try{o.call()}catch(M){f=M}r.call(o.prototype)}else{try{throw Error()}catch(M){f=M}r()}}catch(M){if(M&&f&&typeof M.stack=="string"){for(var g=M.stack.split(`
`),y=f.stack.split(`
`),x=g.length-1,T=y.length-1;1<=x&&0<=T&&g[x]!==y[T];)T--;for(;1<=x&&0<=T;x--,T--)if(g[x]!==y[T]){if(x!==1||T!==1)do if(x--,T--,0>T||g[x]!==y[T]){var C=`
`+g[x].replace(" at new "," at ");return r.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",r.displayName)),C}while(1<=x&&0<=T);break}}}finally{re=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?G(r):""}function me(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=le(r.type,!1),r;case 11:return r=le(r.type.render,!1),r;case 1:return r=le(r.type,!0),r;default:return""}}function pe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case B:return"Portal";case J:return"Profiler";case z:return"StrictMode";case fe:return"Suspense";case Re:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case _e:return(r.displayName||"Context")+".Consumer";case se:return(r._context.displayName||"Context")+".Provider";case Le:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case tt:return o=r.displayName||null,o!==null?o:pe(r.type)||"Memo";case Ie:o=r._payload,r=r._init;try{return pe(r(o))}catch{}}return null}function Se(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(o);case 8:return o===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Pe(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ht(r){var o=Pe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return g.call(this)},set:function(x){f=""+x,y.call(this,x)}}),Object.defineProperty(r,o,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function go(r){r._valueTracker||(r._valueTracker=ht(r))}function qc(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return r&&(f=Pe(r)?r.checked?"true":"false":r.value),r=f,r!==l?(o.setValue(r),!0):!1}function vo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function va(r,o){var l=o.checked;return j({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function zc(r,o){var l=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;l=Ee(o.value!=null?o.value:l),r._wrapperState={initialChecked:f,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Wc(r,o){o=o.checked,o!=null&&D(r,"checked",o,!1)}function ya(r,o){Wc(r,o);var l=Ee(o.value),f=o.type;if(l!=null)f==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?_a(r,o.type,l):o.hasOwnProperty("defaultValue")&&_a(r,o.type,Ee(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function Jc(r,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,l||o===r.value||(r.value=o),r.defaultValue=o}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function _a(r,o,l){(o!=="number"||vo(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var di=Array.isArray;function xr(r,o,l,f){if(r=r.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=o.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&f&&(r[l].defaultSelected=!0)}else{for(l=""+Ee(l),o=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}o!==null||r[g].disabled||(o=r[g])}o!==null&&(o.selected=!0)}}function Ea(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Kc(r,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(di(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}r._wrapperState={initialValue:Ee(l)}}function Yc(r,o){var l=Ee(o.value),f=Ee(o.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),o.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),f!=null&&(r.defaultValue=""+f)}function Qc(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function Xc(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wa(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?Xc(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var yo,jc=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,f,g){MSApp.execUnsafeLocalFunction(function(){return r(o,l,f,g)})}:r})(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(yo=yo||document.createElement("div"),yo.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=yo.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function fi(r,o){if(o){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=o;return}}r.textContent=o}var pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z0=["Webkit","ms","Moz","O"];Object.keys(pi).forEach(function(r){z0.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),pi[o]=pi[r]})});function Zc(r,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||pi.hasOwnProperty(r)&&pi[r]?(""+o).trim():o+"px"}function ed(r,o){r=r.style;for(var l in o)if(o.hasOwnProperty(l)){var f=l.indexOf("--")===0,g=Zc(l,o[l],f);l==="float"&&(l="cssFloat"),f?r.setProperty(l,g):r[l]=g}}var W0=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(r,o){if(o){if(W0[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Sa(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ta=null;function Ia(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ca=null,Sr=null,Tr=null;function td(r){if(r=Li(r)){if(typeof Ca!="function")throw Error(n(280));var o=r.stateNode;o&&(o=Go(o),Ca(r.stateNode,r.type,o))}}function nd(r){Sr?Tr?Tr.push(r):Tr=[r]:Sr=r}function rd(){if(Sr){var r=Sr,o=Tr;if(Tr=Sr=null,td(r),o)for(r=0;r<o.length;r++)td(o[r])}}function id(r,o){return r(o)}function od(){}var ka=!1;function sd(r,o,l){if(ka)return r(o,l);ka=!0;try{return id(r,o,l)}finally{ka=!1,(Sr!==null||Tr!==null)&&(od(),rd())}}function hi(r,o){var l=r.stateNode;if(l===null)return null;var f=Go(l);if(f===null)return null;l=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var Aa=!1;if(p)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{Aa=!1}function J0(r,o,l,f,g,y,x,T,C){var M=Array.prototype.slice.call(arguments,3);try{o.apply(l,M)}catch($){this.onError($)}}var gi=!1,_o=null,Eo=!1,Na=null,K0={onError:function(r){gi=!0,_o=r}};function Y0(r,o,l,f,g,y,x,T,C){gi=!1,_o=null,J0.apply(K0,arguments)}function Q0(r,o,l,f,g,y,x,T,C){if(Y0.apply(this,arguments),gi){if(gi){var M=_o;gi=!1,_o=null}else throw Error(n(198));Eo||(Eo=!0,Na=M)}}function Xn(r){var o=r,l=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(l=o.return),r=o.return;while(r)}return o.tag===3?l:null}function ad(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function ld(r){if(Xn(r)!==r)throw Error(n(188))}function X0(r){var o=r.alternate;if(!o){if(o=Xn(r),o===null)throw Error(n(188));return o!==r?null:r}for(var l=r,f=o;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return ld(g),r;if(y===f)return ld(g),o;y=y.sibling}throw Error(n(188))}if(l.return!==f.return)l=g,f=y;else{for(var x=!1,T=g.child;T;){if(T===l){x=!0,l=g,f=y;break}if(T===f){x=!0,f=g,l=y;break}T=T.sibling}if(!x){for(T=y.child;T;){if(T===l){x=!0,l=y,f=g;break}if(T===f){x=!0,f=y,l=g;break}T=T.sibling}if(!x)throw Error(n(189))}}if(l.alternate!==f)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:o}function ud(r){return r=X0(r),r!==null?cd(r):null}function cd(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=cd(r);if(o!==null)return o;r=r.sibling}return null}var dd=e.unstable_scheduleCallback,fd=e.unstable_cancelCallback,j0=e.unstable_shouldYield,Z0=e.unstable_requestPaint,Fe=e.unstable_now,ey=e.unstable_getCurrentPriorityLevel,Ra=e.unstable_ImmediatePriority,pd=e.unstable_UserBlockingPriority,wo=e.unstable_NormalPriority,ty=e.unstable_LowPriority,hd=e.unstable_IdlePriority,xo=null,Vt=null;function ny(r){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(xo,r,void 0,(r.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:oy,ry=Math.log,iy=Math.LN2;function oy(r){return r>>>=0,r===0?32:31-(ry(r)/iy|0)|0}var So=64,To=4194304;function vi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Io(r,o){var l=r.pendingLanes;if(l===0)return 0;var f=0,g=r.suspendedLanes,y=r.pingedLanes,x=l&268435455;if(x!==0){var T=x&~g;T!==0?f=vi(T):(y&=x,y!==0&&(f=vi(y)))}else x=l&~g,x!==0?f=vi(x):y!==0&&(f=vi(y));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,y=o&-o,g>=y||g===16&&(y&4194240)!==0))return o;if((f&4)!==0&&(f|=l&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=f;0<o;)l=31-At(o),g=1<<l,f|=r[l],o&=~g;return f}function sy(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ay(r,o){for(var l=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes;0<y;){var x=31-At(y),T=1<<x,C=g[x];C===-1?((T&l)===0||(T&f)!==0)&&(g[x]=sy(T,o)):C<=o&&(r.expiredLanes|=T),y&=~T}}function Pa(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function md(){var r=So;return So<<=1,(So&4194240)===0&&(So=64),r}function ba(r){for(var o=[],l=0;31>l;l++)o.push(r);return o}function yi(r,o,l){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-At(o),r[o]=l}function ly(r,o){var l=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<l;){var g=31-At(l),y=1<<g;o[g]=0,f[g]=-1,r[g]=-1,l&=~y}}function Ma(r,o){var l=r.entangledLanes|=o;for(r=r.entanglements;l;){var f=31-At(l),g=1<<f;g&o|r[f]&o&&(r[f]|=o),l&=~g}}var we=0;function gd(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var vd,Da,yd,_d,Ed,La=!1,Co=[],xn=null,Sn=null,Tn=null,_i=new Map,Ei=new Map,In=[],uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wd(r,o){switch(r){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":_i.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(o.pointerId)}}function wi(r,o,l,f,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},o!==null&&(o=Li(o),o!==null&&Da(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),r)}function cy(r,o,l,f,g){switch(o){case"focusin":return xn=wi(xn,r,o,l,f,g),!0;case"dragenter":return Sn=wi(Sn,r,o,l,f,g),!0;case"mouseover":return Tn=wi(Tn,r,o,l,f,g),!0;case"pointerover":var y=g.pointerId;return _i.set(y,wi(_i.get(y)||null,r,o,l,f,g)),!0;case"gotpointercapture":return y=g.pointerId,Ei.set(y,wi(Ei.get(y)||null,r,o,l,f,g)),!0}return!1}function xd(r){var o=jn(r.target);if(o!==null){var l=Xn(o);if(l!==null){if(o=l.tag,o===13){if(o=ad(l),o!==null){r.blockedOn=o,Ed(r.priority,function(){yd(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ko(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var l=Fa(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var f=new l.constructor(l.type,l);Ta=f,l.target.dispatchEvent(f),Ta=null}else return o=Li(l),o!==null&&Da(o),r.blockedOn=l,!1;o.shift()}return!0}function Sd(r,o,l){ko(r)&&l.delete(o)}function dy(){La=!1,xn!==null&&ko(xn)&&(xn=null),Sn!==null&&ko(Sn)&&(Sn=null),Tn!==null&&ko(Tn)&&(Tn=null),_i.forEach(Sd),Ei.forEach(Sd)}function xi(r,o){r.blockedOn===o&&(r.blockedOn=null,La||(La=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dy)))}function Si(r){function o(g){return xi(g,r)}if(0<Co.length){xi(Co[0],r);for(var l=1;l<Co.length;l++){var f=Co[l];f.blockedOn===r&&(f.blockedOn=null)}}for(xn!==null&&xi(xn,r),Sn!==null&&xi(Sn,r),Tn!==null&&xi(Tn,r),_i.forEach(o),Ei.forEach(o),l=0;l<In.length;l++)f=In[l],f.blockedOn===r&&(f.blockedOn=null);for(;0<In.length&&(l=In[0],l.blockedOn===null);)xd(l),l.blockedOn===null&&In.shift()}var Ir=F.ReactCurrentBatchConfig,Ao=!0;function fy(r,o,l,f){var g=we,y=Ir.transition;Ir.transition=null;try{we=1,Ua(r,o,l,f)}finally{we=g,Ir.transition=y}}function py(r,o,l,f){var g=we,y=Ir.transition;Ir.transition=null;try{we=4,Ua(r,o,l,f)}finally{we=g,Ir.transition=y}}function Ua(r,o,l,f){if(Ao){var g=Fa(r,o,l,f);if(g===null)el(r,o,f,No,l),wd(r,f);else if(cy(g,r,o,l,f))f.stopPropagation();else if(wd(r,f),o&4&&-1<uy.indexOf(r)){for(;g!==null;){var y=Li(g);if(y!==null&&vd(y),y=Fa(r,o,l,f),y===null&&el(r,o,f,No,l),y===g)break;g=y}g!==null&&f.stopPropagation()}else el(r,o,f,null,l)}}var No=null;function Fa(r,o,l,f){if(No=null,r=Ia(f),r=jn(r),r!==null)if(o=Xn(r),o===null)r=null;else if(l=o.tag,l===13){if(r=ad(o),r!==null)return r;r=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return No=r,null}function Td(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ey()){case Ra:return 1;case pd:return 4;case wo:case ty:return 16;case hd:return 536870912;default:return 16}default:return 16}}var Cn=null,Oa=null,Ro=null;function Id(){if(Ro)return Ro;var r,o=Oa,l=o.length,f,g="value"in Cn?Cn.value:Cn.textContent,y=g.length;for(r=0;r<l&&o[r]===g[r];r++);var x=l-r;for(f=1;f<=x&&o[l-f]===g[y-f];f++);return Ro=g.slice(r,1<f?1-f:void 0)}function Po(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function bo(){return!0}function Cd(){return!1}function mt(r){function o(l,f,g,y,x){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(l=r[T],this[T]=l?l(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?bo:Cd,this.isPropagationStopped=Cd,this}return j(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),o}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=mt(Cr),Ti=j({},Cr,{view:0,detail:0}),hy=mt(Ti),Ba,Ga,Ii,Mo=j({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ii&&(Ii&&r.type==="mousemove"?(Ba=r.screenX-Ii.screenX,Ga=r.screenY-Ii.screenY):Ga=Ba=0,Ii=r),Ba)},movementY:function(r){return"movementY"in r?r.movementY:Ga}}),kd=mt(Mo),my=j({},Mo,{dataTransfer:0}),gy=mt(my),vy=j({},Ti,{relatedTarget:0}),Ha=mt(vy),yy=j({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),_y=mt(yy),Ey=j({},Cr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),wy=mt(Ey),xy=j({},Cr,{data:0}),Ad=mt(xy),Sy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ty={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cy(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Iy[r])?!!o[r]:!1}function $a(){return Cy}var ky=j({},Ti,{key:function(r){if(r.key){var o=Sy[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Po(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ty[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(r){return r.type==="keypress"?Po(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Po(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ay=mt(ky),Ny=j({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=mt(Ny),Ry=j({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),Py=mt(Ry),by=j({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),My=mt(by),Dy=j({},Mo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ly=mt(Dy),Uy=[9,13,27,32],qa=p&&"CompositionEvent"in window,Ci=null;p&&"documentMode"in document&&(Ci=document.documentMode);var Fy=p&&"TextEvent"in window&&!Ci,Rd=p&&(!qa||Ci&&8<Ci&&11>=Ci),Pd=" ",bd=!1;function Md(r,o){switch(r){case"keyup":return Uy.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dd(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var kr=!1;function Oy(r,o){switch(r){case"compositionend":return Dd(o);case"keypress":return o.which!==32?null:(bd=!0,Pd);case"textInput":return r=o.data,r===Pd&&bd?null:r;default:return null}}function Vy(r,o){if(kr)return r==="compositionend"||!qa&&Md(r,o)?(r=Id(),Ro=Oa=Cn=null,kr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Rd&&o.locale!=="ko"?null:o.data;default:return null}}var By={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!By[r.type]:o==="textarea"}function Ud(r,o,l,f){nd(f),o=Oo(o,"onChange"),0<o.length&&(l=new Va("onChange","change",null,l,f),r.push({event:l,listeners:o}))}var ki=null,Ai=null;function Gy(r){ef(r,0)}function Do(r){var o=br(r);if(qc(o))return r}function Hy(r,o){if(r==="change")return o}var Fd=!1;if(p){var za;if(p){var Wa="oninput"in document;if(!Wa){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Wa=typeof Od.oninput=="function"}za=Wa}else za=!1;Fd=za&&(!document.documentMode||9<document.documentMode)}function Vd(){ki&&(ki.detachEvent("onpropertychange",Bd),Ai=ki=null)}function Bd(r){if(r.propertyName==="value"&&Do(Ai)){var o=[];Ud(o,Ai,r,Ia(r)),sd(Gy,o)}}function $y(r,o,l){r==="focusin"?(Vd(),ki=o,Ai=l,ki.attachEvent("onpropertychange",Bd)):r==="focusout"&&Vd()}function qy(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Do(Ai)}function zy(r,o){if(r==="click")return Do(o)}function Wy(r,o){if(r==="input"||r==="change")return Do(o)}function Jy(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Nt=typeof Object.is=="function"?Object.is:Jy;function Ni(r,o){if(Nt(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var l=Object.keys(r),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!h.call(o,g)||!Nt(r[g],o[g]))return!1}return!0}function Gd(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Hd(r,o){var l=Gd(r);r=0;for(var f;l;){if(l.nodeType===3){if(f=r+l.textContent.length,r<=o&&f>=o)return{node:l,offset:o-r};r=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Gd(l)}}function $d(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?$d(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function qd(){for(var r=window,o=vo();o instanceof r.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)r=o.contentWindow;else break;o=vo(r.document)}return o}function Ja(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function Ky(r){var o=qd(),l=r.focusedElem,f=r.selectionRange;if(o!==l&&l&&l.ownerDocument&&$d(l.ownerDocument.documentElement,l)){if(f!==null&&Ja(l)){if(o=f.start,r=f.end,r===void 0&&(r=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(r,l.value.length);else if(r=(o=l.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var g=l.textContent.length,y=Math.min(f.start,g);f=f.end===void 0?y:Math.min(f.end,g),!r.extend&&y>f&&(g=f,f=y,y=g),g=Hd(l,y);var x=Hd(l,f);g&&x&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),r.removeAllRanges(),y>f?(r.addRange(o),r.extend(x.node,x.offset)):(o.setEnd(x.node,x.offset),r.addRange(o)))}}for(o=[],r=l;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)r=o[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Yy=p&&"documentMode"in document&&11>=document.documentMode,Ar=null,Ka=null,Ri=null,Ya=!1;function zd(r,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ya||Ar==null||Ar!==vo(f)||(f=Ar,"selectionStart"in f&&Ja(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ri&&Ni(Ri,f)||(Ri=f,f=Oo(Ka,"onSelect"),0<f.length&&(o=new Va("onSelect","select",null,o,l),r.push({event:o,listeners:f}),o.target=Ar)))}function Lo(r,o){var l={};return l[r.toLowerCase()]=o.toLowerCase(),l["Webkit"+r]="webkit"+o,l["Moz"+r]="moz"+o,l}var Nr={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionend:Lo("Transition","TransitionEnd")},Qa={},Wd={};p&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Uo(r){if(Qa[r])return Qa[r];if(!Nr[r])return r;var o=Nr[r],l;for(l in o)if(o.hasOwnProperty(l)&&l in Wd)return Qa[r]=o[l];return r}var Jd=Uo("animationend"),Kd=Uo("animationiteration"),Yd=Uo("animationstart"),Qd=Uo("transitionend"),Xd=new Map,jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(r,o){Xd.set(r,o),a(o,[r])}for(var Xa=0;Xa<jd.length;Xa++){var ja=jd[Xa],Qy=ja.toLowerCase(),Xy=ja[0].toUpperCase()+ja.slice(1);kn(Qy,"on"+Xy)}kn(Jd,"onAnimationEnd"),kn(Kd,"onAnimationIteration"),kn(Yd,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(Qd,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pi));function Zd(r,o,l){var f=r.type||"unknown-event";r.currentTarget=l,Q0(f,o,void 0,r),r.currentTarget=null}function ef(r,o){o=(o&4)!==0;for(var l=0;l<r.length;l++){var f=r[l],g=f.event;f=f.listeners;e:{var y=void 0;if(o)for(var x=f.length-1;0<=x;x--){var T=f[x],C=T.instance,M=T.currentTarget;if(T=T.listener,C!==y&&g.isPropagationStopped())break e;Zd(g,T,M),y=C}else for(x=0;x<f.length;x++){if(T=f[x],C=T.instance,M=T.currentTarget,T=T.listener,C!==y&&g.isPropagationStopped())break e;Zd(g,T,M),y=C}}}if(Eo)throw r=Na,Eo=!1,Na=null,r}function Ae(r,o){var l=o[sl];l===void 0&&(l=o[sl]=new Set);var f=r+"__bubble";l.has(f)||(tf(o,r,2,!1),l.add(f))}function Za(r,o,l){var f=0;o&&(f|=4),tf(l,r,f,o)}var Fo="_reactListening"+Math.random().toString(36).slice(2);function bi(r){if(!r[Fo]){r[Fo]=!0,i.forEach(function(l){l!=="selectionchange"&&(jy.has(l)||Za(l,!1,r),Za(l,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Fo]||(o[Fo]=!0,Za("selectionchange",!1,o))}}function tf(r,o,l,f){switch(Td(o)){case 1:var g=fy;break;case 4:g=py;break;default:g=Ua}l=g.bind(null,o,l,r),g=void 0,!Aa||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(o,l,{capture:!0,passive:g}):r.addEventListener(o,l,!0):g!==void 0?r.addEventListener(o,l,{passive:g}):r.addEventListener(o,l,!1)}function el(r,o,l,f,g){var y=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var T=f.stateNode.containerInfo;if(T===g||T.nodeType===8&&T.parentNode===g)break;if(x===4)for(x=f.return;x!==null;){var C=x.tag;if((C===3||C===4)&&(C=x.stateNode.containerInfo,C===g||C.nodeType===8&&C.parentNode===g))return;x=x.return}for(;T!==null;){if(x=jn(T),x===null)return;if(C=x.tag,C===5||C===6){f=y=x;continue e}T=T.parentNode}}f=f.return}sd(function(){var M=y,$=Ia(l),q=[];e:{var H=Xd.get(r);if(H!==void 0){var X=Va,ee=r;switch(r){case"keypress":if(Po(l)===0)break e;case"keydown":case"keyup":X=Ay;break;case"focusin":ee="focus",X=Ha;break;case"focusout":ee="blur",X=Ha;break;case"beforeblur":case"afterblur":X=Ha;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Py;break;case Jd:case Kd:case Yd:X=_y;break;case Qd:X=My;break;case"scroll":X=hy;break;case"wheel":X=Ly;break;case"copy":case"cut":case"paste":X=wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Nd}var te=(o&4)!==0,Oe=!te&&r==="scroll",P=te?H!==null?H+"Capture":null:H;te=[];for(var k=M,b;k!==null;){b=k;var W=b.stateNode;if(b.tag===5&&W!==null&&(b=W,P!==null&&(W=hi(k,P),W!=null&&te.push(Mi(k,W,b)))),Oe)break;k=k.return}0<te.length&&(H=new X(H,ee,null,l,$),q.push({event:H,listeners:te}))}}if((o&7)===0){e:{if(H=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",H&&l!==Ta&&(ee=l.relatedTarget||l.fromElement)&&(jn(ee)||ee[Xt]))break e;if((X||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,X?(ee=l.relatedTarget||l.toElement,X=M,ee=ee?jn(ee):null,ee!==null&&(Oe=Xn(ee),ee!==Oe||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(X=null,ee=M),X!==ee)){if(te=kd,W="onMouseLeave",P="onMouseEnter",k="mouse",(r==="pointerout"||r==="pointerover")&&(te=Nd,W="onPointerLeave",P="onPointerEnter",k="pointer"),Oe=X==null?H:br(X),b=ee==null?H:br(ee),H=new te(W,k+"leave",X,l,$),H.target=Oe,H.relatedTarget=b,W=null,jn($)===M&&(te=new te(P,k+"enter",ee,l,$),te.target=b,te.relatedTarget=Oe,W=te),Oe=W,X&&ee)t:{for(te=X,P=ee,k=0,b=te;b;b=Rr(b))k++;for(b=0,W=P;W;W=Rr(W))b++;for(;0<k-b;)te=Rr(te),k--;for(;0<b-k;)P=Rr(P),b--;for(;k--;){if(te===P||P!==null&&te===P.alternate)break t;te=Rr(te),P=Rr(P)}te=null}else te=null;X!==null&&nf(q,H,X,te,!1),ee!==null&&Oe!==null&&nf(q,Oe,ee,te,!0)}}e:{if(H=M?br(M):window,X=H.nodeName&&H.nodeName.toLowerCase(),X==="select"||X==="input"&&H.type==="file")var ne=Hy;else if(Ld(H))if(Fd)ne=Wy;else{ne=qy;var ie=$y}else(X=H.nodeName)&&X.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(ne=zy);if(ne&&(ne=ne(r,M))){Ud(q,ne,l,$);break e}ie&&ie(r,H,M),r==="focusout"&&(ie=H._wrapperState)&&ie.controlled&&H.type==="number"&&_a(H,"number",H.value)}switch(ie=M?br(M):window,r){case"focusin":(Ld(ie)||ie.contentEditable==="true")&&(Ar=ie,Ka=M,Ri=null);break;case"focusout":Ri=Ka=Ar=null;break;case"mousedown":Ya=!0;break;case"contextmenu":case"mouseup":case"dragend":Ya=!1,zd(q,l,$);break;case"selectionchange":if(Yy)break;case"keydown":case"keyup":zd(q,l,$)}var oe;if(qa)e:{switch(r){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else kr?Md(r,l)&&(ue="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(ue="onCompositionStart");ue&&(Rd&&l.locale!=="ko"&&(kr||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&kr&&(oe=Id()):(Cn=$,Oa="value"in Cn?Cn.value:Cn.textContent,kr=!0)),ie=Oo(M,ue),0<ie.length&&(ue=new Ad(ue,r,null,l,$),q.push({event:ue,listeners:ie}),oe?ue.data=oe:(oe=Dd(l),oe!==null&&(ue.data=oe)))),(oe=Fy?Oy(r,l):Vy(r,l))&&(M=Oo(M,"onBeforeInput"),0<M.length&&($=new Ad("onBeforeInput","beforeinput",null,l,$),q.push({event:$,listeners:M}),$.data=oe))}ef(q,o)})}function Mi(r,o,l){return{instance:r,listener:o,currentTarget:l}}function Oo(r,o){for(var l=o+"Capture",f=[];r!==null;){var g=r,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=hi(r,l),y!=null&&f.unshift(Mi(r,y,g)),y=hi(r,o),y!=null&&f.push(Mi(r,y,g))),r=r.return}return f}function Rr(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function nf(r,o,l,f,g){for(var y=o._reactName,x=[];l!==null&&l!==f;){var T=l,C=T.alternate,M=T.stateNode;if(C!==null&&C===f)break;T.tag===5&&M!==null&&(T=M,g?(C=hi(l,y),C!=null&&x.unshift(Mi(l,C,T))):g||(C=hi(l,y),C!=null&&x.push(Mi(l,C,T)))),l=l.return}x.length!==0&&r.push({event:o,listeners:x})}var Zy=/\r\n?/g,e_=/\u0000|\uFFFD/g;function rf(r){return(typeof r=="string"?r:""+r).replace(Zy,`
`).replace(e_,"")}function Vo(r,o,l){if(o=rf(o),rf(r)!==o&&l)throw Error(n(425))}function Bo(){}var tl=null,nl=null;function rl(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var il=typeof setTimeout=="function"?setTimeout:void 0,t_=typeof clearTimeout=="function"?clearTimeout:void 0,of=typeof Promise=="function"?Promise:void 0,n_=typeof queueMicrotask=="function"?queueMicrotask:typeof of<"u"?function(r){return of.resolve(null).then(r).catch(r_)}:il;function r_(r){setTimeout(function(){throw r})}function ol(r,o){var l=o,f=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(f===0){r.removeChild(g),Si(o);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=g}while(l);Si(o)}function An(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function sf(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return r;o--}else l==="/$"&&o++}r=r.previousSibling}return null}var Pr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Pr,Di="__reactProps$"+Pr,Xt="__reactContainer$"+Pr,sl="__reactEvents$"+Pr,i_="__reactListeners$"+Pr,o_="__reactHandles$"+Pr;function jn(r){var o=r[Bt];if(o)return o;for(var l=r.parentNode;l;){if(o=l[Xt]||l[Bt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(r=sf(r);r!==null;){if(l=r[Bt])return l;r=sf(r)}return o}r=l,l=r.parentNode}return null}function Li(r){return r=r[Bt]||r[Xt],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function br(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Go(r){return r[Di]||null}var al=[],Mr=-1;function Nn(r){return{current:r}}function Ne(r){0>Mr||(r.current=al[Mr],al[Mr]=null,Mr--)}function Ce(r,o){Mr++,al[Mr]=r.current,r.current=o}var Rn={},Qe=Nn(Rn),at=Nn(!1),Zn=Rn;function Dr(r,o){var l=r.type.contextTypes;if(!l)return Rn;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in l)g[y]=o[y];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=g),g}function lt(r){return r=r.childContextTypes,r!=null}function Ho(){Ne(at),Ne(Qe)}function af(r,o,l){if(Qe.current!==Rn)throw Error(n(168));Ce(Qe,o),Ce(at,l)}function lf(r,o,l){var f=r.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(n(108,Se(r)||"Unknown",g));return j({},l,f)}function $o(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Rn,Zn=Qe.current,Ce(Qe,r),Ce(at,at.current),!0}function uf(r,o,l){var f=r.stateNode;if(!f)throw Error(n(169));l?(r=lf(r,o,Zn),f.__reactInternalMemoizedMergedChildContext=r,Ne(at),Ne(Qe),Ce(Qe,r)):Ne(at),Ce(at,l)}var jt=null,qo=!1,ll=!1;function cf(r){jt===null?jt=[r]:jt.push(r)}function s_(r){qo=!0,cf(r)}function Pn(){if(!ll&&jt!==null){ll=!0;var r=0,o=we;try{var l=jt;for(we=1;r<l.length;r++){var f=l[r];do f=f(!0);while(f!==null)}jt=null,qo=!1}catch(g){throw jt!==null&&(jt=jt.slice(r+1)),dd(Ra,Pn),g}finally{we=o,ll=!1}}return null}var Lr=[],Ur=0,zo=null,Wo=0,Et=[],wt=0,er=null,Zt=1,en="";function tr(r,o){Lr[Ur++]=Wo,Lr[Ur++]=zo,zo=r,Wo=o}function df(r,o,l){Et[wt++]=Zt,Et[wt++]=en,Et[wt++]=er,er=r;var f=Zt;r=en;var g=32-At(f)-1;f&=~(1<<g),l+=1;var y=32-At(o)+g;if(30<y){var x=g-g%5;y=(f&(1<<x)-1).toString(32),f>>=x,g-=x,Zt=1<<32-At(o)+g|l<<g|f,en=y+r}else Zt=1<<y|l<<g|f,en=r}function ul(r){r.return!==null&&(tr(r,1),df(r,1,0))}function cl(r){for(;r===zo;)zo=Lr[--Ur],Lr[Ur]=null,Wo=Lr[--Ur],Lr[Ur]=null;for(;r===er;)er=Et[--wt],Et[wt]=null,en=Et[--wt],Et[wt]=null,Zt=Et[--wt],Et[wt]=null}var gt=null,vt=null,be=!1,Rt=null;function ff(r,o){var l=It(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=r,o=r.deletions,o===null?(r.deletions=[l],r.flags|=16):o.push(l)}function pf(r,o){switch(r.tag){case 5:var l=r.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,gt=r,vt=An(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,gt=r,vt=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=er!==null?{id:Zt,overflow:en}:null,r.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=It(18,null,null,0),l.stateNode=o,l.return=r,r.child=l,gt=r,vt=null,!0):!1;default:return!1}}function dl(r){return(r.mode&1)!==0&&(r.flags&128)===0}function fl(r){if(be){var o=vt;if(o){var l=o;if(!pf(r,o)){if(dl(r))throw Error(n(418));o=An(l.nextSibling);var f=gt;o&&pf(r,o)?ff(f,l):(r.flags=r.flags&-4097|2,be=!1,gt=r)}}else{if(dl(r))throw Error(n(418));r.flags=r.flags&-4097|2,be=!1,gt=r}}}function hf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;gt=r}function Jo(r){if(r!==gt)return!1;if(!be)return hf(r),be=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!rl(r.type,r.memoizedProps)),o&&(o=vt)){if(dl(r))throw mf(),Error(n(418));for(;o;)ff(r,o),o=An(o.nextSibling)}if(hf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(o===0){vt=An(r.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}r=r.nextSibling}vt=null}}else vt=gt?An(r.stateNode.nextSibling):null;return!0}function mf(){for(var r=vt;r;)r=An(r.nextSibling)}function Fr(){vt=gt=null,be=!1}function pl(r){Rt===null?Rt=[r]:Rt.push(r)}var a_=F.ReactCurrentBatchConfig;function Ui(r,o,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var f=l.stateNode}if(!f)throw Error(n(147,r));var g=f,y=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(x){var T=g.refs;x===null?delete T[y]:T[y]=x},o._stringRef=y,o)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Ko(r,o){throw r=Object.prototype.toString.call(o),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function gf(r){var o=r._init;return o(r._payload)}function vf(r){function o(P,k){if(r){var b=P.deletions;b===null?(P.deletions=[k],P.flags|=16):b.push(k)}}function l(P,k){if(!r)return null;for(;k!==null;)o(P,k),k=k.sibling;return null}function f(P,k){for(P=new Map;k!==null;)k.key!==null?P.set(k.key,k):P.set(k.index,k),k=k.sibling;return P}function g(P,k){return P=Vn(P,k),P.index=0,P.sibling=null,P}function y(P,k,b){return P.index=b,r?(b=P.alternate,b!==null?(b=b.index,b<k?(P.flags|=2,k):b):(P.flags|=2,k)):(P.flags|=1048576,k)}function x(P){return r&&P.alternate===null&&(P.flags|=2),P}function T(P,k,b,W){return k===null||k.tag!==6?(k=iu(b,P.mode,W),k.return=P,k):(k=g(k,b),k.return=P,k)}function C(P,k,b,W){var ne=b.type;return ne===O?$(P,k,b.props.children,W,b.key):k!==null&&(k.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Ie&&gf(ne)===k.type)?(W=g(k,b.props),W.ref=Ui(P,k,b),W.return=P,W):(W=ys(b.type,b.key,b.props,null,P.mode,W),W.ref=Ui(P,k,b),W.return=P,W)}function M(P,k,b,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==b.containerInfo||k.stateNode.implementation!==b.implementation?(k=ou(b,P.mode,W),k.return=P,k):(k=g(k,b.children||[]),k.return=P,k)}function $(P,k,b,W,ne){return k===null||k.tag!==7?(k=ur(b,P.mode,W,ne),k.return=P,k):(k=g(k,b),k.return=P,k)}function q(P,k,b){if(typeof k=="string"&&k!==""||typeof k=="number")return k=iu(""+k,P.mode,b),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case K:return b=ys(k.type,k.key,k.props,null,P.mode,b),b.ref=Ui(P,null,k),b.return=P,b;case B:return k=ou(k,P.mode,b),k.return=P,k;case Ie:var W=k._init;return q(P,W(k._payload),b)}if(di(k)||ae(k))return k=ur(k,P.mode,b,null),k.return=P,k;Ko(P,k)}return null}function H(P,k,b,W){var ne=k!==null?k.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return ne!==null?null:T(P,k,""+b,W);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case K:return b.key===ne?C(P,k,b,W):null;case B:return b.key===ne?M(P,k,b,W):null;case Ie:return ne=b._init,H(P,k,ne(b._payload),W)}if(di(b)||ae(b))return ne!==null?null:$(P,k,b,W,null);Ko(P,b)}return null}function X(P,k,b,W,ne){if(typeof W=="string"&&W!==""||typeof W=="number")return P=P.get(b)||null,T(k,P,""+W,ne);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case K:return P=P.get(W.key===null?b:W.key)||null,C(k,P,W,ne);case B:return P=P.get(W.key===null?b:W.key)||null,M(k,P,W,ne);case Ie:var ie=W._init;return X(P,k,b,ie(W._payload),ne)}if(di(W)||ae(W))return P=P.get(b)||null,$(k,P,W,ne,null);Ko(k,W)}return null}function ee(P,k,b,W){for(var ne=null,ie=null,oe=k,ue=k=0,ze=null;oe!==null&&ue<b.length;ue++){oe.index>ue?(ze=oe,oe=null):ze=oe.sibling;var ve=H(P,oe,b[ue],W);if(ve===null){oe===null&&(oe=ze);break}r&&oe&&ve.alternate===null&&o(P,oe),k=y(ve,k,ue),ie===null?ne=ve:ie.sibling=ve,ie=ve,oe=ze}if(ue===b.length)return l(P,oe),be&&tr(P,ue),ne;if(oe===null){for(;ue<b.length;ue++)oe=q(P,b[ue],W),oe!==null&&(k=y(oe,k,ue),ie===null?ne=oe:ie.sibling=oe,ie=oe);return be&&tr(P,ue),ne}for(oe=f(P,oe);ue<b.length;ue++)ze=X(oe,P,ue,b[ue],W),ze!==null&&(r&&ze.alternate!==null&&oe.delete(ze.key===null?ue:ze.key),k=y(ze,k,ue),ie===null?ne=ze:ie.sibling=ze,ie=ze);return r&&oe.forEach(function(Bn){return o(P,Bn)}),be&&tr(P,ue),ne}function te(P,k,b,W){var ne=ae(b);if(typeof ne!="function")throw Error(n(150));if(b=ne.call(b),b==null)throw Error(n(151));for(var ie=ne=null,oe=k,ue=k=0,ze=null,ve=b.next();oe!==null&&!ve.done;ue++,ve=b.next()){oe.index>ue?(ze=oe,oe=null):ze=oe.sibling;var Bn=H(P,oe,ve.value,W);if(Bn===null){oe===null&&(oe=ze);break}r&&oe&&Bn.alternate===null&&o(P,oe),k=y(Bn,k,ue),ie===null?ne=Bn:ie.sibling=Bn,ie=Bn,oe=ze}if(ve.done)return l(P,oe),be&&tr(P,ue),ne;if(oe===null){for(;!ve.done;ue++,ve=b.next())ve=q(P,ve.value,W),ve!==null&&(k=y(ve,k,ue),ie===null?ne=ve:ie.sibling=ve,ie=ve);return be&&tr(P,ue),ne}for(oe=f(P,oe);!ve.done;ue++,ve=b.next())ve=X(oe,P,ue,ve.value,W),ve!==null&&(r&&ve.alternate!==null&&oe.delete(ve.key===null?ue:ve.key),k=y(ve,k,ue),ie===null?ne=ve:ie.sibling=ve,ie=ve);return r&&oe.forEach(function(B_){return o(P,B_)}),be&&tr(P,ue),ne}function Oe(P,k,b,W){if(typeof b=="object"&&b!==null&&b.type===O&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case K:e:{for(var ne=b.key,ie=k;ie!==null;){if(ie.key===ne){if(ne=b.type,ne===O){if(ie.tag===7){l(P,ie.sibling),k=g(ie,b.props.children),k.return=P,P=k;break e}}else if(ie.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Ie&&gf(ne)===ie.type){l(P,ie.sibling),k=g(ie,b.props),k.ref=Ui(P,ie,b),k.return=P,P=k;break e}l(P,ie);break}else o(P,ie);ie=ie.sibling}b.type===O?(k=ur(b.props.children,P.mode,W,b.key),k.return=P,P=k):(W=ys(b.type,b.key,b.props,null,P.mode,W),W.ref=Ui(P,k,b),W.return=P,P=W)}return x(P);case B:e:{for(ie=b.key;k!==null;){if(k.key===ie)if(k.tag===4&&k.stateNode.containerInfo===b.containerInfo&&k.stateNode.implementation===b.implementation){l(P,k.sibling),k=g(k,b.children||[]),k.return=P,P=k;break e}else{l(P,k);break}else o(P,k);k=k.sibling}k=ou(b,P.mode,W),k.return=P,P=k}return x(P);case Ie:return ie=b._init,Oe(P,k,ie(b._payload),W)}if(di(b))return ee(P,k,b,W);if(ae(b))return te(P,k,b,W);Ko(P,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,k!==null&&k.tag===6?(l(P,k.sibling),k=g(k,b),k.return=P,P=k):(l(P,k),k=iu(b,P.mode,W),k.return=P,P=k),x(P)):l(P,k)}return Oe}var Or=vf(!0),yf=vf(!1),Yo=Nn(null),Qo=null,Vr=null,hl=null;function ml(){hl=Vr=Qo=null}function gl(r){var o=Yo.current;Ne(Yo),r._currentValue=o}function vl(r,o,l){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===l)break;r=r.return}}function Br(r,o){Qo=r,hl=Vr=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&o)!==0&&(ut=!0),r.firstContext=null)}function xt(r){var o=r._currentValue;if(hl!==r)if(r={context:r,memoizedValue:o,next:null},Vr===null){if(Qo===null)throw Error(n(308));Vr=r,Qo.dependencies={lanes:0,firstContext:r}}else Vr=Vr.next=r;return o}var nr=null;function yl(r){nr===null?nr=[r]:nr.push(r)}function _f(r,o,l,f){var g=o.interleaved;return g===null?(l.next=l,yl(o)):(l.next=g.next,g.next=l),o.interleaved=l,tn(r,f)}function tn(r,o){r.lanes|=o;var l=r.alternate;for(l!==null&&(l.lanes|=o),l=r,r=r.return;r!==null;)r.childLanes|=o,l=r.alternate,l!==null&&(l.childLanes|=o),l=r,r=r.return;return l.tag===3?l.stateNode:null}var bn=!1;function _l(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ef(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function nn(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function Mn(r,o,l){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(ge&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,tn(r,l)}return g=f.interleaved,g===null?(o.next=o,yl(f)):(o.next=g.next,g.next=o),f.interleaved=o,tn(r,l)}function Xo(r,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var f=o.lanes;f&=r.pendingLanes,l|=f,o.lanes=l,Ma(r,l)}}function wf(r,o){var l=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var x={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?g=y=x:y=y.next=x,l=l.next}while(l!==null);y===null?g=y=o:y=y.next=o}else g=y=o;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,effects:f.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=o:r.next=o,l.lastBaseUpdate=o}function jo(r,o,l,f){var g=r.updateQueue;bn=!1;var y=g.firstBaseUpdate,x=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var C=T,M=C.next;C.next=null,x===null?y=M:x.next=M,x=C;var $=r.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==x&&(T===null?$.firstBaseUpdate=M:T.next=M,$.lastBaseUpdate=C))}if(y!==null){var q=g.baseState;x=0,$=M=C=null,T=y;do{var H=T.lane,X=T.eventTime;if((f&H)===H){$!==null&&($=$.next={eventTime:X,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ee=r,te=T;switch(H=o,X=l,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){q=ee.call(X,q,H);break e}q=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,H=typeof ee=="function"?ee.call(X,q,H):ee,H==null)break e;q=j({},q,H);break e;case 2:bn=!0}}T.callback!==null&&T.lane!==0&&(r.flags|=64,H=g.effects,H===null?g.effects=[T]:H.push(T))}else X={eventTime:X,lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(M=$=X,C=q):$=$.next=X,x|=H;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;H=T,T=H.next,H.next=null,g.lastBaseUpdate=H,g.shared.pending=null}}while(!0);if($===null&&(C=q),g.baseState=C,g.firstBaseUpdate=M,g.lastBaseUpdate=$,o=g.shared.interleaved,o!==null){g=o;do x|=g.lane,g=g.next;while(g!==o)}else y===null&&(g.shared.lanes=0);or|=x,r.lanes=x,r.memoizedState=q}}function xf(r,o,l){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var f=r[o],g=f.callback;if(g!==null){if(f.callback=null,f=l,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var Fi={},Gt=Nn(Fi),Oi=Nn(Fi),Vi=Nn(Fi);function rr(r){if(r===Fi)throw Error(n(174));return r}function El(r,o){switch(Ce(Vi,o),Ce(Oi,r),Ce(Gt,Fi),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:wa(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=wa(o,r)}Ne(Gt),Ce(Gt,o)}function Gr(){Ne(Gt),Ne(Oi),Ne(Vi)}function Sf(r){rr(Vi.current);var o=rr(Gt.current),l=wa(o,r.type);o!==l&&(Ce(Oi,r),Ce(Gt,l))}function wl(r){Oi.current===r&&(Ne(Gt),Ne(Oi))}var Me=Nn(0);function Zo(r){for(var o=r;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var xl=[];function Sl(){for(var r=0;r<xl.length;r++)xl[r]._workInProgressVersionPrimary=null;xl.length=0}var es=F.ReactCurrentDispatcher,Tl=F.ReactCurrentBatchConfig,ir=0,De=null,Ge=null,$e=null,ts=!1,Bi=!1,Gi=0,l_=0;function Xe(){throw Error(n(321))}function Il(r,o){if(o===null)return!1;for(var l=0;l<o.length&&l<r.length;l++)if(!Nt(r[l],o[l]))return!1;return!0}function Cl(r,o,l,f,g,y){if(ir=y,De=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,es.current=r===null||r.memoizedState===null?f_:p_,r=l(f,g),Bi){y=0;do{if(Bi=!1,Gi=0,25<=y)throw Error(n(301));y+=1,$e=Ge=null,o.updateQueue=null,es.current=h_,r=l(f,g)}while(Bi)}if(es.current=is,o=Ge!==null&&Ge.next!==null,ir=0,$e=Ge=De=null,ts=!1,o)throw Error(n(300));return r}function kl(){var r=Gi!==0;return Gi=0,r}function Ht(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?De.memoizedState=$e=r:$e=$e.next=r,$e}function St(){if(Ge===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=Ge.next;var o=$e===null?De.memoizedState:$e.next;if(o!==null)$e=o,Ge=r;else{if(r===null)throw Error(n(310));Ge=r,r={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},$e===null?De.memoizedState=$e=r:$e=$e.next=r}return $e}function Hi(r,o){return typeof o=="function"?o(r):o}function Al(r){var o=St(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var f=Ge,g=f.baseQueue,y=l.pending;if(y!==null){if(g!==null){var x=g.next;g.next=y.next,y.next=x}f.baseQueue=g=y,l.pending=null}if(g!==null){y=g.next,f=f.baseState;var T=x=null,C=null,M=y;do{var $=M.lane;if((ir&$)===$)C!==null&&(C=C.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),f=M.hasEagerState?M.eagerState:r(f,M.action);else{var q={lane:$,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};C===null?(T=C=q,x=f):C=C.next=q,De.lanes|=$,or|=$}M=M.next}while(M!==null&&M!==y);C===null?x=f:C.next=T,Nt(f,o.memoizedState)||(ut=!0),o.memoizedState=f,o.baseState=x,o.baseQueue=C,l.lastRenderedState=f}if(r=l.interleaved,r!==null){g=r;do y=g.lane,De.lanes|=y,or|=y,g=g.next;while(g!==r)}else g===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Nl(r){var o=St(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var f=l.dispatch,g=l.pending,y=o.memoizedState;if(g!==null){l.pending=null;var x=g=g.next;do y=r(y,x.action),x=x.next;while(x!==g);Nt(y,o.memoizedState)||(ut=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,f]}function Tf(){}function If(r,o){var l=De,f=St(),g=o(),y=!Nt(f.memoizedState,g);if(y&&(f.memoizedState=g,ut=!0),f=f.queue,Rl(Af.bind(null,l,f,r),[r]),f.getSnapshot!==o||y||$e!==null&&$e.memoizedState.tag&1){if(l.flags|=2048,$i(9,kf.bind(null,l,f,g,o),void 0,null),qe===null)throw Error(n(349));(ir&30)!==0||Cf(l,o,g)}return g}function Cf(r,o,l){r.flags|=16384,r={getSnapshot:o,value:l},o=De.updateQueue,o===null?(o={lastEffect:null,stores:null},De.updateQueue=o,o.stores=[r]):(l=o.stores,l===null?o.stores=[r]:l.push(r))}function kf(r,o,l,f){o.value=l,o.getSnapshot=f,Nf(o)&&Rf(r)}function Af(r,o,l){return l(function(){Nf(o)&&Rf(r)})}function Nf(r){var o=r.getSnapshot;r=r.value;try{var l=o();return!Nt(r,l)}catch{return!0}}function Rf(r){var o=tn(r,1);o!==null&&Dt(o,r,1,-1)}function Pf(r){var o=Ht();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:r},o.queue=r,r=r.dispatch=d_.bind(null,De,r),[o.memoizedState,r]}function $i(r,o,l,f){return r={tag:r,create:o,destroy:l,deps:f,next:null},o=De.updateQueue,o===null?(o={lastEffect:null,stores:null},De.updateQueue=o,o.lastEffect=r.next=r):(l=o.lastEffect,l===null?o.lastEffect=r.next=r:(f=l.next,l.next=r,r.next=f,o.lastEffect=r)),r}function bf(){return St().memoizedState}function ns(r,o,l,f){var g=Ht();De.flags|=r,g.memoizedState=$i(1|o,l,void 0,f===void 0?null:f)}function rs(r,o,l,f){var g=St();f=f===void 0?null:f;var y=void 0;if(Ge!==null){var x=Ge.memoizedState;if(y=x.destroy,f!==null&&Il(f,x.deps)){g.memoizedState=$i(o,l,y,f);return}}De.flags|=r,g.memoizedState=$i(1|o,l,y,f)}function Mf(r,o){return ns(8390656,8,r,o)}function Rl(r,o){return rs(2048,8,r,o)}function Df(r,o){return rs(4,2,r,o)}function Lf(r,o){return rs(4,4,r,o)}function Uf(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Ff(r,o,l){return l=l!=null?l.concat([r]):null,rs(4,4,Uf.bind(null,o,r),l)}function Pl(){}function Of(r,o){var l=St();o=o===void 0?null:o;var f=l.memoizedState;return f!==null&&o!==null&&Il(o,f[1])?f[0]:(l.memoizedState=[r,o],r)}function Vf(r,o){var l=St();o=o===void 0?null:o;var f=l.memoizedState;return f!==null&&o!==null&&Il(o,f[1])?f[0]:(r=r(),l.memoizedState=[r,o],r)}function Bf(r,o,l){return(ir&21)===0?(r.baseState&&(r.baseState=!1,ut=!0),r.memoizedState=l):(Nt(l,o)||(l=md(),De.lanes|=l,or|=l,r.baseState=!0),o)}function u_(r,o){var l=we;we=l!==0&&4>l?l:4,r(!0);var f=Tl.transition;Tl.transition={};try{r(!1),o()}finally{we=l,Tl.transition=f}}function Gf(){return St().memoizedState}function c_(r,o,l){var f=Fn(r);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},Hf(r))$f(o,l);else if(l=_f(r,o,l,f),l!==null){var g=rt();Dt(l,r,f,g),qf(l,o,f)}}function d_(r,o,l){var f=Fn(r),g={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hf(r))$f(o,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var x=o.lastRenderedState,T=y(x,l);if(g.hasEagerState=!0,g.eagerState=T,Nt(T,x)){var C=o.interleaved;C===null?(g.next=g,yl(o)):(g.next=C.next,C.next=g),o.interleaved=g;return}}catch{}l=_f(r,o,g,f),l!==null&&(g=rt(),Dt(l,r,f,g),qf(l,o,f))}}function Hf(r){var o=r.alternate;return r===De||o!==null&&o===De}function $f(r,o){Bi=ts=!0;var l=r.pending;l===null?o.next=o:(o.next=l.next,l.next=o),r.pending=o}function qf(r,o,l){if((l&4194240)!==0){var f=o.lanes;f&=r.pendingLanes,l|=f,o.lanes=l,Ma(r,l)}}var is={readContext:xt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},f_={readContext:xt,useCallback:function(r,o){return Ht().memoizedState=[r,o===void 0?null:o],r},useContext:xt,useEffect:Mf,useImperativeHandle:function(r,o,l){return l=l!=null?l.concat([r]):null,ns(4194308,4,Uf.bind(null,o,r),l)},useLayoutEffect:function(r,o){return ns(4194308,4,r,o)},useInsertionEffect:function(r,o){return ns(4,2,r,o)},useMemo:function(r,o){var l=Ht();return o=o===void 0?null:o,r=r(),l.memoizedState=[r,o],r},useReducer:function(r,o,l){var f=Ht();return o=l!==void 0?l(o):o,f.memoizedState=f.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},f.queue=r,r=r.dispatch=c_.bind(null,De,r),[f.memoizedState,r]},useRef:function(r){var o=Ht();return r={current:r},o.memoizedState=r},useState:Pf,useDebugValue:Pl,useDeferredValue:function(r){return Ht().memoizedState=r},useTransition:function(){var r=Pf(!1),o=r[0];return r=u_.bind(null,r[1]),Ht().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,l){var f=De,g=Ht();if(be){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),qe===null)throw Error(n(349));(ir&30)!==0||Cf(f,o,l)}g.memoizedState=l;var y={value:l,getSnapshot:o};return g.queue=y,Mf(Af.bind(null,f,y,r),[r]),f.flags|=2048,$i(9,kf.bind(null,f,y,l,o),void 0,null),l},useId:function(){var r=Ht(),o=qe.identifierPrefix;if(be){var l=en,f=Zt;l=(f&~(1<<32-At(f)-1)).toString(32)+l,o=":"+o+"R"+l,l=Gi++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=l_++,o=":"+o+"r"+l.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},p_={readContext:xt,useCallback:Of,useContext:xt,useEffect:Rl,useImperativeHandle:Ff,useInsertionEffect:Df,useLayoutEffect:Lf,useMemo:Vf,useReducer:Al,useRef:bf,useState:function(){return Al(Hi)},useDebugValue:Pl,useDeferredValue:function(r){var o=St();return Bf(o,Ge.memoizedState,r)},useTransition:function(){var r=Al(Hi)[0],o=St().memoizedState;return[r,o]},useMutableSource:Tf,useSyncExternalStore:If,useId:Gf,unstable_isNewReconciler:!1},h_={readContext:xt,useCallback:Of,useContext:xt,useEffect:Rl,useImperativeHandle:Ff,useInsertionEffect:Df,useLayoutEffect:Lf,useMemo:Vf,useReducer:Nl,useRef:bf,useState:function(){return Nl(Hi)},useDebugValue:Pl,useDeferredValue:function(r){var o=St();return Ge===null?o.memoizedState=r:Bf(o,Ge.memoizedState,r)},useTransition:function(){var r=Nl(Hi)[0],o=St().memoizedState;return[r,o]},useMutableSource:Tf,useSyncExternalStore:If,useId:Gf,unstable_isNewReconciler:!1};function Pt(r,o){if(r&&r.defaultProps){o=j({},o),r=r.defaultProps;for(var l in r)o[l]===void 0&&(o[l]=r[l]);return o}return o}function bl(r,o,l,f){o=r.memoizedState,l=l(f,o),l=l==null?o:j({},o,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var os={isMounted:function(r){return(r=r._reactInternals)?Xn(r)===r:!1},enqueueSetState:function(r,o,l){r=r._reactInternals;var f=rt(),g=Fn(r),y=nn(f,g);y.payload=o,l!=null&&(y.callback=l),o=Mn(r,y,g),o!==null&&(Dt(o,r,g,f),Xo(o,r,g))},enqueueReplaceState:function(r,o,l){r=r._reactInternals;var f=rt(),g=Fn(r),y=nn(f,g);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=Mn(r,y,g),o!==null&&(Dt(o,r,g,f),Xo(o,r,g))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var l=rt(),f=Fn(r),g=nn(l,f);g.tag=2,o!=null&&(g.callback=o),o=Mn(r,g,f),o!==null&&(Dt(o,r,f,l),Xo(o,r,f))}};function zf(r,o,l,f,g,y,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,x):o.prototype&&o.prototype.isPureReactComponent?!Ni(l,f)||!Ni(g,y):!0}function Wf(r,o,l){var f=!1,g=Rn,y=o.contextType;return typeof y=="object"&&y!==null?y=xt(y):(g=lt(o)?Zn:Qe.current,f=o.contextTypes,y=(f=f!=null)?Dr(r,g):Rn),o=new o(l,y),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=os,r.stateNode=o,o._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=y),o}function Jf(r,o,l,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==r&&os.enqueueReplaceState(o,o.state,null)}function Ml(r,o,l,f){var g=r.stateNode;g.props=l,g.state=r.memoizedState,g.refs={},_l(r);var y=o.contextType;typeof y=="object"&&y!==null?g.context=xt(y):(y=lt(o)?Zn:Qe.current,g.context=Dr(r,y)),g.state=r.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(bl(r,o,y,l),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&os.enqueueReplaceState(g,g.state,null),jo(r,l,g,f),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function Hr(r,o){try{var l="",f=o;do l+=me(f),f=f.return;while(f);var g=l}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:o,stack:g,digest:null}}function Dl(r,o,l){return{value:r,source:null,stack:l??null,digest:o??null}}function Ll(r,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var m_=typeof WeakMap=="function"?WeakMap:Map;function Kf(r,o,l){l=nn(-1,l),l.tag=3,l.payload={element:null};var f=o.value;return l.callback=function(){fs||(fs=!0,Ql=f),Ll(r,o)},l}function Yf(r,o,l){l=nn(-1,l),l.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;l.payload=function(){return f(g)},l.callback=function(){Ll(r,o)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Ll(r,o),typeof f!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})}),l}function Qf(r,o,l){var f=r.pingCache;if(f===null){f=r.pingCache=new m_;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(l)||(g.add(l),r=N_.bind(null,r,o,l),o.then(r,r))}function Xf(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function jf(r,o,l,f,g){return(r.mode&1)===0?(r===o?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=nn(-1,1),o.tag=2,Mn(l,o,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var g_=F.ReactCurrentOwner,ut=!1;function nt(r,o,l,f){o.child=r===null?yf(o,null,l,f):Or(o,r.child,l,f)}function Zf(r,o,l,f,g){l=l.render;var y=o.ref;return Br(o,g),f=Cl(r,o,l,f,y,g),l=kl(),r!==null&&!ut?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~g,rn(r,o,g)):(be&&l&&ul(o),o.flags|=1,nt(r,o,f,g),o.child)}function ep(r,o,l,f,g){if(r===null){var y=l.type;return typeof y=="function"&&!ru(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,tp(r,o,y,f,g)):(r=ys(l.type,null,f,o,o.mode,g),r.ref=o.ref,r.return=o,o.child=r)}if(y=r.child,(r.lanes&g)===0){var x=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ni,l(x,f)&&r.ref===o.ref)return rn(r,o,g)}return o.flags|=1,r=Vn(y,f),r.ref=o.ref,r.return=o,o.child=r}function tp(r,o,l,f,g){if(r!==null){var y=r.memoizedProps;if(Ni(y,f)&&r.ref===o.ref)if(ut=!1,o.pendingProps=f=y,(r.lanes&g)!==0)(r.flags&131072)!==0&&(ut=!0);else return o.lanes=r.lanes,rn(r,o,g)}return Ul(r,o,l,f,g)}function np(r,o,l){var f=o.pendingProps,g=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(qr,yt),yt|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,Ce(qr,yt),yt|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:l,Ce(qr,yt),yt|=f}else y!==null?(f=y.baseLanes|l,o.memoizedState=null):f=l,Ce(qr,yt),yt|=f;return nt(r,o,g,l),o.child}function rp(r,o){var l=o.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Ul(r,o,l,f,g){var y=lt(l)?Zn:Qe.current;return y=Dr(o,y),Br(o,g),l=Cl(r,o,l,f,y,g),f=kl(),r!==null&&!ut?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~g,rn(r,o,g)):(be&&f&&ul(o),o.flags|=1,nt(r,o,l,g),o.child)}function ip(r,o,l,f,g){if(lt(l)){var y=!0;$o(o)}else y=!1;if(Br(o,g),o.stateNode===null)as(r,o),Wf(o,l,f),Ml(o,l,f,g),f=!0;else if(r===null){var x=o.stateNode,T=o.memoizedProps;x.props=T;var C=x.context,M=l.contextType;typeof M=="object"&&M!==null?M=xt(M):(M=lt(l)?Zn:Qe.current,M=Dr(o,M));var $=l.getDerivedStateFromProps,q=typeof $=="function"||typeof x.getSnapshotBeforeUpdate=="function";q||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==f||C!==M)&&Jf(o,x,f,M),bn=!1;var H=o.memoizedState;x.state=H,jo(o,f,x,g),C=o.memoizedState,T!==f||H!==C||at.current||bn?(typeof $=="function"&&(bl(o,l,$,f),C=o.memoizedState),(T=bn||zf(o,l,T,f,H,C,M))?(q||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=C),x.props=f,x.state=C,x.context=M,f=T):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{x=o.stateNode,Ef(r,o),T=o.memoizedProps,M=o.type===o.elementType?T:Pt(o.type,T),x.props=M,q=o.pendingProps,H=x.context,C=l.contextType,typeof C=="object"&&C!==null?C=xt(C):(C=lt(l)?Zn:Qe.current,C=Dr(o,C));var X=l.getDerivedStateFromProps;($=typeof X=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==q||H!==C)&&Jf(o,x,f,C),bn=!1,H=o.memoizedState,x.state=H,jo(o,f,x,g);var ee=o.memoizedState;T!==q||H!==ee||at.current||bn?(typeof X=="function"&&(bl(o,l,X,f),ee=o.memoizedState),(M=bn||zf(o,l,M,f,H,ee,C)||!1)?($||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,ee,C),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,ee,C)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ee),x.props=f,x.state=ee,x.context=C,f=M):(typeof x.componentDidUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(o.flags|=1024),f=!1)}return Fl(r,o,l,f,y,g)}function Fl(r,o,l,f,g,y){rp(r,o);var x=(o.flags&128)!==0;if(!f&&!x)return g&&uf(o,l,!1),rn(r,o,y);f=o.stateNode,g_.current=o;var T=x&&typeof l.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,r!==null&&x?(o.child=Or(o,r.child,null,y),o.child=Or(o,null,T,y)):nt(r,o,T,y),o.memoizedState=f.state,g&&uf(o,l,!0),o.child}function op(r){var o=r.stateNode;o.pendingContext?af(r,o.pendingContext,o.pendingContext!==o.context):o.context&&af(r,o.context,!1),El(r,o.containerInfo)}function sp(r,o,l,f,g){return Fr(),pl(g),o.flags|=256,nt(r,o,l,f),o.child}var Ol={dehydrated:null,treeContext:null,retryLane:0};function Vl(r){return{baseLanes:r,cachePool:null,transitions:null}}function ap(r,o,l){var f=o.pendingProps,g=Me.current,y=!1,x=(o.flags&128)!==0,T;if((T=x)||(T=r!==null&&r.memoizedState===null?!1:(g&2)!==0),T?(y=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),Ce(Me,g&1),r===null)return fl(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((o.mode&1)===0?o.lanes=1:r.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(x=f.children,r=f.fallback,y?(f=o.mode,y=o.child,x={mode:"hidden",children:x},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=x):y=_s(x,f,0,null),r=ur(r,f,l,null),y.return=o,r.return=o,y.sibling=r,o.child=y,o.child.memoizedState=Vl(l),o.memoizedState=Ol,r):Bl(o,x));if(g=r.memoizedState,g!==null&&(T=g.dehydrated,T!==null))return v_(r,o,x,f,T,g,l);if(y){y=f.fallback,x=o.mode,g=r.child,T=g.sibling;var C={mode:"hidden",children:f.children};return(x&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=C,o.deletions=null):(f=Vn(g,C),f.subtreeFlags=g.subtreeFlags&14680064),T!==null?y=Vn(T,y):(y=ur(y,x,l,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,x=r.child.memoizedState,x=x===null?Vl(l):{baseLanes:x.baseLanes|l,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=r.childLanes&~l,o.memoizedState=Ol,f}return y=r.child,r=y.sibling,f=Vn(y,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=l),f.return=o,f.sibling=null,r!==null&&(l=o.deletions,l===null?(o.deletions=[r],o.flags|=16):l.push(r)),o.child=f,o.memoizedState=null,f}function Bl(r,o){return o=_s({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function ss(r,o,l,f){return f!==null&&pl(f),Or(o,r.child,null,l),r=Bl(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function v_(r,o,l,f,g,y,x){if(l)return o.flags&256?(o.flags&=-257,f=Dl(Error(n(422))),ss(r,o,x,f)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(y=f.fallback,g=o.mode,f=_s({mode:"visible",children:f.children},g,0,null),y=ur(y,g,x,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,(o.mode&1)!==0&&Or(o,r.child,null,x),o.child.memoizedState=Vl(x),o.memoizedState=Ol,y);if((o.mode&1)===0)return ss(r,o,x,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var T=f.dgst;return f=T,y=Error(n(419)),f=Dl(y,f,void 0),ss(r,o,x,f)}if(T=(x&r.childLanes)!==0,ut||T){if(f=qe,f!==null){switch(x&-x){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|x))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,tn(r,g),Dt(f,r,g,-1))}return nu(),f=Dl(Error(n(421))),ss(r,o,x,f)}return g.data==="$?"?(o.flags|=128,o.child=r.child,o=R_.bind(null,r),g._reactRetry=o,null):(r=y.treeContext,vt=An(g.nextSibling),gt=o,be=!0,Rt=null,r!==null&&(Et[wt++]=Zt,Et[wt++]=en,Et[wt++]=er,Zt=r.id,en=r.overflow,er=o),o=Bl(o,f.children),o.flags|=4096,o)}function lp(r,o,l){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),vl(r.return,o,l)}function Gl(r,o,l,f,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=l,y.tailMode=g)}function up(r,o,l){var f=o.pendingProps,g=f.revealOrder,y=f.tail;if(nt(r,o,f.children,l),f=Me.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&lp(r,l,o);else if(r.tag===19)lp(r,l,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Ce(Me,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(l=o.child,g=null;l!==null;)r=l.alternate,r!==null&&Zo(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),Gl(o,!1,g,l,y);break;case"backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(r=g.alternate,r!==null&&Zo(r)===null){o.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}Gl(o,!0,l,null,y);break;case"together":Gl(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function as(r,o){(o.mode&1)===0&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function rn(r,o,l){if(r!==null&&(o.dependencies=r.dependencies),or|=o.lanes,(l&o.childLanes)===0)return null;if(r!==null&&o.child!==r.child)throw Error(n(153));if(o.child!==null){for(r=o.child,l=Vn(r,r.pendingProps),o.child=l,l.return=o;r.sibling!==null;)r=r.sibling,l=l.sibling=Vn(r,r.pendingProps),l.return=o;l.sibling=null}return o.child}function y_(r,o,l){switch(o.tag){case 3:op(o),Fr();break;case 5:Sf(o);break;case 1:lt(o.type)&&$o(o);break;case 4:El(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;Ce(Yo,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Ce(Me,Me.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?ap(r,o,l):(Ce(Me,Me.current&1),r=rn(r,o,l),r!==null?r.sibling:null);Ce(Me,Me.current&1);break;case 19:if(f=(l&o.childLanes)!==0,(r.flags&128)!==0){if(f)return up(r,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ce(Me,Me.current),f)break;return null;case 22:case 23:return o.lanes=0,np(r,o,l)}return rn(r,o,l)}var cp,Hl,dp,fp;cp=function(r,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Hl=function(){},dp=function(r,o,l,f){var g=r.memoizedProps;if(g!==f){r=o.stateNode,rr(Gt.current);var y=null;switch(l){case"input":g=va(r,g),f=va(r,f),y=[];break;case"select":g=j({},g,{value:void 0}),f=j({},f,{value:void 0}),y=[];break;case"textarea":g=Ea(r,g),f=Ea(r,f),y=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Bo)}xa(l,f);var x;l=null;for(M in g)if(!f.hasOwnProperty(M)&&g.hasOwnProperty(M)&&g[M]!=null)if(M==="style"){var T=g[M];for(x in T)T.hasOwnProperty(x)&&(l||(l={}),l[x]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(s.hasOwnProperty(M)?y||(y=[]):(y=y||[]).push(M,null));for(M in f){var C=f[M];if(T=g?.[M],f.hasOwnProperty(M)&&C!==T&&(C!=null||T!=null))if(M==="style")if(T){for(x in T)!T.hasOwnProperty(x)||C&&C.hasOwnProperty(x)||(l||(l={}),l[x]="");for(x in C)C.hasOwnProperty(x)&&T[x]!==C[x]&&(l||(l={}),l[x]=C[x])}else l||(y||(y=[]),y.push(M,l)),l=C;else M==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,T=T?T.__html:void 0,C!=null&&T!==C&&(y=y||[]).push(M,C)):M==="children"?typeof C!="string"&&typeof C!="number"||(y=y||[]).push(M,""+C):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(s.hasOwnProperty(M)?(C!=null&&M==="onScroll"&&Ae("scroll",r),y||T===C||(y=[])):(y=y||[]).push(M,C))}l&&(y=y||[]).push("style",l);var M=y;(o.updateQueue=M)&&(o.flags|=4)}},fp=function(r,o,l,f){l!==f&&(o.flags|=4)};function qi(r,o){if(!be)switch(r.tailMode){case"hidden":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function je(r){var o=r.alternate!==null&&r.alternate.child===r.child,l=0,f=0;if(o)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=l,o}function __(r,o,l){var f=o.pendingProps;switch(cl(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(o),null;case 1:return lt(o.type)&&Ho(),je(o),null;case 3:return f=o.stateNode,Gr(),Ne(at),Ne(Qe),Sl(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Jo(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Rt!==null&&(Zl(Rt),Rt=null))),Hl(r,o),je(o),null;case 5:wl(o);var g=rr(Vi.current);if(l=o.type,r!==null&&o.stateNode!=null)dp(r,o,l,f,g),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return je(o),null}if(r=rr(Gt.current),Jo(o)){f=o.stateNode,l=o.type;var y=o.memoizedProps;switch(f[Bt]=o,f[Di]=y,r=(o.mode&1)!==0,l){case"dialog":Ae("cancel",f),Ae("close",f);break;case"iframe":case"object":case"embed":Ae("load",f);break;case"video":case"audio":for(g=0;g<Pi.length;g++)Ae(Pi[g],f);break;case"source":Ae("error",f);break;case"img":case"image":case"link":Ae("error",f),Ae("load",f);break;case"details":Ae("toggle",f);break;case"input":zc(f,y),Ae("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Ae("invalid",f);break;case"textarea":Kc(f,y),Ae("invalid",f)}xa(l,y),g=null;for(var x in y)if(y.hasOwnProperty(x)){var T=y[x];x==="children"?typeof T=="string"?f.textContent!==T&&(y.suppressHydrationWarning!==!0&&Vo(f.textContent,T,r),g=["children",T]):typeof T=="number"&&f.textContent!==""+T&&(y.suppressHydrationWarning!==!0&&Vo(f.textContent,T,r),g=["children",""+T]):s.hasOwnProperty(x)&&T!=null&&x==="onScroll"&&Ae("scroll",f)}switch(l){case"input":go(f),Jc(f,y,!0);break;case"textarea":go(f),Qc(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Bo)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{x=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Xc(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=x.createElement(l,{is:f.is}):(r=x.createElement(l),l==="select"&&(x=r,f.multiple?x.multiple=!0:f.size&&(x.size=f.size))):r=x.createElementNS(r,l),r[Bt]=o,r[Di]=f,cp(r,o,!1,!1),o.stateNode=r;e:{switch(x=Sa(l,f),l){case"dialog":Ae("cancel",r),Ae("close",r),g=f;break;case"iframe":case"object":case"embed":Ae("load",r),g=f;break;case"video":case"audio":for(g=0;g<Pi.length;g++)Ae(Pi[g],r);g=f;break;case"source":Ae("error",r),g=f;break;case"img":case"image":case"link":Ae("error",r),Ae("load",r),g=f;break;case"details":Ae("toggle",r),g=f;break;case"input":zc(r,f),g=va(r,f),Ae("invalid",r);break;case"option":g=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},g=j({},f,{value:void 0}),Ae("invalid",r);break;case"textarea":Kc(r,f),g=Ea(r,f),Ae("invalid",r);break;default:g=f}xa(l,g),T=g;for(y in T)if(T.hasOwnProperty(y)){var C=T[y];y==="style"?ed(r,C):y==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&jc(r,C)):y==="children"?typeof C=="string"?(l!=="textarea"||C!=="")&&fi(r,C):typeof C=="number"&&fi(r,""+C):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?C!=null&&y==="onScroll"&&Ae("scroll",r):C!=null&&D(r,y,C,x))}switch(l){case"input":go(r),Jc(r,f,!1);break;case"textarea":go(r),Qc(r);break;case"option":f.value!=null&&r.setAttribute("value",""+Ee(f.value));break;case"select":r.multiple=!!f.multiple,y=f.value,y!=null?xr(r,!!f.multiple,y,!1):f.defaultValue!=null&&xr(r,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=Bo)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return je(o),null;case 6:if(r&&o.stateNode!=null)fp(r,o,r.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(l=rr(Vi.current),rr(Gt.current),Jo(o)){if(f=o.stateNode,l=o.memoizedProps,f[Bt]=o,(y=f.nodeValue!==l)&&(r=gt,r!==null))switch(r.tag){case 3:Vo(f.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Vo(f.nodeValue,l,(r.mode&1)!==0)}y&&(o.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[Bt]=o,o.stateNode=f}return je(o),null;case 13:if(Ne(Me),f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(be&&vt!==null&&(o.mode&1)!==0&&(o.flags&128)===0)mf(),Fr(),o.flags|=98560,y=!1;else if(y=Jo(o),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Bt]=o}else Fr(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;je(o),y=!1}else Rt!==null&&(Zl(Rt),Rt=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(r===null||(Me.current&1)!==0?He===0&&(He=3):nu())),o.updateQueue!==null&&(o.flags|=4),je(o),null);case 4:return Gr(),Hl(r,o),r===null&&bi(o.stateNode.containerInfo),je(o),null;case 10:return gl(o.type._context),je(o),null;case 17:return lt(o.type)&&Ho(),je(o),null;case 19:if(Ne(Me),y=o.memoizedState,y===null)return je(o),null;if(f=(o.flags&128)!==0,x=y.rendering,x===null)if(f)qi(y,!1);else{if(He!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(x=Zo(r),x!==null){for(o.flags|=128,qi(y,!1),f=x.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=l,l=o.child;l!==null;)y=l,r=f,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,r=x.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ce(Me,Me.current&1|2),o.child}r=r.sibling}y.tail!==null&&Fe()>zr&&(o.flags|=128,f=!0,qi(y,!1),o.lanes=4194304)}else{if(!f)if(r=Zo(x),r!==null){if(o.flags|=128,f=!0,l=r.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),qi(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!be)return je(o),null}else 2*Fe()-y.renderingStartTime>zr&&l!==1073741824&&(o.flags|=128,f=!0,qi(y,!1),o.lanes=4194304);y.isBackwards?(x.sibling=o.child,o.child=x):(l=y.last,l!==null?l.sibling=x:o.child=x,y.last=x)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Fe(),o.sibling=null,l=Me.current,Ce(Me,f?l&1|2:l&1),o):(je(o),null);case 22:case 23:return tu(),f=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(yt&1073741824)!==0&&(je(o),o.subtreeFlags&6&&(o.flags|=8192)):je(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function E_(r,o){switch(cl(o),o.tag){case 1:return lt(o.type)&&Ho(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Gr(),Ne(at),Ne(Qe),Sl(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 5:return wl(o),null;case 13:if(Ne(Me),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Fr()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return Ne(Me),null;case 4:return Gr(),null;case 10:return gl(o.type._context),null;case 22:case 23:return tu(),null;case 24:return null;default:return null}}var ls=!1,Ze=!1,w_=typeof WeakSet=="function"?WeakSet:Set,Z=null;function $r(r,o){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){Ue(r,o,f)}else l.current=null}function $l(r,o,l){try{l()}catch(f){Ue(r,o,f)}}var pp=!1;function x_(r,o){if(tl=Ao,r=qd(),Ja(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var x=0,T=-1,C=-1,M=0,$=0,q=r,H=null;t:for(;;){for(var X;q!==l||g!==0&&q.nodeType!==3||(T=x+g),q!==y||f!==0&&q.nodeType!==3||(C=x+f),q.nodeType===3&&(x+=q.nodeValue.length),(X=q.firstChild)!==null;)H=q,q=X;for(;;){if(q===r)break t;if(H===l&&++M===g&&(T=x),H===y&&++$===f&&(C=x),(X=q.nextSibling)!==null)break;q=H,H=q.parentNode}q=X}l=T===-1||C===-1?null:{start:T,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(nl={focusedElem:r,selectionRange:l},Ao=!1,Z=o;Z!==null;)if(o=Z,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,Z=r;else for(;Z!==null;){o=Z;try{var ee=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,Oe=ee.memoizedState,P=o.stateNode,k=P.getSnapshotBeforeUpdate(o.elementType===o.type?te:Pt(o.type,te),Oe);P.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=o.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(W){Ue(o,o.return,W)}if(r=o.sibling,r!==null){r.return=o.return,Z=r;break}Z=o.return}return ee=pp,pp=!1,ee}function zi(r,o,l){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&r)===r){var y=g.destroy;g.destroy=void 0,y!==void 0&&$l(o,l,y)}g=g.next}while(g!==f)}}function us(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&r)===r){var f=l.create;l.destroy=f()}l=l.next}while(l!==o)}}function ql(r){var o=r.ref;if(o!==null){var l=r.stateNode;r.tag,r=l,typeof o=="function"?o(r):o.current=r}}function hp(r){var o=r.alternate;o!==null&&(r.alternate=null,hp(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[Bt],delete o[Di],delete o[sl],delete o[i_],delete o[o_])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function mp(r){return r.tag===5||r.tag===3||r.tag===4}function gp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||mp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function zl(r,o,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(r,o):l.insertBefore(r,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(r,l)):(o=l,o.appendChild(r)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Bo));else if(f!==4&&(r=r.child,r!==null))for(zl(r,o,l),r=r.sibling;r!==null;)zl(r,o,l),r=r.sibling}function Wl(r,o,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?l.insertBefore(r,o):l.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(Wl(r,o,l),r=r.sibling;r!==null;)Wl(r,o,l),r=r.sibling}var Ke=null,bt=!1;function Dn(r,o,l){for(l=l.child;l!==null;)vp(r,o,l),l=l.sibling}function vp(r,o,l){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(xo,l)}catch{}switch(l.tag){case 5:Ze||$r(l,o);case 6:var f=Ke,g=bt;Ke=null,Dn(r,o,l),Ke=f,bt=g,Ke!==null&&(bt?(r=Ke,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ke.removeChild(l.stateNode));break;case 18:Ke!==null&&(bt?(r=Ke,l=l.stateNode,r.nodeType===8?ol(r.parentNode,l):r.nodeType===1&&ol(r,l),Si(r)):ol(Ke,l.stateNode));break;case 4:f=Ke,g=bt,Ke=l.stateNode.containerInfo,bt=!0,Dn(r,o,l),Ke=f,bt=g;break;case 0:case 11:case 14:case 15:if(!Ze&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var y=g,x=y.destroy;y=y.tag,x!==void 0&&((y&2)!==0||(y&4)!==0)&&$l(l,o,x),g=g.next}while(g!==f)}Dn(r,o,l);break;case 1:if(!Ze&&($r(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(T){Ue(l,o,T)}Dn(r,o,l);break;case 21:Dn(r,o,l);break;case 22:l.mode&1?(Ze=(f=Ze)||l.memoizedState!==null,Dn(r,o,l),Ze=f):Dn(r,o,l);break;default:Dn(r,o,l)}}function yp(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new w_),o.forEach(function(f){var g=P_.bind(null,r,f);l.has(f)||(l.add(f),f.then(g,g))})}}function Mt(r,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];try{var y=r,x=o,T=x;e:for(;T!==null;){switch(T.tag){case 5:Ke=T.stateNode,bt=!1;break e;case 3:Ke=T.stateNode.containerInfo,bt=!0;break e;case 4:Ke=T.stateNode.containerInfo,bt=!0;break e}T=T.return}if(Ke===null)throw Error(n(160));vp(y,x,g),Ke=null,bt=!1;var C=g.alternate;C!==null&&(C.return=null),g.return=null}catch(M){Ue(g,o,M)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)_p(o,r),o=o.sibling}function _p(r,o){var l=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Mt(o,r),$t(r),f&4){try{zi(3,r,r.return),us(3,r)}catch(te){Ue(r,r.return,te)}try{zi(5,r,r.return)}catch(te){Ue(r,r.return,te)}}break;case 1:Mt(o,r),$t(r),f&512&&l!==null&&$r(l,l.return);break;case 5:if(Mt(o,r),$t(r),f&512&&l!==null&&$r(l,l.return),r.flags&32){var g=r.stateNode;try{fi(g,"")}catch(te){Ue(r,r.return,te)}}if(f&4&&(g=r.stateNode,g!=null)){var y=r.memoizedProps,x=l!==null?l.memoizedProps:y,T=r.type,C=r.updateQueue;if(r.updateQueue=null,C!==null)try{T==="input"&&y.type==="radio"&&y.name!=null&&Wc(g,y),Sa(T,x);var M=Sa(T,y);for(x=0;x<C.length;x+=2){var $=C[x],q=C[x+1];$==="style"?ed(g,q):$==="dangerouslySetInnerHTML"?jc(g,q):$==="children"?fi(g,q):D(g,$,q,M)}switch(T){case"input":ya(g,y);break;case"textarea":Yc(g,y);break;case"select":var H=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var X=y.value;X!=null?xr(g,!!y.multiple,X,!1):H!==!!y.multiple&&(y.defaultValue!=null?xr(g,!!y.multiple,y.defaultValue,!0):xr(g,!!y.multiple,y.multiple?[]:"",!1))}g[Di]=y}catch(te){Ue(r,r.return,te)}}break;case 6:if(Mt(o,r),$t(r),f&4){if(r.stateNode===null)throw Error(n(162));g=r.stateNode,y=r.memoizedProps;try{g.nodeValue=y}catch(te){Ue(r,r.return,te)}}break;case 3:if(Mt(o,r),$t(r),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Si(o.containerInfo)}catch(te){Ue(r,r.return,te)}break;case 4:Mt(o,r),$t(r);break;case 13:Mt(o,r),$t(r),g=r.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(Yl=Fe())),f&4&&yp(r);break;case 22:if($=l!==null&&l.memoizedState!==null,r.mode&1?(Ze=(M=Ze)||$,Mt(o,r),Ze=M):Mt(o,r),$t(r),f&8192){if(M=r.memoizedState!==null,(r.stateNode.isHidden=M)&&!$&&(r.mode&1)!==0)for(Z=r,$=r.child;$!==null;){for(q=Z=$;Z!==null;){switch(H=Z,X=H.child,H.tag){case 0:case 11:case 14:case 15:zi(4,H,H.return);break;case 1:$r(H,H.return);var ee=H.stateNode;if(typeof ee.componentWillUnmount=="function"){f=H,l=H.return;try{o=f,ee.props=o.memoizedProps,ee.state=o.memoizedState,ee.componentWillUnmount()}catch(te){Ue(f,l,te)}}break;case 5:$r(H,H.return);break;case 22:if(H.memoizedState!==null){xp(q);continue}}X!==null?(X.return=H,Z=X):xp(q)}$=$.sibling}e:for($=null,q=r;;){if(q.tag===5){if($===null){$=q;try{g=q.stateNode,M?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(T=q.stateNode,C=q.memoizedProps.style,x=C!=null&&C.hasOwnProperty("display")?C.display:null,T.style.display=Zc("display",x))}catch(te){Ue(r,r.return,te)}}}else if(q.tag===6){if($===null)try{q.stateNode.nodeValue=M?"":q.memoizedProps}catch(te){Ue(r,r.return,te)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===r)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===r)break e;for(;q.sibling===null;){if(q.return===null||q.return===r)break e;$===q&&($=null),q=q.return}$===q&&($=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:Mt(o,r),$t(r),f&4&&yp(r);break;case 21:break;default:Mt(o,r),$t(r)}}function $t(r){var o=r.flags;if(o&2){try{e:{for(var l=r.return;l!==null;){if(mp(l)){var f=l;break e}l=l.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(fi(g,""),f.flags&=-33);var y=gp(r);Wl(r,y,g);break;case 3:case 4:var x=f.stateNode.containerInfo,T=gp(r);zl(r,T,x);break;default:throw Error(n(161))}}catch(C){Ue(r,r.return,C)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function S_(r,o,l){Z=r,Ep(r)}function Ep(r,o,l){for(var f=(r.mode&1)!==0;Z!==null;){var g=Z,y=g.child;if(g.tag===22&&f){var x=g.memoizedState!==null||ls;if(!x){var T=g.alternate,C=T!==null&&T.memoizedState!==null||Ze;T=ls;var M=Ze;if(ls=x,(Ze=C)&&!M)for(Z=g;Z!==null;)x=Z,C=x.child,x.tag===22&&x.memoizedState!==null?Sp(g):C!==null?(C.return=x,Z=C):Sp(g);for(;y!==null;)Z=y,Ep(y),y=y.sibling;Z=g,ls=T,Ze=M}wp(r)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,Z=y):wp(r)}}function wp(r){for(;Z!==null;){var o=Z;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ze||us(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Ze)if(l===null)f.componentDidMount();else{var g=o.elementType===o.type?l.memoizedProps:Pt(o.type,l.memoizedProps);f.componentDidUpdate(g,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&xf(o,y,f);break;case 3:var x=o.updateQueue;if(x!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}xf(o,x,l)}break;case 5:var T=o.stateNode;if(l===null&&o.flags&4){l=T;var C=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&l.focus();break;case"img":C.src&&(l.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var M=o.alternate;if(M!==null){var $=M.memoizedState;if($!==null){var q=$.dehydrated;q!==null&&Si(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ze||o.flags&512&&ql(o)}catch(H){Ue(o,o.return,H)}}if(o===r){Z=null;break}if(l=o.sibling,l!==null){l.return=o.return,Z=l;break}Z=o.return}}function xp(r){for(;Z!==null;){var o=Z;if(o===r){Z=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Z=l;break}Z=o.return}}function Sp(r){for(;Z!==null;){var o=Z;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{us(4,o)}catch(C){Ue(o,l,C)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(C){Ue(o,g,C)}}var y=o.return;try{ql(o)}catch(C){Ue(o,y,C)}break;case 5:var x=o.return;try{ql(o)}catch(C){Ue(o,x,C)}}}catch(C){Ue(o,o.return,C)}if(o===r){Z=null;break}var T=o.sibling;if(T!==null){T.return=o.return,Z=T;break}Z=o.return}}var T_=Math.ceil,cs=F.ReactCurrentDispatcher,Jl=F.ReactCurrentOwner,Tt=F.ReactCurrentBatchConfig,ge=0,qe=null,Be=null,Ye=0,yt=0,qr=Nn(0),He=0,Wi=null,or=0,ds=0,Kl=0,Ji=null,ct=null,Yl=0,zr=1/0,on=null,fs=!1,Ql=null,Ln=null,ps=!1,Un=null,hs=0,Ki=0,Xl=null,ms=-1,gs=0;function rt(){return(ge&6)!==0?Fe():ms!==-1?ms:ms=Fe()}function Fn(r){return(r.mode&1)===0?1:(ge&2)!==0&&Ye!==0?Ye&-Ye:a_.transition!==null?(gs===0&&(gs=md()),gs):(r=we,r!==0||(r=window.event,r=r===void 0?16:Td(r.type)),r)}function Dt(r,o,l,f){if(50<Ki)throw Ki=0,Xl=null,Error(n(185));yi(r,l,f),((ge&2)===0||r!==qe)&&(r===qe&&((ge&2)===0&&(ds|=l),He===4&&On(r,Ye)),dt(r,f),l===1&&ge===0&&(o.mode&1)===0&&(zr=Fe()+500,qo&&Pn()))}function dt(r,o){var l=r.callbackNode;ay(r,o);var f=Io(r,r===qe?Ye:0);if(f===0)l!==null&&fd(l),r.callbackNode=null,r.callbackPriority=0;else if(o=f&-f,r.callbackPriority!==o){if(l!=null&&fd(l),o===1)r.tag===0?s_(Ip.bind(null,r)):cf(Ip.bind(null,r)),n_(function(){(ge&6)===0&&Pn()}),l=null;else{switch(gd(f)){case 1:l=Ra;break;case 4:l=pd;break;case 16:l=wo;break;case 536870912:l=hd;break;default:l=wo}l=Mp(l,Tp.bind(null,r))}r.callbackPriority=o,r.callbackNode=l}}function Tp(r,o){if(ms=-1,gs=0,(ge&6)!==0)throw Error(n(327));var l=r.callbackNode;if(Wr()&&r.callbackNode!==l)return null;var f=Io(r,r===qe?Ye:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||o)o=vs(r,f);else{o=f;var g=ge;ge|=2;var y=kp();(qe!==r||Ye!==o)&&(on=null,zr=Fe()+500,ar(r,o));do try{k_();break}catch(T){Cp(r,T)}while(!0);ml(),cs.current=y,ge=g,Be!==null?o=0:(qe=null,Ye=0,o=He)}if(o!==0){if(o===2&&(g=Pa(r),g!==0&&(f=g,o=jl(r,g))),o===1)throw l=Wi,ar(r,0),On(r,f),dt(r,Fe()),l;if(o===6)On(r,f);else{if(g=r.current.alternate,(f&30)===0&&!I_(g)&&(o=vs(r,f),o===2&&(y=Pa(r),y!==0&&(f=y,o=jl(r,y))),o===1))throw l=Wi,ar(r,0),On(r,f),dt(r,Fe()),l;switch(r.finishedWork=g,r.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:lr(r,ct,on);break;case 3:if(On(r,f),(f&130023424)===f&&(o=Yl+500-Fe(),10<o)){if(Io(r,0)!==0)break;if(g=r.suspendedLanes,(g&f)!==f){rt(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=il(lr.bind(null,r,ct,on),o);break}lr(r,ct,on);break;case 4:if(On(r,f),(f&4194240)===f)break;for(o=r.eventTimes,g=-1;0<f;){var x=31-At(f);y=1<<x,x=o[x],x>g&&(g=x),f&=~y}if(f=g,f=Fe()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*T_(f/1960))-f,10<f){r.timeoutHandle=il(lr.bind(null,r,ct,on),f);break}lr(r,ct,on);break;case 5:lr(r,ct,on);break;default:throw Error(n(329))}}}return dt(r,Fe()),r.callbackNode===l?Tp.bind(null,r):null}function jl(r,o){var l=Ji;return r.current.memoizedState.isDehydrated&&(ar(r,o).flags|=256),r=vs(r,o),r!==2&&(o=ct,ct=l,o!==null&&Zl(o)),r}function Zl(r){ct===null?ct=r:ct.push.apply(ct,r)}function I_(r){for(var o=r;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var g=l[f],y=g.getSnapshot;g=g.value;try{if(!Nt(y(),g))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function On(r,o){for(o&=~Kl,o&=~ds,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var l=31-At(o),f=1<<l;r[l]=-1,o&=~f}}function Ip(r){if((ge&6)!==0)throw Error(n(327));Wr();var o=Io(r,0);if((o&1)===0)return dt(r,Fe()),null;var l=vs(r,o);if(r.tag!==0&&l===2){var f=Pa(r);f!==0&&(o=f,l=jl(r,f))}if(l===1)throw l=Wi,ar(r,0),On(r,o),dt(r,Fe()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,lr(r,ct,on),dt(r,Fe()),null}function eu(r,o){var l=ge;ge|=1;try{return r(o)}finally{ge=l,ge===0&&(zr=Fe()+500,qo&&Pn())}}function sr(r){Un!==null&&Un.tag===0&&(ge&6)===0&&Wr();var o=ge;ge|=1;var l=Tt.transition,f=we;try{if(Tt.transition=null,we=1,r)return r()}finally{we=f,Tt.transition=l,ge=o,(ge&6)===0&&Pn()}}function tu(){yt=qr.current,Ne(qr)}function ar(r,o){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,t_(l)),Be!==null)for(l=Be.return;l!==null;){var f=l;switch(cl(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ho();break;case 3:Gr(),Ne(at),Ne(Qe),Sl();break;case 5:wl(f);break;case 4:Gr();break;case 13:Ne(Me);break;case 19:Ne(Me);break;case 10:gl(f.type._context);break;case 22:case 23:tu()}l=l.return}if(qe=r,Be=r=Vn(r.current,null),Ye=yt=o,He=0,Wi=null,Kl=ds=or=0,ct=Ji=null,nr!==null){for(o=0;o<nr.length;o++)if(l=nr[o],f=l.interleaved,f!==null){l.interleaved=null;var g=f.next,y=l.pending;if(y!==null){var x=y.next;y.next=g,f.next=x}l.pending=f}nr=null}return r}function Cp(r,o){do{var l=Be;try{if(ml(),es.current=is,ts){for(var f=De.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}ts=!1}if(ir=0,$e=Ge=De=null,Bi=!1,Gi=0,Jl.current=null,l===null||l.return===null){He=1,Wi=o,Be=null;break}e:{var y=r,x=l.return,T=l,C=o;if(o=Ye,T.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var M=C,$=T,q=$.tag;if(($.mode&1)===0&&(q===0||q===11||q===15)){var H=$.alternate;H?($.updateQueue=H.updateQueue,$.memoizedState=H.memoizedState,$.lanes=H.lanes):($.updateQueue=null,$.memoizedState=null)}var X=Xf(x);if(X!==null){X.flags&=-257,jf(X,x,T,y,o),X.mode&1&&Qf(y,M,o),o=X,C=M;var ee=o.updateQueue;if(ee===null){var te=new Set;te.add(C),o.updateQueue=te}else ee.add(C);break e}else{if((o&1)===0){Qf(y,M,o),nu();break e}C=Error(n(426))}}else if(be&&T.mode&1){var Oe=Xf(x);if(Oe!==null){(Oe.flags&65536)===0&&(Oe.flags|=256),jf(Oe,x,T,y,o),pl(Hr(C,T));break e}}y=C=Hr(C,T),He!==4&&(He=2),Ji===null?Ji=[y]:Ji.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var P=Kf(y,C,o);wf(y,P);break e;case 1:T=C;var k=y.type,b=y.stateNode;if((y.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ln===null||!Ln.has(b)))){y.flags|=65536,o&=-o,y.lanes|=o;var W=Yf(y,T,o);wf(y,W);break e}}y=y.return}while(y!==null)}Np(l)}catch(ne){o=ne,Be===l&&l!==null&&(Be=l=l.return);continue}break}while(!0)}function kp(){var r=cs.current;return cs.current=is,r===null?is:r}function nu(){(He===0||He===3||He===2)&&(He=4),qe===null||(or&268435455)===0&&(ds&268435455)===0||On(qe,Ye)}function vs(r,o){var l=ge;ge|=2;var f=kp();(qe!==r||Ye!==o)&&(on=null,ar(r,o));do try{C_();break}catch(g){Cp(r,g)}while(!0);if(ml(),ge=l,cs.current=f,Be!==null)throw Error(n(261));return qe=null,Ye=0,He}function C_(){for(;Be!==null;)Ap(Be)}function k_(){for(;Be!==null&&!j0();)Ap(Be)}function Ap(r){var o=bp(r.alternate,r,yt);r.memoizedProps=r.pendingProps,o===null?Np(r):Be=o,Jl.current=null}function Np(r){var o=r;do{var l=o.alternate;if(r=o.return,(o.flags&32768)===0){if(l=__(l,o,yt),l!==null){Be=l;return}}else{if(l=E_(l,o),l!==null){l.flags&=32767,Be=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{He=6,Be=null;return}}if(o=o.sibling,o!==null){Be=o;return}Be=o=r}while(o!==null);He===0&&(He=5)}function lr(r,o,l){var f=we,g=Tt.transition;try{Tt.transition=null,we=1,A_(r,o,l,f)}finally{Tt.transition=g,we=f}return null}function A_(r,o,l,f){do Wr();while(Un!==null);if((ge&6)!==0)throw Error(n(327));l=r.finishedWork;var g=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(ly(r,y),r===qe&&(Be=qe=null,Ye=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ps||(ps=!0,Mp(wo,function(){return Wr(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Tt.transition,Tt.transition=null;var x=we;we=1;var T=ge;ge|=4,Jl.current=null,x_(r,l),_p(l,r),Ky(nl),Ao=!!tl,nl=tl=null,r.current=l,S_(l),Z0(),ge=T,we=x,Tt.transition=y}else r.current=l;if(ps&&(ps=!1,Un=r,hs=g),y=r.pendingLanes,y===0&&(Ln=null),ny(l.stateNode),dt(r,Fe()),o!==null)for(f=r.onRecoverableError,l=0;l<o.length;l++)g=o[l],f(g.value,{componentStack:g.stack,digest:g.digest});if(fs)throw fs=!1,r=Ql,Ql=null,r;return(hs&1)!==0&&r.tag!==0&&Wr(),y=r.pendingLanes,(y&1)!==0?r===Xl?Ki++:(Ki=0,Xl=r):Ki=0,Pn(),null}function Wr(){if(Un!==null){var r=gd(hs),o=Tt.transition,l=we;try{if(Tt.transition=null,we=16>r?16:r,Un===null)var f=!1;else{if(r=Un,Un=null,hs=0,(ge&6)!==0)throw Error(n(331));var g=ge;for(ge|=4,Z=r.current;Z!==null;){var y=Z,x=y.child;if((Z.flags&16)!==0){var T=y.deletions;if(T!==null){for(var C=0;C<T.length;C++){var M=T[C];for(Z=M;Z!==null;){var $=Z;switch($.tag){case 0:case 11:case 15:zi(8,$,y)}var q=$.child;if(q!==null)q.return=$,Z=q;else for(;Z!==null;){$=Z;var H=$.sibling,X=$.return;if(hp($),$===M){Z=null;break}if(H!==null){H.return=X,Z=H;break}Z=X}}}var ee=y.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var Oe=te.sibling;te.sibling=null,te=Oe}while(te!==null)}}Z=y}}if((y.subtreeFlags&2064)!==0&&x!==null)x.return=y,Z=x;else e:for(;Z!==null;){if(y=Z,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:zi(9,y,y.return)}var P=y.sibling;if(P!==null){P.return=y.return,Z=P;break e}Z=y.return}}var k=r.current;for(Z=k;Z!==null;){x=Z;var b=x.child;if((x.subtreeFlags&2064)!==0&&b!==null)b.return=x,Z=b;else e:for(x=k;Z!==null;){if(T=Z,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:us(9,T)}}catch(ne){Ue(T,T.return,ne)}if(T===x){Z=null;break e}var W=T.sibling;if(W!==null){W.return=T.return,Z=W;break e}Z=T.return}}if(ge=g,Pn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(xo,r)}catch{}f=!0}return f}finally{we=l,Tt.transition=o}}return!1}function Rp(r,o,l){o=Hr(l,o),o=Kf(r,o,1),r=Mn(r,o,1),o=rt(),r!==null&&(yi(r,1,o),dt(r,o))}function Ue(r,o,l){if(r.tag===3)Rp(r,r,l);else for(;o!==null;){if(o.tag===3){Rp(o,r,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ln===null||!Ln.has(f))){r=Hr(l,r),r=Yf(o,r,1),o=Mn(o,r,1),r=rt(),o!==null&&(yi(o,1,r),dt(o,r));break}}o=o.return}}function N_(r,o,l){var f=r.pingCache;f!==null&&f.delete(o),o=rt(),r.pingedLanes|=r.suspendedLanes&l,qe===r&&(Ye&l)===l&&(He===4||He===3&&(Ye&130023424)===Ye&&500>Fe()-Yl?ar(r,0):Kl|=l),dt(r,o)}function Pp(r,o){o===0&&((r.mode&1)===0?o=1:(o=To,To<<=1,(To&130023424)===0&&(To=4194304)));var l=rt();r=tn(r,o),r!==null&&(yi(r,o,l),dt(r,l))}function R_(r){var o=r.memoizedState,l=0;o!==null&&(l=o.retryLane),Pp(r,l)}function P_(r,o){var l=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),Pp(r,l)}var bp;bp=function(r,o,l){if(r!==null)if(r.memoizedProps!==o.pendingProps||at.current)ut=!0;else{if((r.lanes&l)===0&&(o.flags&128)===0)return ut=!1,y_(r,o,l);ut=(r.flags&131072)!==0}else ut=!1,be&&(o.flags&1048576)!==0&&df(o,Wo,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;as(r,o),r=o.pendingProps;var g=Dr(o,Qe.current);Br(o,l),g=Cl(null,o,f,r,g,l);var y=kl();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,lt(f)?(y=!0,$o(o)):y=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,_l(o),g.updater=os,o.stateNode=g,g._reactInternals=o,Ml(o,f,r,l),o=Fl(null,o,f,!0,y,l)):(o.tag=0,be&&y&&ul(o),nt(null,o,g,l),o=o.child),o;case 16:f=o.elementType;e:{switch(as(r,o),r=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=M_(f),r=Pt(f,r),g){case 0:o=Ul(null,o,f,r,l);break e;case 1:o=ip(null,o,f,r,l);break e;case 11:o=Zf(null,o,f,r,l);break e;case 14:o=ep(null,o,f,Pt(f.type,r),l);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Pt(f,g),Ul(r,o,f,g,l);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Pt(f,g),ip(r,o,f,g,l);case 3:e:{if(op(o),r===null)throw Error(n(387));f=o.pendingProps,y=o.memoizedState,g=y.element,Ef(r,o),jo(o,f,null,l);var x=o.memoizedState;if(f=x.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){g=Hr(Error(n(423)),o),o=sp(r,o,f,l,g);break e}else if(f!==g){g=Hr(Error(n(424)),o),o=sp(r,o,f,l,g);break e}else for(vt=An(o.stateNode.containerInfo.firstChild),gt=o,be=!0,Rt=null,l=yf(o,null,f,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Fr(),f===g){o=rn(r,o,l);break e}nt(r,o,f,l)}o=o.child}return o;case 5:return Sf(o),r===null&&fl(o),f=o.type,g=o.pendingProps,y=r!==null?r.memoizedProps:null,x=g.children,rl(f,g)?x=null:y!==null&&rl(f,y)&&(o.flags|=32),rp(r,o),nt(r,o,x,l),o.child;case 6:return r===null&&fl(o),null;case 13:return ap(r,o,l);case 4:return El(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=Or(o,null,f,l):nt(r,o,f,l),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Pt(f,g),Zf(r,o,f,g,l);case 7:return nt(r,o,o.pendingProps,l),o.child;case 8:return nt(r,o,o.pendingProps.children,l),o.child;case 12:return nt(r,o,o.pendingProps.children,l),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,y=o.memoizedProps,x=g.value,Ce(Yo,f._currentValue),f._currentValue=x,y!==null)if(Nt(y.value,x)){if(y.children===g.children&&!at.current){o=rn(r,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var T=y.dependencies;if(T!==null){x=y.child;for(var C=T.firstContext;C!==null;){if(C.context===f){if(y.tag===1){C=nn(-1,l&-l),C.tag=2;var M=y.updateQueue;if(M!==null){M=M.shared;var $=M.pending;$===null?C.next=C:(C.next=$.next,$.next=C),M.pending=C}}y.lanes|=l,C=y.alternate,C!==null&&(C.lanes|=l),vl(y.return,l,o),T.lanes|=l;break}C=C.next}}else if(y.tag===10)x=y.type===o.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(n(341));x.lanes|=l,T=x.alternate,T!==null&&(T.lanes|=l),vl(x,l,o),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===o){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}nt(r,o,g.children,l),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,Br(o,l),g=xt(g),f=f(g),o.flags|=1,nt(r,o,f,l),o.child;case 14:return f=o.type,g=Pt(f,o.pendingProps),g=Pt(f.type,g),ep(r,o,f,g,l);case 15:return tp(r,o,o.type,o.pendingProps,l);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Pt(f,g),as(r,o),o.tag=1,lt(f)?(r=!0,$o(o)):r=!1,Br(o,l),Wf(o,f,g),Ml(o,f,g,l),Fl(null,o,f,!0,r,l);case 19:return up(r,o,l);case 22:return np(r,o,l)}throw Error(n(156,o.tag))};function Mp(r,o){return dd(r,o)}function b_(r,o,l,f){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(r,o,l,f){return new b_(r,o,l,f)}function ru(r){return r=r.prototype,!(!r||!r.isReactComponent)}function M_(r){if(typeof r=="function")return ru(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Le)return 11;if(r===tt)return 14}return 2}function Vn(r,o){var l=r.alternate;return l===null?(l=It(r.tag,o,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=o,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,o=r.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function ys(r,o,l,f,g,y){var x=2;if(f=r,typeof r=="function")ru(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case O:return ur(l.children,g,y,o);case z:x=8,g|=8;break;case J:return r=It(12,l,o,g|2),r.elementType=J,r.lanes=y,r;case fe:return r=It(13,l,o,g),r.elementType=fe,r.lanes=y,r;case Re:return r=It(19,l,o,g),r.elementType=Re,r.lanes=y,r;case xe:return _s(l,g,y,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case se:x=10;break e;case _e:x=9;break e;case Le:x=11;break e;case tt:x=14;break e;case Ie:x=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return o=It(x,l,o,g),o.elementType=r,o.type=f,o.lanes=y,o}function ur(r,o,l,f){return r=It(7,r,f,o),r.lanes=l,r}function _s(r,o,l,f){return r=It(22,r,f,o),r.elementType=xe,r.lanes=l,r.stateNode={isHidden:!1},r}function iu(r,o,l){return r=It(6,r,null,o),r.lanes=l,r}function ou(r,o,l){return o=It(4,r.children!==null?r.children:[],r.key,o),o.lanes=l,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function D_(r,o,l,f,g){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ba(0),this.expirationTimes=ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function su(r,o,l,f,g,y,x,T,C){return r=new D_(r,o,l,T,C),o===1?(o=1,y===!0&&(o|=8)):o=0,y=It(3,null,null,o),r.current=y,y.stateNode=r,y.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},_l(y),r}function L_(r,o,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:f==null?null:""+f,children:r,containerInfo:o,implementation:l}}function Dp(r){if(!r)return Rn;r=r._reactInternals;e:{if(Xn(r)!==r||r.tag!==1)throw Error(n(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(lt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(lt(l))return lf(r,l,o)}return o}function Lp(r,o,l,f,g,y,x,T,C){return r=su(l,f,!0,r,g,y,x,T,C),r.context=Dp(null),l=r.current,f=rt(),g=Fn(l),y=nn(f,g),y.callback=o??null,Mn(l,y,g),r.current.lanes=g,yi(r,g,f),dt(r,f),r}function Es(r,o,l,f){var g=o.current,y=rt(),x=Fn(g);return l=Dp(l),o.context===null?o.context=l:o.pendingContext=l,o=nn(y,x),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Mn(g,o,x),r!==null&&(Dt(r,g,x,y),Xo(r,g,x)),x}function ws(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function Up(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<o?l:o}}function au(r,o){Up(r,o),(r=r.alternate)&&Up(r,o)}function U_(){return null}var Fp=typeof reportError=="function"?reportError:function(r){console.error(r)};function lu(r){this._internalRoot=r}xs.prototype.render=lu.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(n(409));Es(r,o,null,null)},xs.prototype.unmount=lu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;sr(function(){Es(null,r,null,null)}),o[Xt]=null}};function xs(r){this._internalRoot=r}xs.prototype.unstable_scheduleHydration=function(r){if(r){var o=_d();r={blockedOn:null,target:r,priority:o};for(var l=0;l<In.length&&o!==0&&o<In[l].priority;l++);In.splice(l,0,r),l===0&&xd(r)}};function uu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ss(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Op(){}function F_(r,o,l,f,g){if(g){if(typeof f=="function"){var y=f;f=function(){var M=ws(x);y.call(M)}}var x=Lp(o,f,r,0,null,!1,!1,"",Op);return r._reactRootContainer=x,r[Xt]=x.current,bi(r.nodeType===8?r.parentNode:r),sr(),x}for(;g=r.lastChild;)r.removeChild(g);if(typeof f=="function"){var T=f;f=function(){var M=ws(C);T.call(M)}}var C=su(r,0,!1,null,null,!1,!1,"",Op);return r._reactRootContainer=C,r[Xt]=C.current,bi(r.nodeType===8?r.parentNode:r),sr(function(){Es(o,C,l,f)}),C}function Ts(r,o,l,f,g){var y=l._reactRootContainer;if(y){var x=y;if(typeof g=="function"){var T=g;g=function(){var C=ws(x);T.call(C)}}Es(o,x,r,g)}else x=F_(l,o,r,g,f);return ws(x)}vd=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var l=vi(o.pendingLanes);l!==0&&(Ma(o,l|1),dt(o,Fe()),(ge&6)===0&&(zr=Fe()+500,Pn()))}break;case 13:sr(function(){var f=tn(r,1);if(f!==null){var g=rt();Dt(f,r,1,g)}}),au(r,1)}},Da=function(r){if(r.tag===13){var o=tn(r,134217728);if(o!==null){var l=rt();Dt(o,r,134217728,l)}au(r,134217728)}},yd=function(r){if(r.tag===13){var o=Fn(r),l=tn(r,o);if(l!==null){var f=rt();Dt(l,r,o,f)}au(r,o)}},_d=function(){return we},Ed=function(r,o){var l=we;try{return we=r,o()}finally{we=l}},Ca=function(r,o,l){switch(o){case"input":if(ya(r,l),o=l.name,l.type==="radio"&&o!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==r&&f.form===r.form){var g=Go(f);if(!g)throw Error(n(90));qc(f),ya(f,g)}}}break;case"textarea":Yc(r,l);break;case"select":o=l.value,o!=null&&xr(r,!!l.multiple,o,!1)}},id=eu,od=sr;var O_={usingClientEntryPoint:!1,Events:[Li,br,Go,nd,rd,eu]},Yi={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V_={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ud(r),r===null?null:r.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||U_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Is.isDisabled&&Is.supportsFiber)try{xo=Is.inject(V_),Vt=Is}catch{}}return ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O_,ft.createPortal=function(r,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uu(o))throw Error(n(200));return L_(r,o,null,l)},ft.createRoot=function(r,o){if(!uu(r))throw Error(n(299));var l=!1,f="",g=Fp;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=su(r,1,!1,null,null,l,!1,f,g),r[Xt]=o.current,bi(r.nodeType===8?r.parentNode:r),new lu(o)},ft.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=ud(o),r=r===null?null:r.stateNode,r},ft.flushSync=function(r){return sr(r)},ft.hydrate=function(r,o,l){if(!Ss(o))throw Error(n(200));return Ts(null,r,o,!0,l)},ft.hydrateRoot=function(r,o,l){if(!uu(r))throw Error(n(405));var f=l!=null&&l.hydratedSources||null,g=!1,y="",x=Fp;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),o=Lp(o,null,r,1,l??null,g,!1,y,x),r[Xt]=o.current,bi(r),f)for(r=0;r<f.length;r++)l=f[r],g=l._getVersion,g=g(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,g]:o.mutableSourceEagerHydrationData.push(l,g);return new xs(o)},ft.render=function(r,o,l){if(!Ss(o))throw Error(n(200));return Ts(null,r,o,!1,l)},ft.unmountComponentAtNode=function(r){if(!Ss(r))throw Error(n(40));return r._reactRootContainer?(sr(function(){Ts(null,null,r,!1,function(){r._reactRootContainer=null,r[Xt]=null})}),!0):!1},ft.unstable_batchedUpdates=eu,ft.unstable_renderSubtreeIntoContainer=function(r,o,l,f){if(!Ss(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ts(r,o,l,!1,f)},ft.version="18.3.1-next-f1338f8080-20240426",ft}var Wp;function Cg(){if(Wp)return fu.exports;Wp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fu.exports=K_(),fu.exports}var Jp;function Y_(){if(Jp)return Cs;Jp=1;var t=Cg();return Cs.createRoot=t.createRoot,Cs.hydrateRoot=t.hydrateRoot,Cs}var Q_=Y_();const X_=Tg(Q_);Cg();function ro(){return ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ro.apply(this,arguments)}var zn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zn||(zn={}));const Kp="popstate";function j_(t){t===void 0&&(t={});function e(s,a){let{pathname:c="/",search:p="",hash:h=""}=yr(s.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Au("",{pathname:c,search:p,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let c=s.document.querySelector("base"),p="";if(c&&c.getAttribute("href")){let h=s.location.href,m=h.indexOf("#");p=m===-1?h:h.slice(0,m)}return p+"#"+(typeof a=="string"?a:Gs(a))}function i(s,a){ra(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return eE(e,n,i,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ra(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z_(){return Math.random().toString(36).substr(2,8)}function Yp(t,e){return{usr:t.state,key:t.key,idx:e}}function Au(t,e,n,i){return n===void 0&&(n=null),ro({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yr(e):e,{state:n,key:e&&e.key||i||Z_()})}function Gs(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function yr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function eE(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,c=s.history,p=zn.Pop,h=null,m=v();m==null&&(m=0,c.replaceState(ro({},c.state,{idx:m}),""));function v(){return(c.state||{idx:null}).idx}function _(){p=zn.Pop;let I=v(),L=I==null?null:I-m;m=I,h&&h({action:p,location:N.location,delta:L})}function w(I,L){p=zn.Push;let U=Au(N.location,I,L);n&&n(U,I),m=v()+1;let D=Yp(U,m),F=N.createHref(U);try{c.pushState(D,"",F)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;s.location.assign(F)}a&&h&&h({action:p,location:N.location,delta:1})}function S(I,L){p=zn.Replace;let U=Au(N.location,I,L);n&&n(U,I),m=v();let D=Yp(U,m),F=N.createHref(U);c.replaceState(D,"",F),a&&h&&h({action:p,location:N.location,delta:0})}function A(I){let L=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof I=="string"?I:Gs(I);return U=U.replace(/ $/,"%20"),Ve(L,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,L)}let N={get action(){return p},get location(){return t(s,c)},listen(I){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Kp,_),h=I,()=>{s.removeEventListener(Kp,_),h=null}},createHref(I){return e(s,I)},createURL:A,encodeLocation(I){let L=A(I);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:w,replace:S,go(I){return c.go(I)}};return N}var Qp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qp||(Qp={}));function tE(t,e,n){return n===void 0&&(n="/"),nE(t,e,n)}function nE(t,e,n,i){let s=typeof e=="string"?yr(e):e,a=ic(s.pathname||"/",n);if(a==null)return null;let c=kg(t);rE(c);let p=null;for(let h=0;p==null&&h<c.length;++h){let m=mE(a);p=fE(c[h],m)}return p}function kg(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(a,c,p)=>{let h={relativePath:p===void 0?a.path||"":p,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};h.relativePath.startsWith("/")&&(Ve(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let m=Wn([i,h.relativePath]),v=n.concat(h);a.children&&a.children.length>0&&(Ve(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),kg(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:cE(m,a.index),routesMeta:v})};return t.forEach((a,c)=>{var p;if(a.path===""||!((p=a.path)!=null&&p.includes("?")))s(a,c);else for(let h of Ag(a.path))s(a,c,h)}),e}function Ag(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let c=Ag(i.join("/")),p=[];return p.push(...c.map(h=>h===""?a:[a,h].join("/"))),s&&p.push(...c),p.map(h=>t.startsWith("/")&&h===""?"/":h)}function rE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dE(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const iE=/^:[\w-]+$/,oE=3,sE=2,aE=1,lE=10,uE=-2,Xp=t=>t==="*";function cE(t,e){let n=t.split("/"),i=n.length;return n.some(Xp)&&(i+=uE),e&&(i+=sE),n.filter(s=>!Xp(s)).reduce((s,a)=>s+(iE.test(a)?oE:a===""?aE:lE),i)}function dE(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function fE(t,e,n){let{routesMeta:i}=t,s={},a="/",c=[];for(let p=0;p<i.length;++p){let h=i[p],m=p===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",_=pE({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),w=h.route;if(!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:Wn([a,_.pathname]),pathnameBase:EE(Wn([a,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(a=Wn([a,_.pathnameBase]))}return c}function pE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=hE(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:i.reduce((m,v,_)=>{let{paramName:w,isOptional:S}=v;if(w==="*"){let N=p[_]||"";c=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const A=p[_];return S&&!A?m[w]=void 0:m[w]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:t}}function hE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ra(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,h)=>(i.push({paramName:p,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function mE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ra(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ic(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const gE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vE=t=>gE.test(t);function yE(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?yr(t):t,a;if(n)if(vE(n))a=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ra(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?a=jp(n.substring(1),"/"):a=jp(n,e)}else a=e;return{pathname:a,search:wE(i),hash:xE(s)}}function jp(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mu(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _E(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function oc(t,e){let n=_E(t);return e?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function sc(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=yr(t):(s=ro({},t),Ve(!s.pathname||!s.pathname.includes("?"),mu("?","pathname","search",s)),Ve(!s.pathname||!s.pathname.includes("#"),mu("#","pathname","hash",s)),Ve(!s.search||!s.search.includes("#"),mu("#","search","hash",s)));let a=t===""||s.pathname==="",c=a?"/":s.pathname,p;if(c==null)p=n;else{let _=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;s.pathname=w.join("/")}p=_>=0?e[_]:"/"}let h=yE(s,p),m=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}const Wn=t=>t.join("/").replace(/\/\/+/g,"/"),EE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ng=["post","put","patch","delete"];new Set(Ng);const TE=["get",...Ng];new Set(TE);function io(){return io=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},io.apply(this,arguments)}const ac=V.createContext(null),IE=V.createContext(null),Yn=V.createContext(null),ia=V.createContext(null),vn=V.createContext({outlet:null,matches:[],isDataRoute:!1}),Rg=V.createContext(null);function CE(t,e){let{relative:n}=e===void 0?{}:e;ri()||Ve(!1);let{basename:i,navigator:s}=V.useContext(Yn),{hash:a,pathname:c,search:p}=bg(t,{relative:n}),h=c;return i!=="/"&&(h=c==="/"?i:Wn([i,c])),s.createHref({pathname:h,search:p,hash:a})}function ri(){return V.useContext(ia)!=null}function uo(){return ri()||Ve(!1),V.useContext(ia).location}function Pg(t){V.useContext(Yn).static||V.useLayoutEffect(t)}function _r(){let{isDataRoute:t}=V.useContext(vn);return t?VE():kE()}function kE(){ri()||Ve(!1);let t=V.useContext(ac),{basename:e,future:n,navigator:i}=V.useContext(Yn),{matches:s}=V.useContext(vn),{pathname:a}=uo(),c=JSON.stringify(oc(s,n.v7_relativeSplatPath)),p=V.useRef(!1);return Pg(()=>{p.current=!0}),V.useCallback(function(m,v){if(v===void 0&&(v={}),!p.current)return;if(typeof m=="number"){i.go(m);return}let _=sc(m,JSON.parse(c),a,v.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Wn([e,_.pathname])),(v.replace?i.replace:i.push)(_,v.state,v)},[e,i,c,a,t])}function lc(){let{matches:t}=V.useContext(vn),e=t[t.length-1];return e?e.params:{}}function bg(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=V.useContext(Yn),{matches:s}=V.useContext(vn),{pathname:a}=uo(),c=JSON.stringify(oc(s,i.v7_relativeSplatPath));return V.useMemo(()=>sc(t,JSON.parse(c),a,n==="path"),[t,c,a,n])}function AE(t,e){return NE(t,e)}function NE(t,e,n,i){ri()||Ve(!1);let{navigator:s}=V.useContext(Yn),{matches:a}=V.useContext(vn),c=a[a.length-1],p=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let m=uo(),v;if(e){var _;let I=typeof e=="string"?yr(e):e;h==="/"||(_=I.pathname)!=null&&_.startsWith(h)||Ve(!1),v=I}else v=m;let w=v.pathname||"/",S=w;if(h!=="/"){let I=h.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(I.length).join("/")}let A=tE(t,{pathname:S}),N=DE(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},p,I.params),pathname:Wn([h,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?h:Wn([h,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),a,n,i);return e&&N?V.createElement(ia.Provider,{value:{location:io({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:zn.Pop}},N):N}function RE(){let t=OE(),e=SE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:s},n):null,null)}const PE=V.createElement(RE,null);class bE extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(vn.Provider,{value:this.props.routeContext},V.createElement(Rg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ME(t){let{routeContext:e,match:n,children:i}=t,s=V.useContext(ac);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(vn.Provider,{value:e},i)}function DE(t,e,n,i){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,p=(s=n)==null?void 0:s.errors;if(p!=null){let v=c.findIndex(_=>_.route.id&&p?.[_.route.id]!==void 0);v>=0||Ve(!1),c=c.slice(0,Math.min(c.length,v+1))}let h=!1,m=-1;if(n&&i&&i.v7_partialHydration)for(let v=0;v<c.length;v++){let _=c[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=v),_.route.id){let{loaderData:w,errors:S}=n,A=_.route.loader&&w[_.route.id]===void 0&&(!S||S[_.route.id]===void 0);if(_.route.lazy||A){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((v,_,w)=>{let S,A=!1,N=null,I=null;n&&(S=p&&_.route.id?p[_.route.id]:void 0,N=_.route.errorElement||PE,h&&(m<0&&w===0?(BE("route-fallback"),A=!0,I=null):m===w&&(A=!0,I=_.route.hydrateFallbackElement||null)));let L=e.concat(c.slice(0,w+1)),U=()=>{let D;return S?D=N:A?D=I:_.route.Component?D=V.createElement(_.route.Component,null):_.route.element?D=_.route.element:D=v,V.createElement(ME,{match:_,routeContext:{outlet:v,matches:L,isDataRoute:n!=null},children:D})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?V.createElement(bE,{location:n.location,revalidation:n.revalidation,component:N,error:S,children:U(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):U()},null)}var Mg=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Mg||{}),Dg=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Dg||{});function LE(t){let e=V.useContext(ac);return e||Ve(!1),e}function UE(t){let e=V.useContext(IE);return e||Ve(!1),e}function FE(t){let e=V.useContext(vn);return e||Ve(!1),e}function Lg(t){let e=FE(),n=e.matches[e.matches.length-1];return n.route.id||Ve(!1),n.route.id}function OE(){var t;let e=V.useContext(Rg),n=UE(),i=Lg();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function VE(){let{router:t}=LE(Mg.UseNavigateStable),e=Lg(Dg.UseNavigateStable),n=V.useRef(!1);return Pg(()=>{n.current=!0}),V.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,io({fromRouteId:e},a)))},[t,e])}const Zp={};function BE(t,e,n){Zp[t]||(Zp[t]=!0)}function GE(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function sn(t){let{to:e,replace:n,state:i,relative:s}=t;ri()||Ve(!1);let{future:a,static:c}=V.useContext(Yn),{matches:p}=V.useContext(vn),{pathname:h}=uo(),m=_r(),v=sc(e,oc(p,a.v7_relativeSplatPath),h,s==="path"),_=JSON.stringify(v);return V.useEffect(()=>m(JSON.parse(_),{replace:n,state:i,relative:s}),[m,_,s,n,i]),null}function qt(t){Ve(!1)}function HE(t){let{basename:e="/",children:n=null,location:i,navigationType:s=zn.Pop,navigator:a,static:c=!1,future:p}=t;ri()&&Ve(!1);let h=e.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:h,navigator:a,static:c,future:io({v7_relativeSplatPath:!1},p)}),[h,p,a,c]);typeof i=="string"&&(i=yr(i));let{pathname:v="/",search:_="",hash:w="",state:S=null,key:A="default"}=i,N=V.useMemo(()=>{let I=ic(v,h);return I==null?null:{location:{pathname:I,search:_,hash:w,state:S,key:A},navigationType:s}},[h,v,_,w,S,A,s]);return N==null?null:V.createElement(Yn.Provider,{value:m},V.createElement(ia.Provider,{children:n,value:N}))}function $E(t){let{children:e,location:n}=t;return AE(Nu(e),n)}new Promise(()=>{});function Nu(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(i,s)=>{if(!V.isValidElement(i))return;let a=[...e,s];if(i.type===V.Fragment){n.push.apply(n,Nu(i.props.children,a));return}i.type!==qt&&Ve(!1),!i.props.index||!i.props.children||Ve(!1);let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Nu(i.props.children,a)),n.push(c)}),n}function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ru.apply(this,arguments)}function qE(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,a;for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function zE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WE(t,e){return t.button===0&&(!e||e==="_self")&&!zE(t)}const JE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KE="6";try{window.__reactRouterVersion=KE}catch{}const YE="startTransition",eh=z_[YE];function QE(t){let{basename:e,children:n,future:i,window:s}=t,a=V.useRef();a.current==null&&(a.current=j_({window:s,v5Compat:!0}));let c=a.current,[p,h]=V.useState({action:c.action,location:c.location}),{v7_startTransition:m}=i||{},v=V.useCallback(_=>{m&&eh?eh(()=>h(_)):h(_)},[h,m]);return V.useLayoutEffect(()=>c.listen(v),[c,v]),V.useEffect(()=>GE(i),[i]),V.createElement(HE,{basename:e,children:n,location:p.location,navigationType:p.action,navigator:c,future:i})}const XE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=V.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:a,replace:c,state:p,target:h,to:m,preventScrollReset:v,viewTransition:_}=e,w=qE(e,JE),{basename:S}=V.useContext(Yn),A,N=!1;if(typeof m=="string"&&jE.test(m)&&(A=m,XE))try{let D=new URL(window.location.href),F=m.startsWith("//")?new URL(D.protocol+m):new URL(m),K=ic(F.pathname,S);F.origin===D.origin&&K!=null?m=K+F.search+F.hash:N=!0}catch{}let I=CE(m,{relative:s}),L=ZE(m,{replace:c,state:p,target:h,preventScrollReset:v,relative:s,viewTransition:_});function U(D){i&&i(D),D.defaultPrevented||L(D)}return V.createElement("a",Ru({},w,{href:A||I,onClick:N||a?i:U,ref:n,target:h}))});var th;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(th||(th={}));var nh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nh||(nh={}));function ZE(t,e){let{target:n,replace:i,state:s,preventScrollReset:a,relative:c,viewTransition:p}=e===void 0?{}:e,h=_r(),m=uo(),v=bg(t,{relative:c});return V.useCallback(_=>{if(WE(_,n)){_.preventDefault();let w=i!==void 0?i:Gs(m)===Gs(v);h(t,{replace:w,state:s,preventScrollReset:a,relative:c,viewTransition:p})}},[m,h,v,i,s,n,t,a,c,p])}var rh={};const Ug=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ew=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],c=t[n++],p=t[n++],h=((s&7)<<18|(a&63)<<12|(c&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],c=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Fg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],c=s+1<t.length,p=c?t[s+1]:0,h=s+2<t.length,m=h?t[s+2]:0,v=a>>2,_=(a&3)<<4|p>>4;let w=(p&15)<<2|m>>6,S=m&63;h||(S=64,c||(w=64)),i.push(n[v],n[_],n[w],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ug(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ew(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],p=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||p==null||m==null||_==null)throw new tw;const w=a<<2|p>>4;if(i.push(w),m!==64){const S=p<<4&240|m>>2;if(i.push(S),_!==64){const A=m<<6&192|_;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nw=function(t){const e=Ug(t);return Fg.encodeByteArray(e,!0)},Og=function(t){return nw(t).replace(/\./g,"")},Vg=function(t){try{return Fg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const iw=()=>rw().__FIREBASE_DEFAULTS__,ow=()=>{if(typeof process>"u"||typeof rh>"u")return;const t=rh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vg(t[1]);return e&&JSON.parse(e)},uc=()=>{try{return iw()||ow()||sw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aw=t=>{var e,n;return(n=(e=uc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Bg=()=>{var t;return(t=uc())===null||t===void 0?void 0:t.config},Gg=t=>{var e;return(e=uc())===null||e===void 0?void 0:e[`_${t}`]};class lw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function cw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cc(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fw(){const t=ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dc(){try{return typeof indexedDB=="object"}catch{return!1}}function fc(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function Hg(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const pw="FirebaseError";class Qt extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=pw,Object.setPrototypeOf(this,Qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Er.prototype.create)}}class Er{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],c=a?hw(a,i):"Error",p=`${this.serviceName}: ${c} (${s}).`;return new Qt(s,p,i)}}function hw(t,e){return t.replace(mw,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const mw=/\{\$([^}]+)}/g;function gw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],c=e[s];if(ih(a)&&ih(c)){if(!oo(a,c))return!1}else if(a!==c)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function ih(t){return t!==null&&typeof t=="object"}function co(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function vw(t,e){const n=new yw(t,e);return n.subscribe.bind(n)}class yw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");_w(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=gu),s.error===void 0&&(s.error=gu),s.complete===void 0&&(s.complete=gu);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _w(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gu(){}const Ew=1e3,ww=2,xw=14400*1e3,Sw=.5;function oh(t,e=Ew,n=ww){const i=e*Math.pow(n,t),s=Math.round(Sw*i*(Math.random()-.5)*2);return Math.min(xw,i+s)}function yn(t){return t&&t._delegate?t._delegate:t}class Kt{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const cr="[DEFAULT]";class Tw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new lw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cw(e))try{this.getOrInitializeService({instanceIdentifier:cr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cr){return this.instances.has(e)}getOptions(e=cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,c]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(a);i===p&&c.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Iw(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=cr){return this.component?this.component.multipleInstances?e:cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Iw(t){return t===cr?void 0:t}function Cw(t){return t.instantiationMode==="EAGER"}class kw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const Aw={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},Nw=Te.INFO,Rw={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},Pw=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=Rw[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pc{constructor(e){this.name=e,this._logLevel=Nw,this._logHandler=Pw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Aw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const bw=(t,e)=>e.some(n=>t instanceof n);let sh,ah;function Mw(){return sh||(sh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dw(){return ah||(ah=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $g=new WeakMap,Pu=new WeakMap,qg=new WeakMap,vu=new WeakMap,hc=new WeakMap;function Lw(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(Jn(t.result)),s()},c=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&$g.set(n,t)}).catch(()=>{}),hc.set(e,t),e}function Uw(t){if(Pu.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),s()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});Pu.set(t,e)}let bu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Fw(t){bu=t(bu)}function Ow(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(yu(this),e,...n);return qg.set(i,e.sort?e.sort():[e]),Jn(i)}:Dw().includes(t)?function(...e){return t.apply(yu(this),e),Jn($g.get(this))}:function(...e){return Jn(t.apply(yu(this),e))}}function Vw(t){return typeof t=="function"?Ow(t):(t instanceof IDBTransaction&&Uw(t),bw(t,Mw())?new Proxy(t,bu):t)}function Jn(t){if(t instanceof IDBRequest)return Lw(t);if(vu.has(t))return vu.get(t);const e=Vw(t);return e!==t&&(vu.set(t,e),hc.set(e,t)),e}const yu=t=>hc.get(t);function zg(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const c=indexedDB.open(t,e),p=Jn(c);return i&&c.addEventListener("upgradeneeded",h=>{i(Jn(c.result),h.oldVersion,h.newVersion,Jn(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),p.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const Bw=["get","getKey","getAll","getAllKeys","count"],Gw=["put","add","delete","clear"],_u=new Map;function lh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_u.get(e))return _u.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=Gw.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Bw.includes(n)))return;const a=async function(c,...p){const h=this.transaction(c,s?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(p.shift())),(await Promise.all([m[n](...p),s&&h.done]))[0]};return _u.set(e,a),a}Fw(t=>({...t,get:(e,n,i)=>lh(e,n)||t.get(e,n,i),has:(e,n)=>!!lh(e,n)||t.has(e,n)}));class Hw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($w(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function $w(t){const e=t.getComponent();return e?.type==="VERSION"}const Mu="@firebase/app",uh="0.10.13";const pn=new pc("@firebase/app"),qw="@firebase/app-compat",zw="@firebase/analytics-compat",Ww="@firebase/analytics",Jw="@firebase/app-check-compat",Kw="@firebase/app-check",Yw="@firebase/auth",Qw="@firebase/auth-compat",Xw="@firebase/database",jw="@firebase/data-connect",Zw="@firebase/database-compat",ex="@firebase/functions",tx="@firebase/functions-compat",nx="@firebase/installations",rx="@firebase/installations-compat",ix="@firebase/messaging",ox="@firebase/messaging-compat",sx="@firebase/performance",ax="@firebase/performance-compat",lx="@firebase/remote-config",ux="@firebase/remote-config-compat",cx="@firebase/storage",dx="@firebase/storage-compat",fx="@firebase/firestore",px="@firebase/vertexai-preview",hx="@firebase/firestore-compat",mx="firebase",gx="10.14.1";const Du="[DEFAULT]",vx={[Mu]:"fire-core",[qw]:"fire-core-compat",[Ww]:"fire-analytics",[zw]:"fire-analytics-compat",[Kw]:"fire-app-check",[Jw]:"fire-app-check-compat",[Yw]:"fire-auth",[Qw]:"fire-auth-compat",[Xw]:"fire-rtdb",[jw]:"fire-data-connect",[Zw]:"fire-rtdb-compat",[ex]:"fire-fn",[tx]:"fire-fn-compat",[nx]:"fire-iid",[rx]:"fire-iid-compat",[ix]:"fire-fcm",[ox]:"fire-fcm-compat",[sx]:"fire-perf",[ax]:"fire-perf-compat",[lx]:"fire-rc",[ux]:"fire-rc-compat",[cx]:"fire-gcs",[dx]:"fire-gcs-compat",[fx]:"fire-fst",[hx]:"fire-fst-compat",[px]:"fire-vertex","fire-js":"fire-js",[mx]:"fire-js-all"};const so=new Map,yx=new Map,Lu=new Map;function ch(t,e){try{t.container.addComponent(e)}catch(n){pn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hn(t){const e=t.name;if(Lu.has(e))return pn.debug(`There were multiple attempts to register component ${e}.`),!1;Lu.set(e,t);for(const n of so.values())ch(n,t);for(const n of yx.values())ch(n,t);return!0}function ii(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function un(t){return t.settings!==void 0}const _x={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kn=new Er("app","Firebase",_x);class Ex{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}const fo=gx;function Wg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Du,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Kn.create("bad-app-name",{appName:String(s)});if(n||(n=Bg()),!n)throw Kn.create("no-options");const a=so.get(s);if(a){if(oo(n,a.options)&&oo(i,a.config))return a;throw Kn.create("duplicate-app",{appName:s})}const c=new kw(s);for(const h of Lu.values())c.addComponent(h);const p=new Ex(n,i,c);return so.set(s,p),p}function mc(t=Du){const e=so.get(t);if(!e&&t===Du&&Bg())return Wg();if(!e)throw Kn.create("no-app",{appName:t});return e}function wx(){return Array.from(so.values())}function Wt(t,e,n){var i;let s=(i=vx[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const p=[`Unable to register library "${s}" with version "${e}":`];a&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pn.warn(p.join(" "));return}hn(new Kt(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const xx="firebase-heartbeat-database",Sx=1,ao="firebase-heartbeat-store";let Eu=null;function Jg(){return Eu||(Eu=zg(xx,Sx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ao)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kn.create("idb-open",{originalErrorMessage:t.message})})),Eu}async function Tx(t){try{const n=(await Jg()).transaction(ao),i=await n.objectStore(ao).get(Kg(t));return await n.done,i}catch(e){if(e instanceof Qt)pn.warn(e.message);else{const n=Kn.create("idb-get",{originalErrorMessage:e?.message});pn.warn(n.message)}}}async function dh(t,e){try{const i=(await Jg()).transaction(ao,"readwrite");await i.objectStore(ao).put(e,Kg(t)),await i.done}catch(n){if(n instanceof Qt)pn.warn(n.message);else{const i=Kn.create("idb-set",{originalErrorMessage:n?.message});pn.warn(i.message)}}}function Kg(t){return`${t.name}!${t.options.appId}`}const Ix=1024,Cx=720*60*60*1e3;class kx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nx(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=fh();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const p=new Date(c.date).valueOf();return Date.now()-p<=Cx}),this._storage.overwrite(this._heartbeatsCache))}catch(i){pn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fh(),{heartbeatsToSend:i,unsentEntries:s}=Ax(this._heartbeatsCache.heartbeats),a=Og(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return pn.warn(n),""}}}function fh(){return new Date().toISOString().substring(0,10)}function Ax(t,e=Ix){const n=[];let i=t.slice();for(const s of t){const a=n.find(c=>c.agent===s.agent);if(a){if(a.dates.push(s.date),ph(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ph(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Nx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dc()?fc().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Tx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return dh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return dh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ph(t){return Og(JSON.stringify({version:2,heartbeats:t})).length}function Rx(t){hn(new Kt("platform-logger",e=>new Hw(e),"PRIVATE")),hn(new Kt("heartbeat",e=>new kx(e),"PRIVATE")),Wt(Mu,uh,t),Wt(Mu,uh,"esm2017"),Wt("fire-js","")}Rx("");var Px="firebase",bx="10.14.1";Wt(Px,bx,"app");function gc(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function Yg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mx=Yg,Qg=new Er("auth","Firebase",Yg());const Hs=new pc("@firebase/auth");function Dx(t,...e){Hs.logLevel<=Te.WARN&&Hs.warn(`Auth (${fo}): ${t}`,...e)}function Ls(t,...e){Hs.logLevel<=Te.ERROR&&Hs.error(`Auth (${fo}): ${t}`,...e)}function Yt(t,...e){throw yc(t,...e)}function Lt(t,...e){return yc(t,...e)}function vc(t,e,n){const i=Object.assign(Object.assign({},Mx()),{[e]:n});return new Er("auth","Firebase",i).create(e,{appName:t.name})}function hr(t){return vc(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lx(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Yt(t,"argument-error"),vc(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yc(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Qg.create(t,...e)}function ce(t,e,...n){if(!t)throw yc(e,...n)}function cn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ls(e),new Error(e)}function mn(t,e){t||cn(e)}function Uu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ux(){return hh()==="http:"||hh()==="https:"}function hh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Fx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ux()||cc()||"connection"in navigator)?navigator.onLine:!0}function Ox(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class po{constructor(e,n){this.shortDelay=e,this.longDelay=n,mn(n>e,"Short delay should be less than long delay!"),this.isMobile=uw()||dw()}get(){return Fx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _c(t,e){mn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Xg{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Bx=new po(3e4,6e4);function Ec(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function oi(t,e,n,i,s={}){return jg(t,s,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const p=co(Object.assign({key:t.config.apiKey},c)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:h},a);return cw()||(m.referrerPolicy="no-referrer"),Xg.fetch()(Zg(t,t.config.apiHost,n,p),m)})}async function jg(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Vx),e);try{const s=new Hx(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw ks(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const p=a.ok?c.errorMessage:c.error.message,[h,m]=p.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ks(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw ks(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw ks(t,"user-disabled",c);const v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw vc(t,v,m);Yt(t,v)}}catch(s){if(s instanceof Qt)throw s;Yt(t,"network-request-failed",{message:String(s)})}}async function Gx(t,e,n,i,s={}){const a=await oi(t,e,n,i,s);return"mfaPendingCredential"in a&&Yt(t,"multi-factor-auth-required",{_serverResponse:a}),a}function Zg(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?_c(t.config,s):`${t.config.apiScheme}://${s}`}class Hx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Lt(this.auth,"network-request-failed")),Bx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ks(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Lt(t,e,i);return s.customData._tokenResponse=n,s}async function $x(t,e){return oi(t,"POST","/v1/accounts:delete",e)}async function ev(t,e){return oi(t,"POST","/v1/accounts:lookup",e)}function to(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qx(t,e=!1){const n=yn(t),i=await n.getIdToken(e),s=wc(i);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,c=a?.sign_in_provider;return{claims:s,token:i,authTime:to(wu(s.auth_time)),issuedAtTime:to(wu(s.iat)),expirationTime:to(wu(s.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function wu(t){return Number(t)*1e3}function wc(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ls("JWT malformed, contained fewer than 3 sections"),null;try{const s=Vg(n);return s?JSON.parse(s):(Ls("Failed to decode base64 JWT payload"),null)}catch(s){return Ls("Caught error parsing JWT payload as JSON",s?.toString()),null}}function mh(t){const e=wc(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function lo(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Qt&&zx(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function zx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Wx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Fu{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=to(this.lastLoginAt),this.creationTime=to(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $s(t){var e;const n=t.auth,i=await t.getIdToken(),s=await lo(t,ev(n,{idToken:i}));ce(s?.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?tv(a.providerUserInfo):[],p=Kx(t.providerData,c),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!p?.length,v=h?m:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:p,metadata:new Fu(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(t,_)}async function Jx(t){const e=yn(t);await $s(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kx(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function tv(t){return t.map(e=>{var{providerId:n}=e,i=gc(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function Yx(t,e){const n=await jg(t,{},async()=>{const i=co({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,c=Zg(t,s,"/v1/token",`key=${a}`),p=await t._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",Xg.fetch()(c,{method:"POST",headers:p,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Qx(t,e){return oi(t,"POST","/v2/accounts:revokeToken",Ec(t,e))}class Xr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=mh(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await Yx(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,c=new Xr;return i&&(ce(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(ce(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),a&&(ce(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xr,this.toJSON())}_performRefresh(){return cn("not implemented")}}function Gn(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class dn{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,a=gc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Fu(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await lo(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qx(this,e)}reload(){return Jx(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await $s(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await lo(this,$x(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,a,c,p,h,m,v;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(s=n.email)!==null&&s!==void 0?s:void 0,S=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,A=(c=n.photoURL)!==null&&c!==void 0?c:void 0,N=(p=n.tenantId)!==null&&p!==void 0?p:void 0,I=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,L=(m=n.createdAt)!==null&&m!==void 0?m:void 0,U=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:D,emailVerified:F,isAnonymous:K,providerData:B,stsTokenManager:O}=n;ce(D&&O,e,"internal-error");const z=Xr.fromJSON(this.name,O);ce(typeof D=="string",e,"internal-error"),Gn(_,e.name),Gn(w,e.name),ce(typeof F=="boolean",e,"internal-error"),ce(typeof K=="boolean",e,"internal-error"),Gn(S,e.name),Gn(A,e.name),Gn(N,e.name),Gn(I,e.name),Gn(L,e.name),Gn(U,e.name);const J=new dn({uid:D,auth:e,email:w,emailVerified:F,displayName:_,isAnonymous:K,photoURL:A,phoneNumber:S,tenantId:N,stsTokenManager:z,createdAt:L,lastLoginAt:U});return B&&Array.isArray(B)&&(J.providerData=B.map(se=>Object.assign({},se))),I&&(J._redirectEventId=I),J}static async _fromIdTokenResponse(e,n,i=!1){const s=new Xr;s.updateFromServerResponse(n);const a=new dn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await $s(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];ce(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?tv(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!a?.length,p=new Xr;p.updateFromIdToken(i);const h=new dn({uid:s.localId,auth:e,stsTokenManager:p,isAnonymous:c}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Fu(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(h,m),h}}const gh=new Map;function fn(t){mn(t instanceof Function,"Expected a class definition");let e=gh.get(t);return e?(mn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gh.set(t,e),e)}class nv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nv.type="NONE";const vh=nv;function Us(t,e,n){return`firebase:${t}:${e}:${n}`}class jr{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Us(this.userKey,s.apiKey,a),this.fullPersistenceKey=Us("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?dn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new jr(fn(vh),e,i);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||fn(vh);const c=Us(i,e.config.apiKey,e.name);let p=null;for(const m of n)try{const v=await m._get(c);if(v){const _=dn._fromJSON(e,v);m!==a&&(p=_),a=m;break}}catch{}const h=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new jr(a,e,i):(a=h[0],p&&await a._set(c,p.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new jr(a,e,i))}}function yh(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lv(e))return"Blackberry";if(uv(e))return"Webos";if(iv(e))return"Safari";if((e.includes("chrome/")||ov(e))&&!e.includes("edge/"))return"Chrome";if(av(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function rv(t=ot()){return/firefox\//i.test(t)}function iv(t=ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ov(t=ot()){return/crios\//i.test(t)}function sv(t=ot()){return/iemobile/i.test(t)}function av(t=ot()){return/android/i.test(t)}function lv(t=ot()){return/blackberry/i.test(t)}function uv(t=ot()){return/webos/i.test(t)}function xc(t=ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Xx(t=ot()){var e;return xc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jx(){return fw()&&document.documentMode===10}function cv(t=ot()){return xc(t)||av(t)||uv(t)||lv(t)||/windows phone/i.test(t)||sv(t)}function dv(t,e=[]){let n;switch(t){case"Browser":n=yh(ot());break;case"Worker":n=`${yh(ot())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${i}`}class Zx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((c,p)=>{try{const h=e(a);c(h)}catch(h){p(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function eS(t,e={}){return oi(t,"GET","/v2/passwordPolicy",Ec(t,e))}const tS=6;class nS{constructor(e){var n,i,s,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:tS,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,a,c,p;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(p=h.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class rS{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _h(this),this.idTokenSubscription=new _h(this),this.beforeStateQueue=new Zx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fn(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await jr.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ev(this,{idToken:e}),i=await dn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===p)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $s(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ox()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(hr(this));const n=e?yn(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eS(this),n=new nS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Er("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Qx(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fn(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await jr.create(this,[fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(p,this,"internal-error"),p.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,s);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&Dx(`Error while retrieving App Check token: ${n.error}`),n?.token}}function oa(t){return yn(t)}class _h{constructor(e){this.auth=e,this.observer=null,this.addObserver=vw(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iS(t){Sc=t}function oS(t){return Sc.loadJS(t)}function sS(){return Sc.gapiScript}function aS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function lS(t,e){const n=ii(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(oo(a,e??{}))return s;Yt(s,"already-initialized")}return n.initialize({options:e})}function uS(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(fn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function cS(t,e,n){const i=oa(t);ce(i._canInitEmulator,i,"emulator-config-failed"),ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=fv(e),{host:c,port:p}=dS(e),h=p===null?"":`:${p}`;i.config.emulator={url:`${a}//${c}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:p,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),fS()}function fv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dS(t){const e=fv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Eh(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Eh(c)}}}function Eh(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fS(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class pv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cn("not implemented")}_getIdTokenResponse(e){return cn("not implemented")}_linkToIdToken(e,n){return cn("not implemented")}_getReauthenticationResolver(e){return cn("not implemented")}}async function Zr(t,e){return Gx(t,"POST","/v1/accounts:signInWithIdp",Ec(t,e))}const pS="http://localhost";class mr extends pv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,a=gc(n,["providerId","signInMethod"]);if(!i||!s)return null;const c=new mr(i,s);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Zr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Zr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zr(e,n)}buildRequest(){const e={requestUri:pS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=co(n)}return e}}class Tc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ho extends Tc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hn extends ho{constructor(){super("facebook.com")}static credential(e){return mr._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hn.credential(e.oauthAccessToken)}catch{return null}}}Hn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hn.PROVIDER_ID="facebook.com";class ln extends ho{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mr._fromParams({providerId:ln.PROVIDER_ID,signInMethod:ln.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ln.credentialFromTaggedObject(e)}static credentialFromError(e){return ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ln.credential(n,i)}catch{return null}}}ln.GOOGLE_SIGN_IN_METHOD="google.com";ln.PROVIDER_ID="google.com";class $n extends ho{constructor(){super("github.com")}static credential(e){return mr._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $n.credential(e.oauthAccessToken)}catch{return null}}}$n.GITHUB_SIGN_IN_METHOD="github.com";$n.PROVIDER_ID="github.com";class qn extends ho{constructor(){super("twitter.com")}static credential(e,n){return mr._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return qn.credential(n,i)}catch{return null}}}qn.TWITTER_SIGN_IN_METHOD="twitter.com";qn.PROVIDER_ID="twitter.com";class ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await dn._fromIdTokenResponse(e,i,s),c=wh(i);return new ni({user:a,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=wh(i);return new ni({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function wh(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class qs extends Qt{constructor(e,n,i,s){var a;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,qs.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new qs(e,n,i,s)}}function hv(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?qs._fromErrorAndOperation(t,a,e,i):a})}async function hS(t,e,n=!1){const i=await lo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ni._forOperation(t,"link",i)}async function mS(t,e,n=!1){const{auth:i}=t;if(un(i.app))return Promise.reject(hr(i));const s="reauthenticate";try{const a=await lo(t,hv(i,s,e,t),n);ce(a.idToken,i,"internal-error");const c=wc(a.idToken);ce(c,i,"internal-error");const{sub:p}=c;return ce(t.uid===p,i,"user-mismatch"),ni._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Yt(i,"user-mismatch"),a}}async function gS(t,e,n=!1){if(un(t.app))return Promise.reject(hr(t));const i="signIn",s=await hv(t,i,e),a=await ni._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}function vS(t,e,n,i){return yn(t).onIdTokenChanged(e,n,i)}function yS(t,e,n){return yn(t).beforeAuthStateChanged(e,n)}function mv(t){return yn(t).signOut()}const zs="__sak";class gv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zs,"1"),this.storage.removeItem(zs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _S=1e3,ES=10;class vv extends gv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,p,h)=>{this.notifyListeners(c,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);jx()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ES):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},_S)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vv.type="LOCAL";const wS=vv;class yv extends gv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yv.type="SESSION";const _v=yv;function xS(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class sa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new sa(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,c=this.handlersMap[s];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const p=Array.from(c).map(async m=>m(n.origin,a)),h=await xS(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sa.receivers=[];function Ic(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class SS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,c;return new Promise((p,h)=>{const m=Ic("",20);s.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(_){const w=_;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),p(w.data.response);break;default:clearTimeout(v),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Jt(){return window}function TS(t){Jt().location.href=t}function Ev(){return typeof Jt().WorkerGlobalScope<"u"&&typeof Jt().importScripts=="function"}async function IS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CS(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kS(){return Ev()?self:null}const wv="firebaseLocalStorageDb",AS=1,Ws="firebaseLocalStorage",xv="fbase_key";class mo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function aa(t,e){return t.transaction([Ws],e?"readwrite":"readonly").objectStore(Ws)}function NS(){const t=indexedDB.deleteDatabase(wv);return new mo(t).toPromise()}function Ou(){const t=indexedDB.open(wv,AS);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Ws,{keyPath:xv})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Ws)?e(i):(i.close(),await NS(),e(await Ou()))})})}async function xh(t,e,n){const i=aa(t,!0).put({[xv]:e,value:n});return new mo(i).toPromise()}async function RS(t,e){const n=aa(t,!1).get(e),i=await new mo(n).toPromise();return i===void 0?null:i.value}function Sh(t,e){const n=aa(t,!0).delete(e);return new mo(n).toPromise()}const PS=800,bS=3;class Sv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ou(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>bS)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ev()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sa._getInstance(kS()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await IS(),!this.activeServiceWorker)return;this.sender=new SS(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ou();return await xh(e,zs,"1"),await Sh(e,zs),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>xh(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>RS(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sh(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=aa(s,!1).getAll();return new mo(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sv.type="LOCAL";const MS=Sv;new po(3e4,6e4);function Tv(t,e){return e?fn(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Cc extends pv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DS(t){return gS(t.auth,new Cc(t),t.bypassAuthState)}function LS(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),mS(n,new Cc(t),t.bypassAuthState)}async function US(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),hS(n,new Cc(t),t.bypassAuthState)}class Iv{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:c,type:p}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DS;case"linkViaPopup":case"linkViaRedirect":return US;case"reauthViaPopup":case"reauthViaRedirect":return LS;default:Yt(this.auth,"internal-error")}}resolve(e){mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const FS=new po(2e3,1e4);async function OS(t,e,n){if(un(t.app))return Promise.reject(Lt(t,"operation-not-supported-in-this-environment"));const i=oa(t);Lx(t,e,Tc);const s=Tv(i,n);return new fr(i,"signInViaPopup",e,s).executeNotNull()}class fr extends Iv{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,fr.currentPopupAction&&fr.currentPopupAction.cancel(),fr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){mn(this.filter.length===1,"Popup operations only handle one event");const e=Ic();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FS.get())};e()}}fr.currentPopupAction=null;const VS="pendingRedirect",Fs=new Map;class BS extends Iv{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Fs.get(this.auth._key());if(!e){try{const i=await GS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Fs.set(this.auth._key(),e)}return this.bypassAuthState||Fs.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GS(t,e){const n=qS(e),i=$S(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function HS(t,e){Fs.set(t._key(),e)}function $S(t){return fn(t._redirectPersistence)}function qS(t){return Us(VS,t.config.apiKey,t.name)}async function zS(t,e,n=!1){if(un(t.app))return Promise.reject(hr(t));const i=oa(t),s=Tv(i,e),c=await new BS(i,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const WS=600*1e3;class JS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KS(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Cv(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Lt(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WS&&this.cachedEventUids.clear(),this.cachedEventUids.has(Th(e))}saveEventToCache(e){this.cachedEventUids.add(Th(e)),this.lastProcessedEventTime=Date.now()}}function Th(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Cv({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function KS(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cv(t);default:return!1}}async function YS(t,e={}){return oi(t,"GET","/v1/projects",e)}const QS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XS=/^https?/;async function jS(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YS(t);for(const n of e)try{if(ZS(n))return}catch{}Yt(t,"unauthorized-domain")}function ZS(t){const e=Uu(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!XS.test(n))return!1;if(QS.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}const eT=new po(3e4,6e4);function Ih(){const t=Jt().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tT(t){return new Promise((e,n)=>{var i,s,a;function c(){Ih(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ih(),n(Lt(t,"network-request-failed"))},timeout:eT.get()})}if(!((s=(i=Jt().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Jt().gapi)===null||a===void 0)&&a.load)c();else{const p=aS("iframefcb");return Jt()[p]=()=>{gapi.load?c():n(Lt(t,"network-request-failed"))},oS(`${sS()}?onload=${p}`).catch(h=>n(h))}}).catch(e=>{throw Os=null,e})}let Os=null;function nT(t){return Os=Os||tT(t),Os}const rT=new po(5e3,15e3),iT="__/auth/iframe",oT="emulator/auth/iframe",sT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lT(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_c(e,oT):`https://${t.config.authDomain}/${iT}`,i={apiKey:e.apiKey,appName:t.name,v:fo},s=aT.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${co(i).slice(1)}`}async function uT(t){const e=await nT(t),n=Jt().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:lT(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sT,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const c=Lt(t,"network-request-failed"),p=Jt().setTimeout(()=>{a(c)},rT.get());function h(){Jt().clearTimeout(p),s(i)}i.ping(h).then(h,()=>{a(c)})}))}const cT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dT=500,fT=600,pT="_blank",hT="http://localhost";class Ch{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mT(t,e,n,i=dT,s=fT){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const h=Object.assign(Object.assign({},cT),{width:i.toString(),height:s.toString(),top:a,left:c}),m=ot().toLowerCase();n&&(p=ov(m)?pT:n),rv(m)&&(e=e||hT,h.scrollbars="yes");const v=Object.entries(h).reduce((w,[S,A])=>`${w}${S}=${A},`,"");if(Xx(m)&&p!=="_self")return gT(e||"",p),new Ch(null);const _=window.open(e||"",p,v);ce(_,t,"popup-blocked");try{_.focus()}catch{}return new Ch(_)}function gT(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const vT="__/auth/handler",yT="emulator/auth/handler",_T=encodeURIComponent("fac");async function kh(t,e,n,i,s,a){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:fo,eventId:s};if(e instanceof Tc){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",gw(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof ho){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const p=c;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const h=await t._getAppCheckToken(),m=h?`#${_T}=${encodeURIComponent(h)}`:"";return`${ET(t)}?${co(p).slice(1)}${m}`}function ET({config:t}){return t.emulator?_c(t,yT):`https://${t.authDomain}/${vT}`}const xu="webStorageSupport";class wT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_v,this._completeRedirectFn=zS,this._overrideRedirectResult=HS}async _openPopup(e,n,i,s){var a;mn((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await kh(e,n,i,Uu(),s);return mT(e,c,Ic())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await kh(e,n,i,Uu(),s);return TS(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(mn(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await uT(e),i=new JS(e);return n.register("authEvent",s=>(ce(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xu,{type:xu},s=>{var a;const c=(a=s?.[0])===null||a===void 0?void 0:a[xu];c!==void 0&&n(!!c),Yt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jS(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cv()||iv()||xc()}}const xT=wT;var Ah="@firebase/auth",Nh="1.7.9";class ST{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TT(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IT(t){hn(new Kt("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:p}=i.options;ce(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:c,authDomain:p,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dv(t)},m=new rS(i,s,a,h);return uS(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),hn(new Kt("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(i=>new ST(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wt(Ah,Nh,TT(t)),Wt(Ah,Nh,"esm2017")}const CT=300,kT=Gg("authIdTokenMaxAge")||CT;let Rh=null;const AT=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>kT)return;const s=n?.token;Rh!==s&&(Rh=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function NT(t=mc()){const e=ii(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lS(t,{popupRedirectResolver:xT,persistence:[MS,wS,_v]}),i=Gg("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=AT(a.toString());yS(n,c,()=>c(n.currentUser)),vS(n,p=>c(p))}}const s=aw("auth");return s&&cS(n,`http://${s}`),n}function RT(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}iS({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=Lt("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",RT().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IT("Browser");const kv="@firebase/installations",kc="0.6.9";const Av=1e4,Nv=`w:${kc}`,Rv="FIS_v2",PT="https://firebaseinstallations.googleapis.com/v1",bT=3600*1e3,MT="installations",DT="Installations";const LT={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},gr=new Er(MT,DT,LT);function Pv(t){return t instanceof Qt&&t.code.includes("request-failed")}function bv({projectId:t}){return`${PT}/projects/${t}/installations`}function Mv(t){return{token:t.token,requestStatus:2,expiresIn:FT(t.expiresIn),creationTime:Date.now()}}async function Dv(t,e){const i=(await e.json()).error;return gr.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Lv({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function UT(t,{refreshToken:e}){const n=Lv(t);return n.append("Authorization",OT(e)),n}async function Uv(t){const e=await t();return e.status>=500&&e.status<600?t():e}function FT(t){return Number(t.replace("s","000"))}function OT(t){return`${Rv} ${t}`}async function VT({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=bv(t),s=Lv(t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const c={fid:n,authVersion:Rv,appId:t.appId,sdkVersion:Nv},p={method:"POST",headers:s,body:JSON.stringify(c)},h=await Uv(()=>fetch(i,p));if(h.ok){const m=await h.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:Mv(m.authToken)}}else throw await Dv("Create Installation",h)}function Fv(t){return new Promise(e=>{setTimeout(e,t)})}function BT(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const GT=/^[cdef][\w-]{21}$/,Vu="";function HT(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=$T(t);return GT.test(n)?n:Vu}catch{return Vu}}function $T(t){return BT(t).substr(0,22)}function la(t){return`${t.appName}!${t.appId}`}const Ov=new Map;function Vv(t,e){const n=la(t);Bv(n,e),qT(n,e)}function Bv(t,e){const n=Ov.get(t);if(n)for(const i of n)i(e)}function qT(t,e){const n=zT();n&&n.postMessage({key:t,fid:e}),WT()}let pr=null;function zT(){return!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=t=>{Bv(t.data.key,t.data.fid)}),pr}function WT(){Ov.size===0&&pr&&(pr.close(),pr=null)}const JT="firebase-installations-database",KT=1,vr="firebase-installations-store";let Su=null;function Ac(){return Su||(Su=zg(JT,KT,{upgrade:(t,e)=>{e===0&&t.createObjectStore(vr)}})),Su}async function Js(t,e){const n=la(t),s=(await Ac()).transaction(vr,"readwrite"),a=s.objectStore(vr),c=await a.get(n);return await a.put(e,n),await s.done,(!c||c.fid!==e.fid)&&Vv(t,e.fid),e}async function Gv(t){const e=la(t),i=(await Ac()).transaction(vr,"readwrite");await i.objectStore(vr).delete(e),await i.done}async function ua(t,e){const n=la(t),s=(await Ac()).transaction(vr,"readwrite"),a=s.objectStore(vr),c=await a.get(n),p=e(c);return p===void 0?await a.delete(n):await a.put(p,n),await s.done,p&&(!c||c.fid!==p.fid)&&Vv(t,p.fid),p}async function Nc(t){let e;const n=await ua(t.appConfig,i=>{const s=YT(i),a=QT(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===Vu?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function YT(t){const e=t||{fid:HT(),registrationStatus:0};return Hv(e)}function QT(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(gr.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=XT(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:jT(t)}:{installationEntry:e}}async function XT(t,e){try{const n=await VT(t,e);return Js(t.appConfig,n)}catch(n){throw Pv(n)&&n.customData.serverCode===409?await Gv(t.appConfig):await Js(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function jT(t){let e=await Ph(t.appConfig);for(;e.registrationStatus===1;)await Fv(100),e=await Ph(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Nc(t);return i||n}return e}function Ph(t){return ua(t,e=>{if(!e)throw gr.create("installation-not-found");return Hv(e)})}function Hv(t){return ZT(t)?{fid:t.fid,registrationStatus:0}:t}function ZT(t){return t.registrationStatus===1&&t.registrationTime+Av<Date.now()}async function eI({appConfig:t,heartbeatServiceProvider:e},n){const i=tI(t,n),s=UT(t,n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const c={installation:{sdkVersion:Nv,appId:t.appId}},p={method:"POST",headers:s,body:JSON.stringify(c)},h=await Uv(()=>fetch(i,p));if(h.ok){const m=await h.json();return Mv(m)}else throw await Dv("Generate Auth Token",h)}function tI(t,{fid:e}){return`${bv(t)}/${e}/authTokens:generate`}async function Rc(t,e=!1){let n;const i=await ua(t.appConfig,a=>{if(!$v(a))throw gr.create("not-registered");const c=a.authToken;if(!e&&iI(c))return a;if(c.requestStatus===1)return n=nI(t,e),a;{if(!navigator.onLine)throw gr.create("app-offline");const p=sI(a);return n=rI(t,p),p}});return n?await n:i.authToken}async function nI(t,e){let n=await bh(t.appConfig);for(;n.authToken.requestStatus===1;)await Fv(100),n=await bh(t.appConfig);const i=n.authToken;return i.requestStatus===0?Rc(t,e):i}function bh(t){return ua(t,e=>{if(!$v(e))throw gr.create("not-registered");const n=e.authToken;return aI(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function rI(t,e){try{const n=await eI(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Js(t.appConfig,i),n}catch(n){if(Pv(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Gv(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Js(t.appConfig,i)}throw n}}function $v(t){return t!==void 0&&t.registrationStatus===2}function iI(t){return t.requestStatus===2&&!oI(t)}function oI(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+bT}function sI(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function aI(t){return t.requestStatus===1&&t.requestTime+Av<Date.now()}async function lI(t){const e=t,{installationEntry:n,registrationPromise:i}=await Nc(e);return i?i.catch(console.error):Rc(e).catch(console.error),n.fid}async function uI(t,e=!1){const n=t;return await cI(n),(await Rc(n,e)).token}async function cI(t){const{registrationPromise:e}=await Nc(t);e&&await e}function dI(t){if(!t||!t.options)throw Tu("App Configuration");if(!t.name)throw Tu("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Tu(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Tu(t){return gr.create("missing-app-config-values",{valueName:t})}const qv="installations",fI="installations-internal",pI=t=>{const e=t.getProvider("app").getImmediate(),n=dI(e),i=ii(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},hI=t=>{const e=t.getProvider("app").getImmediate(),n=ii(e,qv).getImmediate();return{getId:()=>lI(n),getToken:s=>uI(n,s)}};function mI(){hn(new Kt(qv,pI,"PUBLIC")),hn(new Kt(fI,hI,"PRIVATE"))}mI();Wt(kv,kc);Wt(kv,kc,"esm2017");const Ks="analytics",gI="firebase_id",vI="origin",yI=60*1e3,_I="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pc="https://www.googletagmanager.com/gtag/js";const pt=new pc("@firebase/analytics");const EI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_t=new Er("analytics","Analytics",EI);function wI(t){if(!t.startsWith(Pc)){const e=_t.create("invalid-gtag-resource",{gtagURL:t});return pt.warn(e.message),""}return t}function zv(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function xI(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function SI(t,e){const n=xI("firebase-js-sdk-policy",{createScriptURL:wI}),i=document.createElement("script"),s=`${Pc}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function TI(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function II(t,e,n,i,s,a){const c=i[s];try{if(c)await e[c];else{const h=(await zv(n)).find(m=>m.measurementId===s);h&&await e[h.appId]}}catch(p){pt.error(p)}t("config",s,a)}async function CI(t,e,n,i,s){try{let a=[];if(s&&s.send_to){let c=s.send_to;Array.isArray(c)||(c=[c]);const p=await zv(n);for(const h of c){const m=p.find(_=>_.measurementId===h),v=m&&e[m.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",i,s||{})}catch(a){pt.error(a)}}function kI(t,e,n,i){async function s(a,...c){try{if(a==="event"){const[p,h]=c;await CI(t,e,n,p,h)}else if(a==="config"){const[p,h]=c;await II(t,e,n,i,p,h)}else if(a==="consent"){const[p,h]=c;t("consent",p,h)}else if(a==="get"){const[p,h,m]=c;t("get",p,h,m)}else if(a==="set"){const[p]=c;t("set",p)}else t(a,...c)}catch(p){pt.error(p)}}return s}function AI(t,e,n,i,s){let a=function(...c){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=kI(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function NI(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Pc)&&n.src.includes(t))return n;return null}const RI=30,PI=1e3;class bI{constructor(e={},n=PI){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Wv=new bI;function MI(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function DI(t){var e;const{appId:n,apiKey:i}=t,s={method:"GET",headers:MI(i)},a=_I.replace("{app-id}",n),c=await fetch(a,s);if(c.status!==200&&c.status!==304){let p="";try{const h=await c.json();!((e=h.error)===null||e===void 0)&&e.message&&(p=h.error.message)}catch{}throw _t.create("config-fetch-failed",{httpStatus:c.status,responseMessage:p})}return c.json()}async function LI(t,e=Wv,n){const{appId:i,apiKey:s,measurementId:a}=t.options;if(!i)throw _t.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:i};throw _t.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new OI;return setTimeout(async()=>{p.abort()},yI),Jv({appId:i,apiKey:s,measurementId:a},c,p,e)}async function Jv(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=Wv){var a;const{appId:c,measurementId:p}=t;try{await UI(i,e)}catch(h){if(p)return pt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:c,measurementId:p};throw h}try{const h=await DI(t);return s.deleteThrottleMetadata(c),h}catch(h){const m=h;if(!FI(m)){if(s.deleteThrottleMetadata(c),p)return pt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:p};throw h}const v=Number((a=m?.customData)===null||a===void 0?void 0:a.httpStatus)===503?oh(n,s.intervalMillis,RI):oh(n,s.intervalMillis),_={throttleEndTimeMillis:Date.now()+v,backoffCount:n+1};return s.setThrottleMetadata(c,_),pt.debug(`Calling attemptFetch again in ${v} millis`),Jv(t,_,i,s)}}function UI(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),i(_t.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function FI(t){if(!(t instanceof Qt)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class OI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function VI(t,e,n,i,s){if(s&&s.global){t("event",n,i);return}else{const a=await e,c=Object.assign(Object.assign({},i),{send_to:a});t("event",n,c)}}async function BI(){if(dc())try{await fc()}catch(t){return pt.warn(_t.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return pt.warn(_t.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function GI(t,e,n,i,s,a,c){var p;const h=LI(t);h.then(S=>{n[S.measurementId]=S.appId,t.options.measurementId&&S.measurementId!==t.options.measurementId&&pt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>pt.error(S)),e.push(h);const m=BI().then(S=>{if(S)return i.getId()}),[v,_]=await Promise.all([h,m]);NI(a)||SI(a,v.measurementId),s("js",new Date);const w=(p=c?.config)!==null&&p!==void 0?p:{};return w[vI]="firebase",w.update=!0,_!=null&&(w[gI]=_),s("config",v.measurementId,w),v.measurementId}class HI{constructor(e){this.app=e}_delete(){return delete no[this.app.options.appId],Promise.resolve()}}let no={},Mh=[];const Dh={};let Iu="dataLayer",$I="gtag",Lh,Kv,Uh=!1;function qI(){const t=[];if(cc()&&t.push("This is a browser extension environment."),Hg()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=_t.create("invalid-analytics-context",{errorInfo:e});pt.warn(n.message)}}function zI(t,e,n){qI();const i=t.options.appId;if(!i)throw _t.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)pt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _t.create("no-api-key");if(no[i]!=null)throw _t.create("already-exists",{id:i});if(!Uh){TI(Iu);const{wrappedGtag:a,gtagCore:c}=AI(no,Mh,Dh,Iu,$I);Kv=a,Lh=c,Uh=!0}return no[i]=GI(t,Mh,Dh,e,Lh,Iu,n),new HI(t)}function WI(t=mc()){t=yn(t);const e=ii(t,Ks);return e.isInitialized()?e.getImmediate():JI(t)}function JI(t,e={}){const n=ii(t,Ks);if(n.isInitialized()){const s=n.getImmediate();if(oo(e,n.getOptions()))return s;throw _t.create("already-initialized")}return n.initialize({options:e})}async function KI(){if(cc()||!Hg()||!dc())return!1;try{return await fc()}catch{return!1}}function YI(t,e,n,i){t=yn(t),VI(Kv,no[t.app.options.appId],e,n,i).catch(s=>pt.error(s))}const Fh="@firebase/analytics",Oh="0.10.8";function QI(){hn(new Kt(Ks,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return zI(i,s,n)},"PUBLIC")),hn(new Kt("analytics-internal",t,"PRIVATE")),Wt(Fh,Oh),Wt(Fh,Oh,"esm2017");function t(e){try{const n=e.getProvider(Ks).getImmediate();return{logEvent:(i,s,a)=>YI(n,i,s,a)}}catch(n){throw _t.create("interop-component-reg-failed",{reason:n})}}}QI();const XI={apiKey:"AIzaSyBChKW72ipQRNkBA0r6j7db6hVKy75q1Dw",authDomain:"sastra-lost-found-bc64b.firebaseapp.com",projectId:"sastra-lost-found-bc64b",storageBucket:"sastra-lost-found-bc64b.firebasestorage.app",messagingSenderId:"251772845522",appId:"1:251772845522:web:4741ceaa413c94f5df5c0b",measurementId:"G-FVM0GK8BCY"},Yv=wx().length===0?Wg(XI):mc(),Bu=NT(Yv),jI=new ln;KI().then(t=>{t&&WI(Yv)}).catch(t=>{console.warn("Firebase Analytics not supported in this environment")});const Qv="sastra_users_db",As=()=>{const t=localStorage.getItem(Qv);return t?JSON.parse(t):[]},Vh=t=>{localStorage.setItem(Qv,JSON.stringify(t))},si={async getUser(t){return As().find(n=>n.email.toLowerCase()===t.toLowerCase())||null},async saveUser(t){const e=As(),n=e.findIndex(i=>i.email.toLowerCase()===t.email.toLowerCase());return n!==-1?e[n]=t:e.push(t),Vh(e),t},async getAllUsers(){return As()},async deleteUser(t){const n=As().filter(i=>i.id!==t);Vh(n)},isCloudConnected:()=>!0,isDatabaseActive:()=>!0,getLastError:()=>null},ai="sastra_lf_session",Xv="hariharan.s220507@gmail.com",ZI=t=>{if(!t)return!1;const e=t.toLowerCase();return/^\d{9}@sastra\.ac\.in$/i.test(e)||e.endsWith("@sastra.ac.in")||e===Xv.toLowerCase()},_n=t=>t?t.toLowerCase()===Xv.toLowerCase():!1,eC=async()=>{try{await mv(Bu)}catch(t){console.error("Logout Error:",t)}localStorage.removeItem(ai)},bc=()=>{const t=localStorage.getItem(ai);if(!t)return null;try{return JSON.parse(t)}catch{return null}},tC=async()=>{try{const e=(await OS(Bu,jI)).user;if(!e||!e.email||!ZI(e.email))return await mv(Bu),{error:"Access Denied: Only SASTRA Institutional accounts are permitted."};const n=e.email.toLowerCase(),i=await si.getUser(n);if(i&&i.onboarded)return localStorage.setItem(ai,JSON.stringify(i)),i;const s=_n(n),a=s?"ADMIN":n.split("@")[0]||"N/A",c=e.displayName||(s?"System Admin":`Student ${a}`),p=e.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(c)}&background=1e3a8a&color=fff&size=256&bold=true`;return{id:btoa(n).replace(/[/+=]/g,""),name:c,email:n,registrationNumber:a,profilePicture:p,trustScore:100,resolvedCount:0,onboarded:!1,theme:"light"}}catch(t){return console.error("Auth Error:",t),{error:t.message||"Authentication failed."}}},nC=async(t,e)=>{const n={...t,...e,name:(e?.name||t.name).trim(),onboarded:!0};try{const i=await si.saveUser(n);return localStorage.setItem(ai,JSON.stringify(i)),i}catch(i){throw console.error("Onboarding Persistence Error:",i),i}},rC=async t=>{const e=bc();e&&(e.theme=t,localStorage.setItem(ai,JSON.stringify(e)),await si.saveUser(e).catch(()=>{}))},Bh=async t=>{const e=bc();if(e){const n={...e,...t};try{const i=await si.saveUser(n);return localStorage.setItem(ai,JSON.stringify(i)),i}catch(i){return console.error("Profile update failed:",i),null}}return null},Gh=async()=>await si.getAllUsers(),iC=async t=>await si.deleteUser(t),oC=({user:t,items:e,onLogout:n,theme:i,onToggleTheme:s})=>{const a=_n(t.email),c=e.filter(p=>(p.reporterId===t.id||p.messages&&p.messages.some(h=>h.senderId===t.id))&&p.messages&&p.messages.length>0).length;return E.jsx("nav",{className:"bg-white dark:bg-slate-900 border-b dark:border-slate-800 sticky top-0 z-50 transition-colors",children:E.jsx("div",{className:"container mx-auto px-4 max-w-7xl",children:E.jsxs("div",{className:"flex justify-between items-center h-16",children:[E.jsx("div",{className:"flex items-center gap-4",children:E.jsxs(an,{to:"/",className:"flex items-center space-x-2 group",children:[E.jsx("div",{className:"bg-blue-800 text-white p-2 rounded-lg w-9 h-9 flex items-center justify-center group-hover:bg-blue-900 transition-colors",children:E.jsx("i",{className:"fas fa-search-location text-lg"})}),E.jsx("span",{className:"font-black text-lg md:text-xl text-blue-900 dark:text-white tracking-tighter uppercase hidden sm:inline",children:"Sastra L&F"})]})}),E.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[a&&E.jsx(an,{to:"/admin/users",className:"p-2 w-10 h-10 rounded-xl bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 hover:bg-amber-100 dark:hover:bg-amber-900/40 transition flex items-center justify-center border border-amber-100 dark:border-amber-800 shadow-sm",title:"Admin Control Center",children:E.jsx("i",{className:"fas fa-shield-halved text-sm"})}),E.jsx("button",{onClick:s,className:"p-2 w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-blue-50 dark:hover:bg-slate-700 hover:text-blue-600 dark:hover:text-blue-400 transition-all flex items-center justify-center border border-slate-100 dark:border-slate-700 shadow-sm active:scale-90",children:E.jsx("i",{className:`fas ${i==="light"?"fa-moon":"fa-sun"} text-sm`})}),E.jsxs(an,{to:"/chats",className:"p-2 w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-blue-50 dark:hover:bg-slate-700 transition flex items-center justify-center relative border border-slate-100 dark:border-slate-700",children:[E.jsx("i",{className:"fas fa-comment-alt text-sm"}),c>0&&E.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-600 text-white text-[10px] font-black flex items-center justify-center rounded-full border-2 border-white dark:border-slate-800 animate-pulse",children:c})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs(an,{to:"/report/lost",className:"flex items-center justify-center gap-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 px-3 md:px-5 py-2 rounded-xl text-xs md:text-sm font-bold hover:bg-red-100 dark:hover:bg-red-900/40 transition whitespace-nowrap",children:[E.jsx("i",{className:"fas fa-plus-circle"}),E.jsx("span",{className:"hidden xs:inline",children:"Lost"})]}),E.jsxs(an,{to:"/report/found",className:"flex items-center justify-center gap-2 bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-3 md:px-5 py-2 rounded-xl text-xs md:text-sm font-bold hover:bg-green-100 dark:hover:bg-green-900/50 transition whitespace-nowrap",children:[E.jsx("i",{className:"fas fa-bullhorn"}),E.jsx("span",{className:"hidden xs:inline",children:"Found"})]})]}),E.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-slate-800 hidden sm:block"}),E.jsxs("div",{className:"flex items-center gap-3 pl-2 md:pl-0",children:[E.jsx(an,{to:"/profile",className:"flex items-center gap-2 group",children:E.jsx("img",{src:t.profilePicture,alt:t.name,referrerPolicy:"no-referrer",className:"w-8 h-8 md:w-10 md:h-10 rounded-xl object-cover ring-2 ring-transparent group-hover:ring-blue-100 dark:group-hover:ring-blue-900 transition shadow-sm bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700"})}),E.jsx("button",{onClick:n,className:"text-slate-400 hover:text-red-500 transition p-2",title:"Logout",children:E.jsx("i",{className:"fas fa-sign-out-alt"})})]})]})]})})})};var We=(t=>(t.LOST="LOST",t.FOUND="FOUND",t))(We||{}),ke=(t=>(t.NEW="NEW",t.PENDING_CLAIM="PENDING_CLAIM",t.CLAIMED="CLAIMED",t.RESOLVED="RESOLVED",t))(ke||{});const Gu=["Electronics","Books","IDs","Keys","Bags","Watches","Wallets","Others"],Ys=["1st Year","2nd Year","3rd Year","4th Year","5th Year"],Qs=["B.Tech. Aerospace Engineering","B.Tech. Bioengineering","B.Tech. Bioinformatics","B.Tech. Biotechnology","B.Tech. Chemical Engineering","B.Tech. Civil Engineering","B.Tech. Computer Science & Engineering","B.Tech. Computer Science & Engineering (AI & DS)","B.Tech. Computer Science & Engineering (CS & BCT)","B.Tech. Computer Science & Engineering (IoT & Automation)","B.Tech. Computer Science & Engineering (Networks)","B.Tech. Electrical and Electronics Engineering","B.Tech. Electronics & Communication Engineering","B.Tech. Electronics & Instrumentation Engineering","B.Tech. Information and Communication Technology","B.Tech. Information Technology","B.Tech. Mechanical Engineering","B.Tech. Mechatronics","B.Tech. Robotics & Artificial Intelligence","M.Tech. Digital Manufacturing","M.Tech. Cyber Security","M.Sc. Data Science","Integrated M.Sc. Physics","Integrated M.Sc. Mathematics","BA LLB","BBA LLB","B.Com LLB"],Hh=[{id:"1",title:"Black Samsung Smartphone",category:"Electronics",type:"FOUND",description:"Found on a ASK 2. The screen is black and it seems to be switched off.",location:"ASK 2",imagePaths:["https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMPHI_FIqI6khMzlsSTDIqNSvqxkF6vts4Mw&s"],reporterId:"user123",reporterName:"Vishnu",date:"10-02-2025",status:"NEW",messages:[]},{id:"2",title:"IPHONE",category:"Electronics",type:"FOUND",description:"Spotted this phone in the cricket ground. Still appears to be functional.",location:"SASTRA Cricket Ground",imagePaths:["https://www.shutterstock.com/image-photo/mobile-phone-dropped-lost-sand-260nw-2456370675.jpg"],reporterId:"user789",reporterName:"Suresh Kumar",date:"11-02-2025",status:"NEW",messages:[]},{id:"3",title:"Bunch of Keys",category:"Keys",type:"FOUND",description:"Found a bunch of keys near the hand washing area",location:"Krishna Canteen",imagePaths:["https://www.alloffice.co.za/wp-content/uploads/find-lost-keys.jpg"],reporterId:"user456",reporterName:"Varun",date:"12-02-2025",status:"NEW",messages:[]},{id:"4",title:"Brown Leather Wallet",category:"Wallets",type:"LOST",description:"Lost my Brown bi-fold leather wallet. It was last seen when I was sitting on the grass near the VV lawn. Contains some cash and a Pan card.",location:"VV Lawn",imagePaths:["https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQlzYvO84IRseTH3QeWOgSkP5-hljwxUrgAVw&s"],reporterId:"user202",reporterName:"Arun V.",date:"13-02-2025",status:"NEW",messages:[]},{id:"5",title:"Military Style Watch",category:"Watches",type:"FOUND",description:"Found a watch with a black nylon strap on a wooden desk in the Mechanical Engineering workshop. It has a distinct black dial with white numbers.",location:"Forging Lab - VKJ",imagePaths:["https://media.istockphoto.com/id/173015527/photo/a-single-red-book-on-a-white-surface.jpg?s=612x612&w=0&k=20&c=AeKmdZvg2_bRY2Yct7odWhZXav8CgDtLMc_5_pjSItY="],reporterId:"user303",reporterName:"Priya Dharshini",date:"14-02-2025",status:"NEW",messages:[]},{id:"6",title:"Grey Backpack",category:"Bags",type:"LOST",description:"Grey backpack with blue accents and Strabo branding Contains lab records and a laptop charger.",location:"Library",imagePaths:["https://safaribags.com/cdn/shop/files/2_3d6acc65-50a9-4d45-b83c-31bb315d7b05_1024x.jpg?v=1707731912"],reporterId:"user404",reporterName:"Vignesh R.",date:"15-02-2025",status:"NEW",messages:[]},{id:"7",title:"Dairy",category:"Books",type:"LOST",description:"Red Color Diary, with my name written in the front page",location:"VK Auditorium",imagePaths:["https://media.istockphoto.com/id/173015527/photo/a-single-red-book-on-a-white-surface.jpg?s=612x612&w=0&k=20&c=AeKmdZvg2_bRY2Yct7odWhZXav8CgDtLMc_5_pjSItY="],reporterId:"user456",reporterName:"Badri S",date:"11-02-2025",status:"NEW",messages:[]}],sC=({items:t,user:e})=>{const[n,i]=V.useState(We.FOUND),[s,a]=V.useState(""),[c,p]=V.useState("All"),h=_n(e.email),m=_r(),v=V.useMemo(()=>t.filter(_=>{const w=_.type===n,S=_.title.toLowerCase().includes(s.toLowerCase())||_.description.toLowerCase().includes(s.toLowerCase()),A=c==="All"||_.category===c,N=_.status===ke.NEW||_.status===ke.PENDING_CLAIM,I=!h&&_.reports&&_.reports.length>=3;return w&&S&&A&&N&&!I}),[t,n,s,c,h]);return E.jsxs("div",{className:"space-y-6 animate-in fade-in duration-700",children:[E.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"University Registry"}),E.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.2em]",children:"Institutional Feed"})]}),E.jsxs("div",{className:"relative w-full lg:max-w-sm",children:[E.jsx("i",{className:"fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),E.jsx("input",{type:"text",placeholder:"Quick search...",className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-blue-500 font-bold text-xs shadow-sm dark:text-white",value:s,onChange:_=>a(_.target.value)})]})]}),E.jsxs("div",{className:"flex flex-wrap items-center gap-2 pb-2",children:[E.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-xl",children:[E.jsx("button",{onClick:()=>i(We.FOUND),className:`px-4 py-2 rounded-lg text-[9px] font-black uppercase tracking-widest transition-all ${n===We.FOUND?"bg-white dark:bg-slate-800 text-blue-900 dark:text-blue-400 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:"Found Items"}),E.jsx("button",{onClick:()=>i(We.LOST),className:`px-4 py-2 rounded-lg text-[9px] font-black uppercase tracking-widest transition-all ${n===We.LOST?"bg-white dark:bg-slate-800 text-red-600 dark:text-red-400 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:"Lost Items"})]}),E.jsxs("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:[E.jsx("button",{onClick:()=>p("All"),className:`px-4 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest transition ${c==="All"?"bg-blue-900 text-white":"bg-slate-50 dark:bg-slate-900 text-slate-400 border border-slate-100 dark:border-slate-800"}`,children:"All"}),Gu.map(_=>E.jsx("button",{onClick:()=>p(_),className:`px-4 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest whitespace-nowrap transition ${c===_?"bg-blue-900 text-white":"bg-slate-50 dark:bg-slate-900 text-slate-400 border border-slate-100 dark:border-slate-800"}`,children:_},_))]})]}),v.length>0?E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:v.map(_=>{const w=_.reporterId===e.id,S=_.messages?.some(I=>I.senderId===e.id),A=w||S,N=_.imagePaths[0].includes("material-design-icons");return E.jsxs("div",{className:"group bg-white dark:bg-slate-900 rounded-[2rem] border border-slate-100 dark:border-slate-800 overflow-hidden hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 shadow-md relative",children:[E.jsx(an,{to:`/item/${_.id}`,className:"block",children:E.jsxs("div",{className:"aspect-[4/3] relative overflow-hidden bg-slate-50 dark:bg-slate-950 flex items-center justify-center",children:[E.jsx("img",{src:_.imagePaths[0],alt:_.title,className:`${N?"w-1/3 opacity-30 grayscale":"w-full h-full object-cover"} group-hover:scale-110 transition duration-700 ease-out`,referrerPolicy:"no-referrer"}),E.jsx("div",{className:`absolute top-4 left-4 px-3 py-1 rounded-full text-[7px] font-black uppercase tracking-widest text-white shadow-lg z-10 ${_.type===We.FOUND?"bg-green-500":"bg-red-500"}`,children:_.type}),_.status===ke.PENDING_CLAIM&&E.jsx("div",{className:"absolute inset-0 bg-blue-900/40 backdrop-blur-[2px] flex items-center justify-center p-4 z-20",children:E.jsxs("div",{className:"bg-white/90 dark:bg-slate-900/90 px-3 py-2 rounded-xl text-center shadow-xl border border-white/50",children:[E.jsx("i",{className:"fas fa-clock text-blue-600 text-xs mb-1 animate-pulse"}),E.jsx("p",{className:"text-[7px] font-black uppercase text-slate-800 dark:text-white tracking-[0.2em] leading-tight",children:"Verification In Progress"})]})}),h&&_.reports&&_.reports.length>0&&E.jsxs("div",{className:"absolute top-4 right-4 bg-red-600 text-white text-[7px] font-black uppercase tracking-widest px-2 py-1 rounded-full shadow-lg border border-red-500/50 animate-pulse z-30",children:[E.jsx("i",{className:"fas fa-flag mr-1"})," ",_.reports.length," Flagged"]})]})}),A&&E.jsx("button",{onClick:()=>m(`/chat/${_.id}`),className:"absolute bottom-20 right-4 w-10 h-10 bg-blue-900 text-white rounded-xl shadow-xl flex items-center justify-center hover:bg-blue-800 transition transform active:scale-95 z-20",title:"Open Registry Log",children:E.jsx("i",{className:"fas fa-comments text-xs"})}),E.jsx("div",{className:"p-5",children:E.jsxs(an,{to:`/item/${_.id}`,children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsx("span",{className:"text-[8px] font-black text-blue-600 dark:text-blue-400 uppercase tracking-widest bg-blue-50 dark:bg-blue-900/20 px-2 py-0.5 rounded-md",children:_.category}),E.jsx("span",{className:"text-[7px] font-black text-slate-300 dark:text-slate-600 uppercase",children:_.date})]}),E.jsx("h3",{className:"font-black text-sm text-slate-900 dark:text-white truncate uppercase tracking-tight mb-4 group-hover:text-blue-900 dark:group-hover:text-blue-400 transition",children:_.title}),E.jsxs("div",{className:"flex items-center text-[9px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest border-t border-slate-50 dark:border-slate-800 pt-4",children:[E.jsx("i",{className:"fas fa-map-marker-alt mr-2 text-red-500 opacity-70"}),E.jsx("span",{className:"truncate",children:_.location.toUpperCase()})]})]})})]},_.id)})}):E.jsxs("div",{className:"py-24 text-center bg-white dark:bg-slate-900/50 rounded-[3rem] border-4 border-dashed border-slate-100 dark:border-slate-800 transition-colors shadow-inner",children:[E.jsx("i",{className:"fas fa-box-open text-4xl text-slate-200 dark:text-slate-800 mb-6"}),E.jsx("p",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:"No matching registry reports found"})]})]})},aC=({onLoginSuccess:t,theme:e,onToggleTheme:n})=>{const i=_r(),[s,a]=V.useState(1),[c,p]=V.useState(null),[h,m]=V.useState(""),[v,_]=V.useState(!1),[w,S]=V.useState(!1),[A,N]=V.useState(""),[I,L]=V.useState(Qs[0]),[U,D]=V.useState(Ys[0]),[F,K]=V.useState("Hosteller"),B=async()=>{m(""),_(!0);try{const z=await tC();if("error"in z){m(z.error),_(!1);return}z.onboarded?(t(z),i("/")):(p(z),N(z.name||""),a(2))}catch{m("Registry connection failed. Please try again.")}finally{_(!1)}},O=async z=>{if(z.preventDefault(),m(""),!w){m("Acknowledgment required.");return}if(!A.trim()){m("Name is required.");return}if(c){_(!0);try{const J=await nC(c,{name:A.trim(),branch:I,yearOfStudy:U,residency:F,onboarded:!0,theme:e});J&&(t(J),i("/",{replace:!0}))}catch{m("Profile synchronization failed.")}finally{_(!1)}}};return E.jsxs("div",{className:"min-h-[85vh] flex items-center justify-center p-4 relative",children:[v&&E.jsxs("div",{className:"fixed inset-0 z-[100] bg-white/80 dark:bg-slate-950/80 backdrop-blur-md flex items-center justify-center flex-col gap-4",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-blue-900 border-t-transparent rounded-full animate-spin"}),E.jsx("p",{className:"text-blue-900 dark:text-blue-400 font-black uppercase tracking-[0.3em] text-[10px]",children:"Syncing Registry Identity..."})]}),E.jsx("button",{onClick:n,className:"fixed top-6 right-6 p-3 w-12 h-12 rounded-2xl bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 shadow-xl border border-slate-100 dark:border-slate-700 hover:scale-110 transition-all z-[60]",children:E.jsx("i",{className:`fas ${e==="light"?"fa-moon":"fa-sun"}`})}),E.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-2xl border border-slate-100 dark:border-slate-800 overflow-hidden flex flex-col md:flex-row transition-all duration-700 animate-in fade-in zoom-in",children:[E.jsx("div",{className:"md:w-5/12 bg-blue-900 p-12 md:p-16 text-center text-white relative flex flex-col items-center justify-center overflow-hidden",children:E.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full",children:[E.jsx("div",{className:"w-14 h-14 bg-white/10 rounded-[1.25rem] border border-white/20 flex items-center justify-center mb-10 backdrop-blur-md shadow-xl animate-float",children:E.jsx("i",{className:"fas fa-university text-xl"})}),E.jsxs("h1",{className:"text-3xl md:text-4xl font-black uppercase tracking-[0.35em] mb-8 leading-[1.2]",children:["REGISTRY",E.jsx("br",{}),"PORTAL"]}),E.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.25em] opacity-80",children:"SASTRA UNIVERSITY"})]})}),E.jsx("div",{className:"md:w-7/12 p-10 md:p-20 flex flex-col justify-center bg-white dark:bg-slate-900",children:s===1?E.jsxs("div",{className:"animate-in fade-in slide-in-from-right-8 duration-500 w-full max-w-md mx-auto",children:[E.jsxs("div",{className:"mb-14 text-center md:text-left",children:[E.jsx("h2",{className:"text-2xl md:text-3xl font-black text-slate-800 dark:text-white uppercase tracking-tight mb-4",children:"Registry Access"}),E.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.2em]",children:"Institutional Verification Required"})]}),E.jsxs("button",{onClick:B,disabled:v,className:"w-full bg-white dark:bg-slate-950 border-2 border-slate-100 dark:border-slate-800 text-slate-700 dark:text-slate-200 py-6 rounded-full font-black uppercase tracking-widest text-[10px] hover:border-blue-500 transition-all shadow-sm active:scale-95 disabled:opacity-50 flex items-center justify-center gap-4 group",children:[E.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),E.jsx("span",{children:"Sign In with SASTRA Email"})]}),h&&E.jsxs("div",{className:"mt-8 p-4 bg-red-50 text-red-600 rounded-2xl text-[9px] font-black uppercase tracking-widest flex items-center gap-3 border border-red-100 text-center justify-center animate-bounce",children:[E.jsx("i",{className:"fas fa-exclamation-triangle"})," ",h]})]}):E.jsxs("div",{className:"animate-in fade-in slide-in-from-right-12 duration-700 w-full max-w-md mx-auto",children:[E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-2xl font-black text-slate-800 dark:text-white uppercase tracking-tight mb-2",children:"Initialize Profile"}),E.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.25em] opacity-70",children:"One-time Registry configuration"})]}),E.jsxs("form",{onSubmit:O,className:"space-y-4",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Institutional Name"}),E.jsx("input",{type:"text",required:!0,value:A,onChange:z=>N(z.target.value),className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-950 border-2 border-slate-100 dark:border-slate-800 rounded-2xl font-bold text-sm outline-none focus:border-blue-500 text-slate-800 dark:text-white"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Year"}),E.jsx("select",{value:U,onChange:z=>D(z.target.value),className:"w-full px-4 py-4 bg-slate-50 dark:bg-slate-950 border-2 border-slate-100 dark:border-slate-800 rounded-2xl text-[10px] font-black uppercase outline-none focus:border-blue-500 text-slate-700 dark:text-white",children:Ys.map(z=>E.jsx("option",{value:z,children:z},z))})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Department"}),E.jsx("select",{value:I,onChange:z=>L(z.target.value),className:"w-full px-4 py-4 bg-slate-50 dark:bg-slate-950 border-2 border-slate-100 dark:border-slate-800 rounded-2xl text-[10px] font-black uppercase outline-none focus:border-blue-500 text-slate-700 dark:text-white",children:Qs.map(z=>E.jsx("option",{value:z,children:z},z))})]})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Residency"}),E.jsx("div",{className:"flex gap-2",children:["Hosteller","Day Scholar"].map(z=>E.jsx("button",{type:"button",onClick:()=>K(z),className:`flex-1 py-3 rounded-xl text-[9px] font-black uppercase tracking-widest border-2 transition ${F===z?"bg-blue-900 border-blue-900 text-white":"bg-slate-50 dark:bg-slate-950 border-slate-100 dark:border-slate-800 text-slate-400"}`,children:z},z))})]}),E.jsxs("label",{className:"flex items-start gap-3 p-4 bg-slate-50 dark:bg-slate-950 rounded-2xl border-2 border-slate-100 dark:border-slate-800 cursor-pointer",children:[E.jsx("input",{type:"checkbox",className:"w-5 h-5 mt-0.5 rounded accent-blue-900",checked:w,onChange:z=>S(z.target.checked)}),E.jsx("span",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest leading-relaxed",children:"I affirm this data is accurate and linked to my SASTRA identity."})]}),h&&E.jsx("p",{className:"text-red-500 text-[9px] font-black uppercase text-center",children:h}),E.jsx("button",{type:"submit",disabled:v||!w,className:"w-full bg-blue-900 text-white py-5 rounded-full font-black uppercase tracking-widest text-[10px] hover:bg-blue-800 transition-all shadow-xl active:scale-95 disabled:opacity-50",children:"Finalize Profile"})]})]})})]})]})};var lC={};let uC,cC;function dC(){return{geminiUrl:uC,vertexUrl:cC}}function fC(t,e,n,i){var s,a;if(!t?.baseUrl){const c=dC();return e?(s=c.vertexUrl)!==null&&s!==void 0?s:n:(a=c.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}class En{}function Q(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const a=e[s];return a!=null?String(a):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function d(t,e,n){for(let a=0;a<e.length-1;a++){const c=e[a];if(c.endsWith("[]")){const p=c.slice(0,-2);if(!(p in t))if(Array.isArray(n))t[p]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[p])){const h=t[p];if(Array.isArray(n))for(let m=0;m<h.length;m++){const v=h[m];d(v,e.slice(a+1),n[m])}else for(const m of h)d(m,e.slice(a+1),n)}return}else if(c.endsWith("[0]")){const p=c.slice(0,-3);p in t||(t[p]=[{}]);const h=t[p];d(h[0],e.slice(a+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const i=e[e.length-1],s=t[i];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function u(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2);if(a in t){const c=t[a];return Array.isArray(c)?c.map(p=>u(p,e.slice(i+1),n)):n}else return n}else t=t[s]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function pC(t,e){for(const[n,i]of Object.entries(e)){const s=n.split("."),a=i.split("."),c=new Set;let p=-1;for(let h=0;h<s.length;h++)if(s[h]==="*"){p=h;break}if(p!==-1&&a.length>p)for(let h=p;h<a.length;h++){const m=a[h];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&c.add(m)}Hu(t,s,a,0,c)}}function Hu(t,e,n,i,s){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const c=a.slice(0,-2),p=t;if(c in p&&Array.isArray(p[c]))for(const h of p[c])Hu(h,e,n,i+1,s)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,p=Object.keys(c).filter(m=>!m.startsWith("_")&&!s.has(m)),h={};for(const m of p)h[m]=c[m];for(const[m,v]of Object.entries(h)){const _=[];for(const w of n.slice(i))w==="*"?_.push(m):_.push(w);d(c,_,v)}for(const m of p)delete c[m]}}else{const c=t;a in c&&Hu(c[a],e,n,i+1,s)}}function Mc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function hC(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["operationName"],n);const i=u(t,["resourceName"]);return i!=null&&d(e,["_url","resourceName"],i),e}function mC(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],vC(c)),e}function gC(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response"]);return c!=null&&d(e,["response"],yC(c)),e}function vC(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>_C(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function yC(t){const e={},n=u(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>EC(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function _C(t){const e={},n=u(t,["video"]);return n!=null&&d(e,["video"],CC(n)),e}function EC(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],kC(n)),e}function wC(t){const e={},n=u(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function xC(t){const e={},n=u(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function SC(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response"]);return c!=null&&d(e,["response"],TC(c)),e}function TC(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["parent"]);i!=null&&d(e,["parent"],i);const s=u(t,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function jv(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response"]);return c!=null&&d(e,["response"],IC(c)),e}function IC(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["parent"]);i!=null&&d(e,["parent"],i);const s=u(t,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function CC(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["uri"],n);const i=u(t,["encodedVideo"]);i!=null&&d(e,["videoBytes"],Mc(i));const s=u(t,["encoding"]);return s!=null&&d(e,["mimeType"],s),e}function kC(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["videoBytes"],Mc(i));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}var $h;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($h||($h={}));var qh;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(qh||(qh={}));var zh;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(zh||(zh={}));var zt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(zt||(zt={}));var Wh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Wh||(Wh={}));var Jh;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Jh||(Jh={}));var Kh;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Kh||(Kh={}));var Yh;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Yh||(Yh={}));var Qh;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Qh||(Qh={}));var Xh;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Xh||(Xh={}));var jh;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(jh||(jh={}));var Zh;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Zh||(Zh={}));var em;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(em||(em={}));var tm;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(tm||(tm={}));var nm;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(nm||(nm={}));var rm;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(rm||(rm={}));var im;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(im||(im={}));var om;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(om||(om={}));var sm;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sm||(sm={}));var Xs;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Xs||(Xs={}));var am;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(am||(am={}));var lm;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(lm||(lm={}));var um;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(um||(um={}));var $u;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($u||($u={}));var cm;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(cm||(cm={}));var dm;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(dm||(dm={}));var fm;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(fm||(fm={}));var pm;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(pm||(pm={}));var hm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hm||(hm={}));var mm;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(mm||(mm={}));var gm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(gm||(gm={}));var vm;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(vm||(vm={}));var ym;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ym||(ym={}));var _m;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(_m||(_m={}));var Em;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Em||(Em={}));var wm;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(wm||(wm={}));var xm;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xm||(xm={}));var Sm;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Sm||(Sm={}));var Tm;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Tm||(Tm={}));var Im;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Im||(Im={}));var Cm;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Cm||(Cm={}));var km;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(km||(km={}));var Am;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Am||(Am={}));var Nm;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Nm||(Nm={}));var Rm;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Rm||(Rm={}));var Pm;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Pm||(Pm={}));var bm;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(bm||(bm={}));var Mm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Mm||(Mm={}));var Dm;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Dm||(Dm={}));var Lm;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Lm||(Lm={}));var Um;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Um||(Um={}));var Fm;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Fm||(Fm={}));var Om;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Om||(Om={}));var Vm;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Vm||(Vm={}));var Bm;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Bm||(Bm={}));var Yr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Yr||(Yr={}));class qu{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Xi{get text(){var e,n,i,s,a,c,p,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const _=[];for(const w of(h=(p=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)!==null&&h!==void 0?h:[]){for(const[S,A]of Object.entries(w))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(A!==null||A!==void 0)&&_.push(S);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;v=!0,m+=w.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,n,i,s,a,c,p,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const _ of(h=(p=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)!==null&&h!==void 0?h:[]){for(const[w,S]of Object.entries(_))w!=="inlineData"&&(S!==null||S!==void 0)&&v.push(w);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,n,i,s,a,c,p,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(h=(p=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||h===void 0?void 0:h.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if(m?.length!==0)return m}get executableCode(){var e,n,i,s,a,c,p,h,m;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(h=(p=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||h===void 0?void 0:h.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if(v?.length!==0)return(m=v?.[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,n,i,s,a,c,p,h,m;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(h=(p=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||h===void 0?void 0:h.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if(v?.length!==0)return(m=v?.[0])===null||m===void 0?void 0:m.output}}class Gm{}class Hm{}class AC{}class NC{}class RC{}class PC{}class $m{}class qm{}class zm{}class bC{}class js{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new js;let s;const a=e;return n?s=gC(a):s=mC(a),Object.assign(i,s),i}}class Wm{}class Jm{}class Km{}class Ym{}class MC{}class DC{}class LC{}class Dc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Dc,a=SC(e);return Object.assign(i,a),i}}class UC{}class FC{}class OC{}class Qm{}class VC{get text(){var e,n,i;let s="",a=!1;const c=[];for(const p of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,m]of Object.entries(p))h!=="text"&&h!=="thought"&&m!==null&&c.push(h);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;a=!0,s+=p.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?s:void 0}get data(){var e,n,i;let s="";const a=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,h]of Object.entries(c))p!=="inlineData"&&h!==null&&a.push(p);c.inlineData&&typeof c.inlineData.data=="string"&&(s+=atob(c.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class BC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Lc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Lc,a=jv(e);return Object.assign(i,a),i}}function ye(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Zv(t,e){const n=ye(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function e0(t){return Array.isArray(t)?t.map(e=>Zs(e)):[Zs(t)]}function Zs(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function t0(t){const e=Zs(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function n0(t){const e=Zs(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Xm(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function r0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Xm(e)):[Xm(t)]}function zu(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function jm(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Zm(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function et(t){if(t==null)throw new Error("ContentUnion is required");return zu(t)?t:{role:"user",parts:r0(t)}}function Uc(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=et(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=et(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>et(n)):[et(e)]}function Ct(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(jm(t)||Zm(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[et(t)]}const e=[],n=[],i=zu(t[0]);for(const s of t){const a=zu(s);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(s);else{if(jm(s)||Zm(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return i||e.push({role:"user",parts:r0(n)}),e}function GC(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(zt).includes(n[0].toUpperCase())?n[0].toUpperCase():zt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(zt).includes(i.toUpperCase())?i.toUpperCase():zt.TYPE_UNSPECIFIED})}}function ei(t){const e={},n=["items"],i=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&GC(t.type,e);for(const[c,p]of Object.entries(t))if(p!=null)if(c=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(zt).includes(p.toUpperCase())?p.toUpperCase():zt.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=ei(p);else if(i.includes(c)){const h=[];for(const m of p){if(m.type=="null"){e.nullable=!0;continue}h.push(ei(m))}e[c]=h}else if(s.includes(c)){const h={};for(const[m,v]of Object.entries(p))h[m]=ei(v);e[c]=h}else{if(c==="additionalProperties")continue;e[c]=p}return e}function Fc(t){return ei(t)}function Oc(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Vc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function li(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ei(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ei(e.response));return t}function ui(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function HC(t,e,n,i=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function wn(t,e){if(typeof e!="string")throw new Error("name must be a string");return HC(t,e,"cachedContents")}function i0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Qn(t){return Mc(t)}function $C(t){return t!=null&&typeof t=="object"&&"name"in t}function qC(t){return t!=null&&typeof t=="object"&&"video"in t}function zC(t){return t!=null&&typeof t=="object"&&"uri"in t}function o0(t){var e;let n;if($C(t)&&(n=t.name),!(zC(t)&&(n=t.uri,n===void 0))&&!(qC(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function s0(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function a0(t){for(const e of["models","tunedModels","publisherModels"])if(WC(t,e))return t[e];return[]}function WC(t,e){return t!==null&&typeof t=="object"&&e in t}function JC(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function KC(t,e={}){const n=[],i=new Set;for(const s of t){const a=s.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const c=JC(s,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function l0(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function YC(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function u0(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let a=!1;for(const c of s){if(typeof c!="object"||c===null)continue;const h=c.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ci(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function c0(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function QC(t){const e={},n=u(t,["responsesFile"]);n!=null&&d(e,["fileName"],n);const i=u(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>Rk(c))),d(e,["inlinedResponses"],a)}const s=u(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),d(e,["inlinedEmbedContentResponses"],a)}return e}function XC(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&d(e,["format"],n);const i=u(t,["gcsDestination","outputUriPrefix"]);i!=null&&d(e,["gcsUri"],i);const s=u(t,["bigqueryDestination","outputUri"]);return s!=null&&d(e,["bigqueryUri"],s),e}function jC(t){const e={},n=u(t,["format"]);n!=null&&d(e,["predictionsFormat"],n);const i=u(t,["gcsUri"]);i!=null&&d(e,["gcsDestination","outputUriPrefix"],i);const s=u(t,["bigqueryUri"]);if(s!=null&&d(e,["bigqueryDestination","outputUri"],s),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Vs(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata","displayName"]);i!=null&&d(e,["displayName"],i);const s=u(t,["metadata","state"]);s!=null&&d(e,["state"],c0(s));const a=u(t,["metadata","createTime"]);a!=null&&d(e,["createTime"],a);const c=u(t,["metadata","endTime"]);c!=null&&d(e,["endTime"],c);const p=u(t,["metadata","updateTime"]);p!=null&&d(e,["updateTime"],p);const h=u(t,["metadata","model"]);h!=null&&d(e,["model"],h);const m=u(t,["metadata","output"]);return m!=null&&d(e,["dest"],QC(u0(m))),e}function Wu(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const s=u(t,["state"]);s!=null&&d(e,["state"],c0(s));const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["createTime"]);c!=null&&d(e,["createTime"],c);const p=u(t,["startTime"]);p!=null&&d(e,["startTime"],p);const h=u(t,["endTime"]);h!=null&&d(e,["endTime"],h);const m=u(t,["updateTime"]);m!=null&&d(e,["updateTime"],m);const v=u(t,["model"]);v!=null&&d(e,["model"],v);const _=u(t,["inputConfig"]);_!=null&&d(e,["src"],ZC(_));const w=u(t,["outputConfig"]);w!=null&&d(e,["dest"],XC(u0(w)));const S=u(t,["completionStats"]);return S!=null&&d(e,["completionStats"],S),e}function ZC(t){const e={},n=u(t,["instancesFormat"]);n!=null&&d(e,["format"],n);const i=u(t,["gcsSource","uris"]);i!=null&&d(e,["gcsUri"],i);const s=u(t,["bigquerySource","inputUri"]);return s!=null&&d(e,["bigqueryUri"],s),e}function ek(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=u(e,["fileName"]);i!=null&&d(n,["fileName"],i);const s=u(e,["inlinedRequests"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>Nk(t,c))),d(n,["requests","requests"],a)}return n}function tk(t){const e={},n=u(t,["format"]);n!=null&&d(e,["instancesFormat"],n);const i=u(t,["gcsUri"]);i!=null&&d(e,["gcsSource","uris"],i);const s=u(t,["bigqueryUri"]);if(s!=null&&d(e,["bigquerySource","inputUri"],s),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function nk(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function rk(t,e){const n={},i=u(e,["name"]);return i!=null&&d(n,["_url","name"],ci(t,i)),n}function ik(t,e){const n={},i=u(e,["name"]);return i!=null&&d(n,["_url","name"],ci(t,i)),n}function ok(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],n);const i=u(t,["citationMetadata"]);i!=null&&d(e,["citationMetadata"],sk(i));const s=u(t,["tokenCount"]);s!=null&&d(e,["tokenCount"],s);const a=u(t,["finishReason"]);a!=null&&d(e,["finishReason"],a);const c=u(t,["avgLogprobs"]);c!=null&&d(e,["avgLogprobs"],c);const p=u(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const h=u(t,["index"]);h!=null&&d(e,["index"],h);const m=u(t,["logprobsResult"]);m!=null&&d(e,["logprobsResult"],m);const v=u(t,["safetyRatings"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(S=>S)),d(e,["safetyRatings"],w)}const _=u(t,["urlContextMetadata"]);return _!=null&&d(e,["urlContextMetadata"],_),e}function sk(t){const e={},n=u(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),d(e,["citations"],i)}return e}function d0(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Fk(a))),d(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function ak(t,e){const n={},i=u(t,["displayName"]);if(e!==void 0&&i!=null&&d(e,["batch","displayName"],i),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function lk(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const s=u(t,["dest"]);return e!==void 0&&s!=null&&d(e,["outputConfig"],jC(YC(s))),n}function eg(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["src"]);s!=null&&d(n,["batch","inputConfig"],ek(t,l0(t,s)));const a=u(e,["config"]);return a!=null&&ak(a,n),n}function uk(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],ye(t,i));const s=u(e,["src"]);s!=null&&d(n,["inputConfig"],tk(l0(t,s)));const a=u(e,["config"]);return a!=null&&lk(a,n),n}function ck(t,e){const n={},i=u(t,["displayName"]);return e!==void 0&&i!=null&&d(e,["batch","displayName"],i),n}function dk(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["src"]);s!=null&&d(n,["batch","inputConfig"],yk(t,s));const a=u(e,["config"]);return a!=null&&ck(a,n),n}function fk(t,e){const n={},i=u(e,["name"]);return i!=null&&d(n,["_url","name"],ci(t,i)),n}function pk(t,e){const n={},i=u(e,["name"]);return i!=null&&d(n,["_url","name"],ci(t,i)),n}function hk(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const a=u(t,["error"]);return a!=null&&d(e,["error"],a),e}function mk(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const a=u(t,["error"]);return a!=null&&d(e,["error"],a),e}function gk(t,e){const n={},i=u(e,["contents"]);if(i!=null){let a=Uc(t,i);Array.isArray(a)&&(a=a.map(c=>c)),d(n,["requests[]","request","content"],a)}const s=u(e,["config"]);return s!=null&&(d(n,["_self"],vk(s,n)),pC(n,{"requests[].*":"requests[].request.*"})),n}function vk(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&d(e,["requests[]","taskType"],i);const s=u(t,["title"]);e!==void 0&&s!=null&&d(e,["requests[]","title"],s);const a=u(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&d(e,["requests[]","outputDimensionality"],a),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function yk(t,e){const n={},i=u(e,["fileName"]);i!=null&&d(n,["file_name"],i);const s=u(e,["inlinedRequests"]);return s!=null&&d(n,["requests"],gk(t,s)),n}function _k(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function Ek(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const i=u(t,["args"]);i!=null&&d(e,["args"],i);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wk(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);if(i!=null&&d(e,["allowedFunctionNames"],i),u(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xk(t,e,n){const i={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&d(n,["systemInstruction"],d0(et(s)));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const p=u(e,["topK"]);p!=null&&d(i,["topK"],p);const h=u(e,["candidateCount"]);h!=null&&d(i,["candidateCount"],h);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const v=u(e,["stopSequences"]);v!=null&&d(i,["stopSequences"],v);const _=u(e,["responseLogprobs"]);_!=null&&d(i,["responseLogprobs"],_);const w=u(e,["logprobs"]);w!=null&&d(i,["logprobs"],w);const S=u(e,["presencePenalty"]);S!=null&&d(i,["presencePenalty"],S);const A=u(e,["frequencyPenalty"]);A!=null&&d(i,["frequencyPenalty"],A);const N=u(e,["seed"]);N!=null&&d(i,["seed"],N);const I=u(e,["responseMimeType"]);I!=null&&d(i,["responseMimeType"],I);const L=u(e,["responseSchema"]);L!=null&&d(i,["responseSchema"],Fc(L));const U=u(e,["responseJsonSchema"]);if(U!=null&&d(i,["responseJsonSchema"],U),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(e,["safetySettings"]);if(n!==void 0&&D!=null){let fe=D;Array.isArray(fe)&&(fe=fe.map(Re=>Ok(Re))),d(n,["safetySettings"],fe)}const F=u(e,["tools"]);if(n!==void 0&&F!=null){let fe=ui(F);Array.isArray(fe)&&(fe=fe.map(Re=>Bk(li(Re)))),d(n,["tools"],fe)}const K=u(e,["toolConfig"]);if(n!==void 0&&K!=null&&d(n,["toolConfig"],Vk(K)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=u(e,["cachedContent"]);n!==void 0&&B!=null&&d(n,["cachedContent"],wn(t,B));const O=u(e,["responseModalities"]);O!=null&&d(i,["responseModalities"],O);const z=u(e,["mediaResolution"]);z!=null&&d(i,["mediaResolution"],z);const J=u(e,["speechConfig"]);if(J!=null&&d(i,["speechConfig"],Oc(J)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=u(e,["thinkingConfig"]);se!=null&&d(i,["thinkingConfig"],se);const _e=u(e,["imageConfig"]);_e!=null&&d(i,["imageConfig"],Ak(_e));const Le=u(e,["enableEnhancedCivicAnswers"]);return Le!=null&&d(i,["enableEnhancedCivicAnswers"],Le),i}function Sk(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>ok(m))),d(e,["candidates"],h)}const s=u(t,["modelVersion"]);s!=null&&d(e,["modelVersion"],s);const a=u(t,["promptFeedback"]);a!=null&&d(e,["promptFeedback"],a);const c=u(t,["responseId"]);c!=null&&d(e,["responseId"],c);const p=u(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function Tk(t,e){const n={},i=u(e,["name"]);return i!=null&&d(n,["_url","name"],ci(t,i)),n}function Ik(t,e){const n={},i=u(e,["name"]);return i!=null&&d(n,["_url","name"],ci(t,i)),n}function Ck(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function kk(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function Ak(t){const e={},n=u(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const i=u(t,["imageSize"]);if(i!=null&&d(e,["imageSize"],i),u(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Nk(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["request","model"],ye(t,i));const s=u(e,["contents"]);if(s!=null){let p=Ct(s);Array.isArray(p)&&(p=p.map(h=>d0(h))),d(n,["request","contents"],p)}const a=u(e,["metadata"]);a!=null&&d(n,["metadata"],a);const c=u(e,["config"]);return c!=null&&d(n,["request","generationConfig"],xk(t,c,u(n,["request"],{}))),n}function Rk(t){const e={},n=u(t,["response"]);n!=null&&d(e,["response"],Sk(n));const i=u(t,["error"]);return i!=null&&d(e,["error"],i),e}function Pk(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);if(e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function bk(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);e!==void 0&&s!=null&&d(e,["_query","pageToken"],s);const a=u(t,["filter"]);return e!==void 0&&a!=null&&d(e,["_query","filter"],a),n}function Mk(t){const e={},n=u(t,["config"]);return n!=null&&Pk(n,e),e}function Dk(t){const e={},n=u(t,["config"]);return n!=null&&bk(n,e),e}function Lk(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&d(e,["nextPageToken"],i);const s=u(t,["operations"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>Vs(c))),d(e,["batchJobs"],a)}return e}function Uk(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&d(e,["nextPageToken"],i);const s=u(t,["batchPredictionJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>Wu(c))),d(e,["batchJobs"],a)}return e}function Fk(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const i=u(t,["codeExecutionResult"]);i!=null&&d(e,["codeExecutionResult"],i);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],_k(a));const c=u(t,["functionCall"]);c!=null&&d(e,["functionCall"],Ek(c));const p=u(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const h=u(t,["inlineData"]);h!=null&&d(e,["inlineData"],nk(h));const m=u(t,["text"]);m!=null&&d(e,["text"],m);const v=u(t,["thought"]);v!=null&&d(e,["thought"],v);const _=u(t,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const w=u(t,["videoMetadata"]);return w!=null&&d(e,["videoMetadata"],w),e}function Ok(t){const e={},n=u(t,["category"]);if(n!=null&&d(e,["category"],n),u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=u(t,["threshold"]);return i!=null&&d(e,["threshold"],i),e}function Vk(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],wk(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],i),e}function Bk(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const a=u(t,["fileSearch"]);a!=null&&d(e,["fileSearch"],a);const c=u(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],Ck(p));const h=u(t,["googleSearch"]);h!=null&&d(e,["googleSearch"],kk(h));const m=u(t,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}var gn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(gn||(gn={}));class wr{constructor(e,n,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,s)}init(e,n,i){var s,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!i||Object.keys(i).length===0?c={config:{}}:typeof i=="object"?c=Object.assign({},i):c=i,c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(a=(s=c.config)===null||s===void 0?void 0:s.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class Gk extends En{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wr(gn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=eg(this.apiClient,e),i=n._url,s=Q("{model}:batchGenerateContent",i),p=n.batch.inputConfig.requests,h=p.requests,m=[];for(const v of h){const _=Object.assign({},v);if(_.systemInstruction){const w=_.systemInstruction;delete _.systemInstruction;const S=_.request;S.systemInstruction=w,_.request=S}m.push(_)}return p.requests=m,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},s=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${s}`),i.dest===void 0){const a=this.getGcsUri(e),c=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${s}`;else if(c)i.dest=`${c}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=uk(this.apiClient,e);return p=Q("batchPredictionJobs",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),c.then(v=>Wu(v))}else{const m=eg(this.apiClient,e);return p=Q("{model}:batchGenerateContent",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Vs(v))}}async createEmbeddingsInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=dk(this.apiClient,e);return a=Q("{model}:asyncBatchEmbedContent",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Vs(h))}}async get(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=Ik(this.apiClient,e);return p=Q("batchPredictionJobs/{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),c.then(v=>Wu(v))}else{const m=Tk(this.apiClient,e);return p=Q("batches/{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Vs(v))}}async cancel(e){var n,i,s,a;let c="",p={};if(this.apiClient.isVertexAI()){const h=ik(this.apiClient,e);c=Q("batchPredictionJobs/{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,await this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const h=rk(this.apiClient,e);c=Q("batches/{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,await this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=Dk(e);return p=Q("batchPredictionJobs",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=Uk(v),w=new Qm;return Object.assign(w,_),w})}else{const m=Mk(e);return p=Q("batches",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=Lk(v),w=new Qm;return Object.assign(w,_),w})}}async delete(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=pk(this.apiClient,e);return p=Q("batchPredictionJobs/{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>mk(v))}else{const m=fk(this.apiClient,e);return p=Q("batches/{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>hk(v))}}}function Hk(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function tg(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>dA(a))),d(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function $k(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const s=u(t,["expireTime"]);e!==void 0&&s!=null&&d(e,["expireTime"],s);const a=u(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let v=Ct(c);Array.isArray(v)&&(v=v.map(_=>tg(_))),d(e,["contents"],v)}const p=u(t,["systemInstruction"]);e!==void 0&&p!=null&&d(e,["systemInstruction"],tg(et(p)));const h=u(t,["tools"]);if(e!==void 0&&h!=null){let v=h;Array.isArray(v)&&(v=v.map(_=>pA(_))),d(e,["tools"],v)}const m=u(t,["toolConfig"]);if(e!==void 0&&m!=null&&d(e,["toolConfig"],fA(m)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function qk(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const s=u(t,["expireTime"]);e!==void 0&&s!=null&&d(e,["expireTime"],s);const a=u(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let _=Ct(c);Array.isArray(_)&&(_=_.map(w=>w)),d(e,["contents"],_)}const p=u(t,["systemInstruction"]);e!==void 0&&p!=null&&d(e,["systemInstruction"],et(p));const h=u(t,["tools"]);if(e!==void 0&&h!=null){let _=h;Array.isArray(_)&&(_=_.map(w=>hA(w))),d(e,["tools"],_)}const m=u(t,["toolConfig"]);e!==void 0&&m!=null&&d(e,["toolConfig"],m);const v=u(t,["kmsKeyName"]);return e!==void 0&&v!=null&&d(e,["encryption_spec","kmsKeyName"],v),n}function zk(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],Zv(t,i));const s=u(e,["config"]);return s!=null&&$k(s,n),n}function Wk(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["model"],Zv(t,i));const s=u(e,["config"]);return s!=null&&qk(s,n),n}function Jk(t,e){const n={},i=u(e,["name"]);return i!=null&&d(n,["_url","name"],wn(t,i)),n}function Kk(t,e){const n={},i=u(e,["name"]);return i!=null&&d(n,["_url","name"],wn(t,i)),n}function Yk(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function Qk(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function Xk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function jk(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const i=u(t,["args"]);i!=null&&d(e,["args"],i);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Zk(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);if(i!=null&&d(e,["allowedFunctionNames"],i),u(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function eA(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const s=u(t,["parameters"]);s!=null&&d(e,["parameters"],s);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function tA(t,e){const n={},i=u(e,["name"]);return i!=null&&d(n,["_url","name"],wn(t,i)),n}function nA(t,e){const n={},i=u(e,["name"]);return i!=null&&d(n,["_url","name"],wn(t,i)),n}function rA(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function iA(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function oA(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function sA(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function aA(t){const e={},n=u(t,["config"]);return n!=null&&oA(n,e),e}function lA(t){const e={},n=u(t,["config"]);return n!=null&&sA(n,e),e}function uA(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&d(e,["nextPageToken"],i);const s=u(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),d(e,["cachedContents"],a)}return e}function cA(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&d(e,["nextPageToken"],i);const s=u(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),d(e,["cachedContents"],a)}return e}function dA(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const i=u(t,["codeExecutionResult"]);i!=null&&d(e,["codeExecutionResult"],i);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],Xk(a));const c=u(t,["functionCall"]);c!=null&&d(e,["functionCall"],jk(c));const p=u(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const h=u(t,["inlineData"]);h!=null&&d(e,["inlineData"],Hk(h));const m=u(t,["text"]);m!=null&&d(e,["text"],m);const v=u(t,["thought"]);v!=null&&d(e,["thought"],v);const _=u(t,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const w=u(t,["videoMetadata"]);return w!=null&&d(e,["videoMetadata"],w),e}function fA(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],Zk(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],i),e}function pA(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const a=u(t,["fileSearch"]);a!=null&&d(e,["fileSearch"],a);const c=u(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],rA(p));const h=u(t,["googleSearch"]);h!=null&&d(e,["googleSearch"],iA(h));const m=u(t,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function hA(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(w=>eA(w))),d(e,["functionDeclarations"],_)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const s=u(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const a=u(t,["computerUse"]);if(a!=null&&d(e,["computerUse"],a),u(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=u(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const p=u(t,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],h);const m=u(t,["googleSearch"]);m!=null&&d(e,["googleSearch"],m);const v=u(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function mA(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const s=u(t,["expireTime"]);return e!==void 0&&s!=null&&d(e,["expireTime"],s),n}function gA(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&d(e,["ttl"],i);const s=u(t,["expireTime"]);return e!==void 0&&s!=null&&d(e,["expireTime"],s),n}function vA(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],wn(t,i));const s=u(e,["config"]);return s!=null&&mA(s,n),n}function yA(t,e){const n={},i=u(e,["name"]);i!=null&&d(n,["_url","name"],wn(t,i));const s=u(e,["config"]);return s!=null&&gA(s,n),n}class _A extends En{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wr(gn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=Wk(this.apiClient,e);return p=Q("cachedContents",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const m=zk(this.apiClient,e);return p=Q("cachedContents",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=nA(this.apiClient,e);return p=Q("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const m=tA(this.apiClient,e);return p=Q("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=Kk(this.apiClient,e);return p=Q("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=Qk(v),w=new Km;return Object.assign(w,_),w})}else{const m=Jk(this.apiClient,e);return p=Q("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=Yk(v),w=new Km;return Object.assign(w,_),w})}}async update(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=yA(this.apiClient,e);return p=Q("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const m=vA(this.apiClient,e);return p=Q("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=lA(e);return p=Q("cachedContents",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=cA(v),w=new Ym;return Object.assign(w,_),w})}else{const m=aA(e);return p=Q("cachedContents",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=uA(v),w=new Ym;return Object.assign(w,_),w})}}}function ea(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function ng(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(t){return this instanceof de?(this.v=t,this):new de(t)}function Ut(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(S){return function(A){return Promise.resolve(A).then(S,_)}}function p(S,A){i[S]&&(s[S]=function(N){return new Promise(function(I,L){a.push([S,N,I,L])>1||h(S,N)})},A&&(s[S]=A(s[S])))}function h(S,A){try{m(i[S](A))}catch(N){w(a[0][3],N)}}function m(S){S.value instanceof de?Promise.resolve(S.value.v).then(v,_):w(a[0][2],S)}function v(S){h("next",S)}function _(S){h("throw",S)}function w(S,A){S(A),a.shift(),a.length&&h(a[0][0],a[0][1])}}function Ft(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ng=="function"?ng(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(c){return new Promise(function(p,h){c=t[a](c),s(p,h,c.done,c.value)})}}function s(a,c,p,h){Promise.resolve(h).then(function(m){a({value:m,done:p})},c)}}function EA(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:f0(n)}function f0(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function wA(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function rg(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const s=[];let a=!0;for(;i<n&&t[i].role==="model";)s.push(t[i]),a&&!f0(t[i])&&(a=!1),i++;a?e.push(...s):e.pop()}return e}class xA{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new SA(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class SA{constructor(e,n,i,s={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=s,this.history=a,this.sendPromise=Promise.resolve(),wA(a)}async sendMessage(e){var n;await this.sendPromise;const i=et(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,c,p;const h=await s,m=(c=(a=h.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content,v=h.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let w=[];v!=null&&(w=(p=v.slice(_))!==null&&p!==void 0?p:[]);const S=m?[m]:[];this.recordHistory(i,S,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const i=et(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const a=await s;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?rg(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ut(this,arguments,function*(){var s,a,c,p,h,m;const v=[];try{for(var _=!0,w=Ft(e),S;S=yield de(w.next()),s=S.done,!s;_=!0){p=S.value,_=!1;const A=p;if(EA(A)){const N=(m=(h=A.candidates)===null||h===void 0?void 0:h[0])===null||m===void 0?void 0:m.content;N!==void 0&&v.push(N)}yield yield de(A)}}catch(A){a={error:A}}finally{try{!_&&!s&&(c=w.return)&&(yield de(c.call(w)))}finally{if(a)throw a.error}}this.recordHistory(n,v)})}recordHistory(e,n,i){let s=[];n.length>0&&n.every(a=>a.role!==void 0)?s=n:s.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...rg(i)):this.history.push(e),this.history.push(...s)}}class ca extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ca.prototype)}}function TA(t){const e={},n=u(t,["file"]);return n!=null&&d(e,["file"],n),e}function IA(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function CA(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["_url","file"],o0(n)),e}function kA(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function AA(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["_url","file"],o0(n)),e}function NA(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function RA(t){const e={},n=u(t,["config"]);return n!=null&&NA(n,e),e}function PA(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&d(e,["nextPageToken"],i);const s=u(t,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),d(e,["files"],a)}return e}class bA extends En{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wr(gn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=RA(e);return a=Q("files",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=PA(h),v=new UC;return Object.assign(v,m),v})}}async createInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=TA(e);return a=Q("upload/v1beta/files",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=IA(h),v=new FC;return Object.assign(v,m),v})}}async get(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=AA(e);return a=Q("files/{file}",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=CA(e);return a=Q("files/{file}",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=kA(h),v=new OC;return Object.assign(v,m),v})}}}function Bs(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function MA(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>YA(a))),d(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function DA(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function LA(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const i=u(t,["args"]);i!=null&&d(e,["args"],i);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function UA(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const s=u(t,["parameters"]);s!=null&&d(e,["parameters"],s);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function FA(t){const e={},n=u(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const i=u(t,["responseJsonSchema"]);i!=null&&d(e,["responseJsonSchema"],i);const s=u(t,["audioTimestamp"]);s!=null&&d(e,["audioTimestamp"],s);const a=u(t,["candidateCount"]);a!=null&&d(e,["candidateCount"],a);const c=u(t,["enableAffectiveDialog"]);c!=null&&d(e,["enableAffectiveDialog"],c);const p=u(t,["frequencyPenalty"]);p!=null&&d(e,["frequencyPenalty"],p);const h=u(t,["logprobs"]);h!=null&&d(e,["logprobs"],h);const m=u(t,["maxOutputTokens"]);m!=null&&d(e,["maxOutputTokens"],m);const v=u(t,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const _=u(t,["presencePenalty"]);_!=null&&d(e,["presencePenalty"],_);const w=u(t,["responseLogprobs"]);w!=null&&d(e,["responseLogprobs"],w);const S=u(t,["responseMimeType"]);S!=null&&d(e,["responseMimeType"],S);const A=u(t,["responseModalities"]);A!=null&&d(e,["responseModalities"],A);const N=u(t,["responseSchema"]);N!=null&&d(e,["responseSchema"],N);const I=u(t,["routingConfig"]);I!=null&&d(e,["routingConfig"],I);const L=u(t,["seed"]);L!=null&&d(e,["seed"],L);const U=u(t,["speechConfig"]);U!=null&&d(e,["speechConfig"],U);const D=u(t,["stopSequences"]);D!=null&&d(e,["stopSequences"],D);const F=u(t,["temperature"]);F!=null&&d(e,["temperature"],F);const K=u(t,["thinkingConfig"]);K!=null&&d(e,["thinkingConfig"],K);const B=u(t,["topK"]);B!=null&&d(e,["topK"],B);const O=u(t,["topP"]);if(O!=null&&d(e,["topP"],O),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function OA(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function VA(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function BA(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],i);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const p=u(t,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const h=u(t,["maxOutputTokens"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","maxOutputTokens"],h);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=u(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const _=u(t,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],Vc(_));const w=u(t,["thinkingConfig"]);e!==void 0&&w!=null&&d(e,["setup","generationConfig","thinkingConfig"],w);const S=u(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],S);const A=u(t,["systemInstruction"]);e!==void 0&&A!=null&&d(e,["setup","systemInstruction"],MA(et(A)));const N=u(t,["tools"]);if(e!==void 0&&N!=null){let B=ui(N);Array.isArray(B)&&(B=B.map(O=>XA(li(O)))),d(e,["setup","tools"],B)}const I=u(t,["sessionResumption"]);e!==void 0&&I!=null&&d(e,["setup","sessionResumption"],QA(I));const L=u(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&d(e,["setup","inputAudioTranscription"],L);const U=u(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&d(e,["setup","outputAudioTranscription"],U);const D=u(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&d(e,["setup","realtimeInputConfig"],D);const F=u(t,["contextWindowCompression"]);e!==void 0&&F!=null&&d(e,["setup","contextWindowCompression"],F);const K=u(t,["proactivity"]);if(e!==void 0&&K!=null&&d(e,["setup","proactivity"],K),u(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function GA(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],FA(i));const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const p=u(t,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const h=u(t,["maxOutputTokens"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","maxOutputTokens"],h);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=u(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const _=u(t,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],Vc(_));const w=u(t,["thinkingConfig"]);e!==void 0&&w!=null&&d(e,["setup","generationConfig","thinkingConfig"],w);const S=u(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],S);const A=u(t,["systemInstruction"]);e!==void 0&&A!=null&&d(e,["setup","systemInstruction"],et(A));const N=u(t,["tools"]);if(e!==void 0&&N!=null){let O=ui(N);Array.isArray(O)&&(O=O.map(z=>jA(li(z)))),d(e,["setup","tools"],O)}const I=u(t,["sessionResumption"]);e!==void 0&&I!=null&&d(e,["setup","sessionResumption"],I);const L=u(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&d(e,["setup","inputAudioTranscription"],L);const U=u(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&d(e,["setup","outputAudioTranscription"],U);const D=u(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&d(e,["setup","realtimeInputConfig"],D);const F=u(t,["contextWindowCompression"]);e!==void 0&&F!=null&&d(e,["setup","contextWindowCompression"],F);const K=u(t,["proactivity"]);e!==void 0&&K!=null&&d(e,["setup","proactivity"],K);const B=u(t,["explicitVadSignal"]);return e!==void 0&&B!=null&&d(e,["setup","explicitVadSignal"],B),n}function HA(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],ye(t,i));const s=u(e,["config"]);return s!=null&&d(n,["config"],BA(s,n)),n}function $A(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],ye(t,i));const s=u(e,["config"]);return s!=null&&d(n,["config"],GA(s,n)),n}function qA(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&d(e,["musicGenerationConfig"],n),e}function zA(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),d(e,["weightedPrompts"],i)}return e}function WA(t){const e={},n=u(t,["media"]);if(n!=null){let m=e0(n);Array.isArray(m)&&(m=m.map(v=>Bs(v))),d(e,["mediaChunks"],m)}const i=u(t,["audio"]);i!=null&&d(e,["audio"],Bs(n0(i)));const s=u(t,["audioStreamEnd"]);s!=null&&d(e,["audioStreamEnd"],s);const a=u(t,["video"]);a!=null&&d(e,["video"],Bs(t0(a)));const c=u(t,["text"]);c!=null&&d(e,["text"],c);const p=u(t,["activityStart"]);p!=null&&d(e,["activityStart"],p);const h=u(t,["activityEnd"]);return h!=null&&d(e,["activityEnd"],h),e}function JA(t){const e={},n=u(t,["media"]);if(n!=null){let m=e0(n);Array.isArray(m)&&(m=m.map(v=>v)),d(e,["mediaChunks"],m)}const i=u(t,["audio"]);i!=null&&d(e,["audio"],n0(i));const s=u(t,["audioStreamEnd"]);s!=null&&d(e,["audioStreamEnd"],s);const a=u(t,["video"]);a!=null&&d(e,["video"],t0(a));const c=u(t,["text"]);c!=null&&d(e,["text"],c);const p=u(t,["activityStart"]);p!=null&&d(e,["activityStart"],p);const h=u(t,["activityEnd"]);return h!=null&&d(e,["activityEnd"],h),e}function KA(t){const e={},n=u(t,["setupComplete"]);n!=null&&d(e,["setupComplete"],n);const i=u(t,["serverContent"]);i!=null&&d(e,["serverContent"],i);const s=u(t,["toolCall"]);s!=null&&d(e,["toolCall"],s);const a=u(t,["toolCallCancellation"]);a!=null&&d(e,["toolCallCancellation"],a);const c=u(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],ZA(c));const p=u(t,["goAway"]);p!=null&&d(e,["goAway"],p);const h=u(t,["sessionResumptionUpdate"]);h!=null&&d(e,["sessionResumptionUpdate"],h);const m=u(t,["voiceActivityDetectionSignal"]);return m!=null&&d(e,["voiceActivityDetectionSignal"],m),e}function YA(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const i=u(t,["codeExecutionResult"]);i!=null&&d(e,["codeExecutionResult"],i);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],DA(a));const c=u(t,["functionCall"]);c!=null&&d(e,["functionCall"],LA(c));const p=u(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const h=u(t,["inlineData"]);h!=null&&d(e,["inlineData"],Bs(h));const m=u(t,["text"]);m!=null&&d(e,["text"],m);const v=u(t,["thought"]);v!=null&&d(e,["thought"],v);const _=u(t,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const w=u(t,["videoMetadata"]);return w!=null&&d(e,["videoMetadata"],w),e}function QA(t){const e={},n=u(t,["handle"]);if(n!=null&&d(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function XA(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const a=u(t,["fileSearch"]);a!=null&&d(e,["fileSearch"],a);const c=u(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],OA(p));const h=u(t,["googleSearch"]);h!=null&&d(e,["googleSearch"],VA(h));const m=u(t,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function jA(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(w=>UA(w))),d(e,["functionDeclarations"],_)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const s=u(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const a=u(t,["computerUse"]);if(a!=null&&d(e,["computerUse"],a),u(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=u(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const p=u(t,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],h);const m=u(t,["googleSearch"]);m!=null&&d(e,["googleSearch"],m);const v=u(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function ZA(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&d(e,["cachedContentTokenCount"],i);const s=u(t,["candidatesTokenCount"]);s!=null&&d(e,["responseTokenCount"],s);const a=u(t,["toolUsePromptTokenCount"]);a!=null&&d(e,["toolUsePromptTokenCount"],a);const c=u(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const p=u(t,["totalTokenCount"]);p!=null&&d(e,["totalTokenCount"],p);const h=u(t,["promptTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(A=>A)),d(e,["promptTokensDetails"],S)}const m=u(t,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(A=>A)),d(e,["cacheTokensDetails"],S)}const v=u(t,["candidatesTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(A=>A)),d(e,["responseTokensDetails"],S)}const _=u(t,["toolUsePromptTokensDetails"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(A=>A)),d(e,["toolUsePromptTokensDetails"],S)}const w=u(t,["trafficType"]);return w!=null&&d(e,["trafficType"],w),e}function eN(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function tN(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],n);const i=u(t,["citationMetadata"]);i!=null&&d(e,["citationMetadata"],nN(i));const s=u(t,["tokenCount"]);s!=null&&d(e,["tokenCount"],s);const a=u(t,["finishReason"]);a!=null&&d(e,["finishReason"],a);const c=u(t,["avgLogprobs"]);c!=null&&d(e,["avgLogprobs"],c);const p=u(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const h=u(t,["index"]);h!=null&&d(e,["index"],h);const m=u(t,["logprobsResult"]);m!=null&&d(e,["logprobsResult"],m);const v=u(t,["safetyRatings"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(S=>S)),d(e,["safetyRatings"],w)}const _=u(t,["urlContextMetadata"]);return _!=null&&d(e,["urlContextMetadata"],_),e}function nN(t){const e={},n=u(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),d(e,["citations"],i)}return e}function rN(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["contents"]);if(s!=null){let a=Ct(s);Array.isArray(a)&&(a=a.map(c=>c)),d(n,["contents"],a)}return n}function iN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),d(e,["tokensInfo"],s)}return e}function oN(t){const e={},n=u(t,["values"]);n!=null&&d(e,["values"],n);const i=u(t,["statistics"]);return i!=null&&d(e,["statistics"],sN(i)),e}function sN(t){const e={},n=u(t,["truncated"]);n!=null&&d(e,["truncated"],n);const i=u(t,["token_count"]);return i!=null&&d(e,["tokenCount"],i),e}function da(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>mR(a))),d(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function aN(t){const e={},n=u(t,["controlType"]);n!=null&&d(e,["controlType"],n);const i=u(t,["enableControlImageComputation"]);return i!=null&&d(e,["computeControl"],i),e}function lN(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function uN(t,e){const n={},i=u(t,["systemInstruction"]);e!==void 0&&i!=null&&d(e,["systemInstruction"],et(i));const s=u(t,["tools"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(p=>g0(p))),d(e,["tools"],c)}const a=u(t,["generationConfig"]);return e!==void 0&&a!=null&&d(e,["generationConfig"],eR(a)),n}function cN(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["contents"]);if(s!=null){let c=Ct(s);Array.isArray(c)&&(c=c.map(p=>da(p))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&lN(a),n}function dN(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["contents"]);if(s!=null){let c=Ct(s);Array.isArray(c)&&(c=c.map(p=>p)),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&uN(a,n),n}function fN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["totalTokens"]);i!=null&&d(e,["totalTokens"],i);const s=u(t,["cachedContentTokenCount"]);return s!=null&&d(e,["cachedContentTokenCount"],s),e}function pN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["totalTokens"]);return i!=null&&d(e,["totalTokens"],i),e}function hN(t,e){const n={},i=u(e,["model"]);return i!=null&&d(n,["_url","name"],ye(t,i)),n}function mN(t,e){const n={},i=u(e,["model"]);return i!=null&&d(n,["_url","name"],ye(t,i)),n}function gN(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function vN(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function yN(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const s=u(t,["negativePrompt"]);e!==void 0&&s!=null&&d(e,["parameters","negativePrompt"],s);const a=u(t,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const p=u(t,["guidanceScale"]);e!==void 0&&p!=null&&d(e,["parameters","guidanceScale"],p);const h=u(t,["seed"]);e!==void 0&&h!=null&&d(e,["parameters","seed"],h);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const v=u(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const _=u(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&d(e,["parameters","includeSafetyAttributes"],_);const w=u(t,["includeRaiReason"]);e!==void 0&&w!=null&&d(e,["parameters","includeRaiReason"],w);const S=u(t,["language"]);e!==void 0&&S!=null&&d(e,["parameters","language"],S);const A=u(t,["outputMimeType"]);e!==void 0&&A!=null&&d(e,["parameters","outputOptions","mimeType"],A);const N=u(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","compressionQuality"],N);const I=u(t,["addWatermark"]);e!==void 0&&I!=null&&d(e,["parameters","addWatermark"],I);const L=u(t,["labels"]);e!==void 0&&L!=null&&d(e,["labels"],L);const U=u(t,["editMode"]);e!==void 0&&U!=null&&d(e,["parameters","editMode"],U);const D=u(t,["baseSteps"]);return e!==void 0&&D!=null&&d(e,["parameters","editConfig","baseSteps"],D),n}function _N(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const a=u(e,["referenceImages"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>wR(h))),d(n,["instances[0]","referenceImages"],p)}const c=u(e,["config"]);return c!=null&&yN(c,n),n}function EN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>fa(a))),d(e,["generatedImages"],s)}return e}function wN(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&d(e,["requests[]","taskType"],i);const s=u(t,["title"]);e!==void 0&&s!=null&&d(e,["requests[]","title"],s);const a=u(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&d(e,["requests[]","outputDimensionality"],a),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function xN(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&d(e,["instances[]","task_type"],i);const s=u(t,["title"]);e!==void 0&&s!=null&&d(e,["instances[]","title"],s);const a=u(t,["outputDimensionality"]);e!==void 0&&a!=null&&d(e,["parameters","outputDimensionality"],a);const c=u(t,["mimeType"]);e!==void 0&&c!=null&&d(e,["instances[]","mimeType"],c);const p=u(t,["autoTruncate"]);return e!==void 0&&p!=null&&d(e,["parameters","autoTruncate"],p),n}function SN(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["contents"]);if(s!=null){let p=Uc(t,s);Array.isArray(p)&&(p=p.map(h=>h)),d(n,["requests[]","content"],p)}const a=u(e,["config"]);a!=null&&wN(a,n);const c=u(e,["model"]);return c!==void 0&&d(n,["requests[]","model"],ye(t,c)),n}function TN(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["contents"]);if(s!=null){let c=Uc(t,s);Array.isArray(c)&&(c=c.map(p=>p)),d(n,["instances[]","content"],c)}const a=u(e,["config"]);return a!=null&&xN(a,n),n}function IN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>c)),d(e,["embeddings"],a)}const s=u(t,["metadata"]);return s!=null&&d(e,["metadata"],s),e}function CN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>oN(c))),d(e,["embeddings"],a)}const s=u(t,["metadata"]);return s!=null&&d(e,["metadata"],s),e}function kN(t){const e={},n=u(t,["endpoint"]);n!=null&&d(e,["name"],n);const i=u(t,["deployedModelId"]);return i!=null&&d(e,["deployedModelId"],i),e}function AN(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function NN(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const i=u(t,["args"]);i!=null&&d(e,["args"],i);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function RN(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);if(i!=null&&d(e,["allowedFunctionNames"],i),u(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function PN(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const i=u(t,["name"]);i!=null&&d(e,["name"],i);const s=u(t,["parameters"]);s!=null&&d(e,["parameters"],s);const a=u(t,["parametersJsonSchema"]);a!=null&&d(e,["parametersJsonSchema"],a);const c=u(t,["response"]);c!=null&&d(e,["response"],c);const p=u(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function bN(t,e,n){const i={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&d(n,["systemInstruction"],da(et(s)));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const p=u(e,["topK"]);p!=null&&d(i,["topK"],p);const h=u(e,["candidateCount"]);h!=null&&d(i,["candidateCount"],h);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const v=u(e,["stopSequences"]);v!=null&&d(i,["stopSequences"],v);const _=u(e,["responseLogprobs"]);_!=null&&d(i,["responseLogprobs"],_);const w=u(e,["logprobs"]);w!=null&&d(i,["logprobs"],w);const S=u(e,["presencePenalty"]);S!=null&&d(i,["presencePenalty"],S);const A=u(e,["frequencyPenalty"]);A!=null&&d(i,["frequencyPenalty"],A);const N=u(e,["seed"]);N!=null&&d(i,["seed"],N);const I=u(e,["responseMimeType"]);I!=null&&d(i,["responseMimeType"],I);const L=u(e,["responseSchema"]);L!=null&&d(i,["responseSchema"],Fc(L));const U=u(e,["responseJsonSchema"]);if(U!=null&&d(i,["responseJsonSchema"],U),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(e,["safetySettings"]);if(n!==void 0&&D!=null){let fe=D;Array.isArray(fe)&&(fe=fe.map(Re=>xR(Re))),d(n,["safetySettings"],fe)}const F=u(e,["tools"]);if(n!==void 0&&F!=null){let fe=ui(F);Array.isArray(fe)&&(fe=fe.map(Re=>NR(li(Re)))),d(n,["tools"],fe)}const K=u(e,["toolConfig"]);if(n!==void 0&&K!=null&&d(n,["toolConfig"],AR(K)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=u(e,["cachedContent"]);n!==void 0&&B!=null&&d(n,["cachedContent"],wn(t,B));const O=u(e,["responseModalities"]);O!=null&&d(i,["responseModalities"],O);const z=u(e,["mediaResolution"]);z!=null&&d(i,["mediaResolution"],z);const J=u(e,["speechConfig"]);if(J!=null&&d(i,["speechConfig"],Oc(J)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=u(e,["thinkingConfig"]);se!=null&&d(i,["thinkingConfig"],se);const _e=u(e,["imageConfig"]);_e!=null&&d(i,["imageConfig"],oR(_e));const Le=u(e,["enableEnhancedCivicAnswers"]);return Le!=null&&d(i,["enableEnhancedCivicAnswers"],Le),i}function MN(t,e,n){const i={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&d(n,["systemInstruction"],et(s));const a=u(e,["temperature"]);a!=null&&d(i,["temperature"],a);const c=u(e,["topP"]);c!=null&&d(i,["topP"],c);const p=u(e,["topK"]);p!=null&&d(i,["topK"],p);const h=u(e,["candidateCount"]);h!=null&&d(i,["candidateCount"],h);const m=u(e,["maxOutputTokens"]);m!=null&&d(i,["maxOutputTokens"],m);const v=u(e,["stopSequences"]);v!=null&&d(i,["stopSequences"],v);const _=u(e,["responseLogprobs"]);_!=null&&d(i,["responseLogprobs"],_);const w=u(e,["logprobs"]);w!=null&&d(i,["logprobs"],w);const S=u(e,["presencePenalty"]);S!=null&&d(i,["presencePenalty"],S);const A=u(e,["frequencyPenalty"]);A!=null&&d(i,["frequencyPenalty"],A);const N=u(e,["seed"]);N!=null&&d(i,["seed"],N);const I=u(e,["responseMimeType"]);I!=null&&d(i,["responseMimeType"],I);const L=u(e,["responseSchema"]);L!=null&&d(i,["responseSchema"],Fc(L));const U=u(e,["responseJsonSchema"]);U!=null&&d(i,["responseJsonSchema"],U);const D=u(e,["routingConfig"]);D!=null&&d(i,["routingConfig"],D);const F=u(e,["modelSelectionConfig"]);F!=null&&d(i,["modelConfig"],F);const K=u(e,["safetySettings"]);if(n!==void 0&&K!=null){let Ie=K;Array.isArray(Ie)&&(Ie=Ie.map(xe=>xe)),d(n,["safetySettings"],Ie)}const B=u(e,["tools"]);if(n!==void 0&&B!=null){let Ie=ui(B);Array.isArray(Ie)&&(Ie=Ie.map(xe=>g0(li(xe)))),d(n,["tools"],Ie)}const O=u(e,["toolConfig"]);n!==void 0&&O!=null&&d(n,["toolConfig"],O);const z=u(e,["labels"]);n!==void 0&&z!=null&&d(n,["labels"],z);const J=u(e,["cachedContent"]);n!==void 0&&J!=null&&d(n,["cachedContent"],wn(t,J));const se=u(e,["responseModalities"]);se!=null&&d(i,["responseModalities"],se);const _e=u(e,["mediaResolution"]);_e!=null&&d(i,["mediaResolution"],_e);const Le=u(e,["speechConfig"]);Le!=null&&d(i,["speechConfig"],Oc(Le));const fe=u(e,["audioTimestamp"]);fe!=null&&d(i,["audioTimestamp"],fe);const Re=u(e,["thinkingConfig"]);Re!=null&&d(i,["thinkingConfig"],Re);const tt=u(e,["imageConfig"]);if(tt!=null&&d(i,["imageConfig"],sR(tt)),u(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function ig(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["contents"]);if(s!=null){let c=Ct(s);Array.isArray(c)&&(c=c.map(p=>da(p))),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["generationConfig"],bN(t,a,n)),n}function og(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["contents"]);if(s!=null){let c=Ct(s);Array.isArray(c)&&(c=c.map(p=>p)),d(n,["contents"],c)}const a=u(e,["config"]);return a!=null&&d(n,["generationConfig"],MN(t,a,n)),n}function sg(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>tN(m))),d(e,["candidates"],h)}const s=u(t,["modelVersion"]);s!=null&&d(e,["modelVersion"],s);const a=u(t,["promptFeedback"]);a!=null&&d(e,["promptFeedback"],a);const c=u(t,["responseId"]);c!=null&&d(e,["responseId"],c);const p=u(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function ag(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(v=>v)),d(e,["candidates"],m)}const s=u(t,["createTime"]);s!=null&&d(e,["createTime"],s);const a=u(t,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const c=u(t,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const p=u(t,["responseId"]);p!=null&&d(e,["responseId"],p);const h=u(t,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function DN(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const s=u(t,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const a=u(t,["guidanceScale"]);if(e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const p=u(t,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const h=u(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&d(e,["parameters","includeSafetyAttributes"],h);const m=u(t,["includeRaiReason"]);e!==void 0&&m!=null&&d(e,["parameters","includeRaiReason"],m);const v=u(t,["language"]);e!==void 0&&v!=null&&d(e,["parameters","language"],v);const _=u(t,["outputMimeType"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","mimeType"],_);const w=u(t,["outputCompressionQuality"]);if(e!==void 0&&w!=null&&d(e,["parameters","outputOptions","compressionQuality"],w),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=u(t,["imageSize"]);if(e!==void 0&&S!=null&&d(e,["parameters","sampleImageSize"],S),u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function LN(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const s=u(t,["negativePrompt"]);e!==void 0&&s!=null&&d(e,["parameters","negativePrompt"],s);const a=u(t,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const p=u(t,["guidanceScale"]);e!==void 0&&p!=null&&d(e,["parameters","guidanceScale"],p);const h=u(t,["seed"]);e!==void 0&&h!=null&&d(e,["parameters","seed"],h);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const v=u(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const _=u(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&d(e,["parameters","includeSafetyAttributes"],_);const w=u(t,["includeRaiReason"]);e!==void 0&&w!=null&&d(e,["parameters","includeRaiReason"],w);const S=u(t,["language"]);e!==void 0&&S!=null&&d(e,["parameters","language"],S);const A=u(t,["outputMimeType"]);e!==void 0&&A!=null&&d(e,["parameters","outputOptions","mimeType"],A);const N=u(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","compressionQuality"],N);const I=u(t,["addWatermark"]);e!==void 0&&I!=null&&d(e,["parameters","addWatermark"],I);const L=u(t,["labels"]);e!==void 0&&L!=null&&d(e,["labels"],L);const U=u(t,["imageSize"]);e!==void 0&&U!=null&&d(e,["parameters","sampleImageSize"],U);const D=u(t,["enhancePrompt"]);return e!==void 0&&D!=null&&d(e,["parameters","enhancePrompt"],D),n}function UN(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const a=u(e,["config"]);return a!=null&&DN(a,n),n}function FN(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const a=u(e,["config"]);return a!=null&&LN(a,n),n}function ON(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>QN(c))),d(e,["generatedImages"],a)}const s=u(t,["positivePromptSafetyAttributes"]);return s!=null&&d(e,["positivePromptSafetyAttributes"],h0(s)),e}function VN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>fa(c))),d(e,["generatedImages"],a)}const s=u(t,["positivePromptSafetyAttributes"]);return s!=null&&d(e,["positivePromptSafetyAttributes"],m0(s)),e}function BN(t,e){const n={},i=u(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=u(t,["durationSeconds"]);if(e!==void 0&&s!=null&&d(e,["parameters","durationSeconds"],s),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=u(t,["aspectRatio"]);e!==void 0&&a!=null&&d(e,["parameters","aspectRatio"],a);const c=u(t,["resolution"]);e!==void 0&&c!=null&&d(e,["parameters","resolution"],c);const p=u(t,["personGeneration"]);if(e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(t,["negativePrompt"]);e!==void 0&&h!=null&&d(e,["parameters","negativePrompt"],h);const m=u(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&d(e,["parameters","enhancePrompt"],m),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(t,["lastFrame"]);e!==void 0&&v!=null&&d(e,["instances[0]","lastFrame"],pa(v));const _=u(t,["referenceImages"]);if(e!==void 0&&_!=null){let w=_;Array.isArray(w)&&(w=w.map(S=>HR(S))),d(e,["instances[0]","referenceImages"],w)}if(u(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function GN(t,e){const n={},i=u(t,["numberOfVideos"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const s=u(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const a=u(t,["fps"]);e!==void 0&&a!=null&&d(e,["parameters","fps"],a);const c=u(t,["durationSeconds"]);e!==void 0&&c!=null&&d(e,["parameters","durationSeconds"],c);const p=u(t,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const h=u(t,["aspectRatio"]);e!==void 0&&h!=null&&d(e,["parameters","aspectRatio"],h);const m=u(t,["resolution"]);e!==void 0&&m!=null&&d(e,["parameters","resolution"],m);const v=u(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const _=u(t,["pubsubTopic"]);e!==void 0&&_!=null&&d(e,["parameters","pubsubTopic"],_);const w=u(t,["negativePrompt"]);e!==void 0&&w!=null&&d(e,["parameters","negativePrompt"],w);const S=u(t,["enhancePrompt"]);e!==void 0&&S!=null&&d(e,["parameters","enhancePrompt"],S);const A=u(t,["generateAudio"]);e!==void 0&&A!=null&&d(e,["parameters","generateAudio"],A);const N=u(t,["lastFrame"]);e!==void 0&&N!=null&&d(e,["instances[0]","lastFrame"],Ot(N));const I=u(t,["referenceImages"]);if(e!==void 0&&I!=null){let D=I;Array.isArray(D)&&(D=D.map(F=>$R(F))),d(e,["instances[0]","referenceImages"],D)}const L=u(t,["mask"]);e!==void 0&&L!=null&&d(e,["instances[0]","mask"],GR(L));const U=u(t,["compressionQuality"]);return e!==void 0&&U!=null&&d(e,["parameters","compressionQuality"],U),n}function HN(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],WN(c)),e}function $N(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response"]);return c!=null&&d(e,["response"],JN(c)),e}function qN(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const a=u(e,["image"]);a!=null&&d(n,["instances[0]","image"],pa(a));const c=u(e,["video"]);c!=null&&d(n,["instances[0]","video"],v0(c));const p=u(e,["source"]);p!=null&&KN(p,n);const h=u(e,["config"]);return h!=null&&BN(h,n),n}function zN(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const a=u(e,["image"]);a!=null&&d(n,["instances[0]","image"],Ot(a));const c=u(e,["video"]);c!=null&&d(n,["instances[0]","video"],y0(c));const p=u(e,["source"]);p!=null&&YN(p,n);const h=u(e,["config"]);return h!=null&&GN(h,n),n}function WN(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>jN(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function JN(t){const e={},n=u(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>ZN(c))),d(e,["generatedVideos"],a)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&d(e,["raiMediaFilteredCount"],i);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function KN(t,e){const n={},i=u(t,["prompt"]);e!==void 0&&i!=null&&d(e,["instances[0]","prompt"],i);const s=u(t,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],pa(s));const a=u(t,["video"]);return e!==void 0&&a!=null&&d(e,["instances[0]","video"],v0(a)),n}function YN(t,e){const n={},i=u(t,["prompt"]);e!==void 0&&i!=null&&d(e,["instances[0]","prompt"],i);const s=u(t,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],Ot(s));const a=u(t,["video"]);return e!==void 0&&a!=null&&d(e,["instances[0]","video"],y0(a)),n}function QN(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["image"],aR(n));const i=u(t,["raiFilteredReason"]);i!=null&&d(e,["raiFilteredReason"],i);const s=u(t,["_self"]);return s!=null&&d(e,["safetyAttributes"],h0(s)),e}function fa(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["image"],p0(n));const i=u(t,["raiFilteredReason"]);i!=null&&d(e,["raiFilteredReason"],i);const s=u(t,["_self"]);s!=null&&d(e,["safetyAttributes"],m0(s));const a=u(t,["prompt"]);return a!=null&&d(e,["enhancedPrompt"],a),e}function XN(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["mask"],p0(n));const i=u(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),d(e,["labels"],s)}return e}function jN(t){const e={},n=u(t,["video"]);return n!=null&&d(e,["video"],VR(n)),e}function ZN(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],BR(n)),e}function eR(t){const e={},n=u(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const i=u(t,["responseJsonSchema"]);i!=null&&d(e,["responseJsonSchema"],i);const s=u(t,["audioTimestamp"]);s!=null&&d(e,["audioTimestamp"],s);const a=u(t,["candidateCount"]);a!=null&&d(e,["candidateCount"],a);const c=u(t,["enableAffectiveDialog"]);c!=null&&d(e,["enableAffectiveDialog"],c);const p=u(t,["frequencyPenalty"]);p!=null&&d(e,["frequencyPenalty"],p);const h=u(t,["logprobs"]);h!=null&&d(e,["logprobs"],h);const m=u(t,["maxOutputTokens"]);m!=null&&d(e,["maxOutputTokens"],m);const v=u(t,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const _=u(t,["presencePenalty"]);_!=null&&d(e,["presencePenalty"],_);const w=u(t,["responseLogprobs"]);w!=null&&d(e,["responseLogprobs"],w);const S=u(t,["responseMimeType"]);S!=null&&d(e,["responseMimeType"],S);const A=u(t,["responseModalities"]);A!=null&&d(e,["responseModalities"],A);const N=u(t,["responseSchema"]);N!=null&&d(e,["responseSchema"],N);const I=u(t,["routingConfig"]);I!=null&&d(e,["routingConfig"],I);const L=u(t,["seed"]);L!=null&&d(e,["seed"],L);const U=u(t,["speechConfig"]);U!=null&&d(e,["speechConfig"],U);const D=u(t,["stopSequences"]);D!=null&&d(e,["stopSequences"],D);const F=u(t,["temperature"]);F!=null&&d(e,["temperature"],F);const K=u(t,["thinkingConfig"]);K!=null&&d(e,["thinkingConfig"],K);const B=u(t,["topK"]);B!=null&&d(e,["topK"],B);const O=u(t,["topP"]);if(O!=null&&d(e,["topP"],O),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function tR(t,e){const n={},i=u(e,["model"]);return i!=null&&d(n,["_url","name"],ye(t,i)),n}function nR(t,e){const n={},i=u(e,["model"]);return i!=null&&d(n,["_url","name"],ye(t,i)),n}function rR(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function iR(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function oR(t){const e={},n=u(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const i=u(t,["imageSize"]);if(i!=null&&d(e,["imageSize"],i),u(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function sR(t){const e={},n=u(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const i=u(t,["imageSize"]);i!=null&&d(e,["imageSize"],i);const s=u(t,["outputMimeType"]);s!=null&&d(e,["imageOutputOptions","mimeType"],s);const a=u(t,["outputCompressionQuality"]);return a!=null&&d(e,["imageOutputOptions","compressionQuality"],a),e}function aR(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&d(e,["imageBytes"],Qn(n));const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function p0(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["imageBytes"],Qn(i));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function pa(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&d(e,["bytesBase64Encoded"],Qn(n));const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function Ot(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["imageBytes"]);i!=null&&d(e,["bytesBase64Encoded"],Qn(i));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function lR(t,e,n){const i={},s=u(e,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const a=u(e,["pageToken"]);n!==void 0&&a!=null&&d(n,["_query","pageToken"],a);const c=u(e,["filter"]);n!==void 0&&c!=null&&d(n,["_query","filter"],c);const p=u(e,["queryBase"]);return n!==void 0&&p!=null&&d(n,["_url","models_url"],s0(t,p)),i}function uR(t,e,n){const i={},s=u(e,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const a=u(e,["pageToken"]);n!==void 0&&a!=null&&d(n,["_query","pageToken"],a);const c=u(e,["filter"]);n!==void 0&&c!=null&&d(n,["_query","filter"],c);const p=u(e,["queryBase"]);return n!==void 0&&p!=null&&d(n,["_url","models_url"],s0(t,p)),i}function cR(t,e){const n={},i=u(e,["config"]);return i!=null&&lR(t,i,n),n}function dR(t,e){const n={},i=u(e,["config"]);return i!=null&&uR(t,i,n),n}function fR(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&d(e,["nextPageToken"],i);const s=u(t,["_self"]);if(s!=null){let a=a0(s);Array.isArray(a)&&(a=a.map(c=>Ju(c))),d(e,["models"],a)}return e}function pR(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&d(e,["nextPageToken"],i);const s=u(t,["_self"]);if(s!=null){let a=a0(s);Array.isArray(a)&&(a=a.map(c=>Ku(c))),d(e,["models"],a)}return e}function hR(t){const e={},n=u(t,["maskMode"]);n!=null&&d(e,["maskMode"],n);const i=u(t,["segmentationClasses"]);i!=null&&d(e,["maskClasses"],i);const s=u(t,["maskDilation"]);return s!=null&&d(e,["dilation"],s),e}function Ju(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const s=u(t,["description"]);s!=null&&d(e,["description"],s);const a=u(t,["version"]);a!=null&&d(e,["version"],a);const c=u(t,["_self"]);c!=null&&d(e,["tunedModelInfo"],RR(c));const p=u(t,["inputTokenLimit"]);p!=null&&d(e,["inputTokenLimit"],p);const h=u(t,["outputTokenLimit"]);h!=null&&d(e,["outputTokenLimit"],h);const m=u(t,["supportedGenerationMethods"]);m!=null&&d(e,["supportedActions"],m);const v=u(t,["temperature"]);v!=null&&d(e,["temperature"],v);const _=u(t,["maxTemperature"]);_!=null&&d(e,["maxTemperature"],_);const w=u(t,["topP"]);w!=null&&d(e,["topP"],w);const S=u(t,["topK"]);S!=null&&d(e,["topK"],S);const A=u(t,["thinking"]);return A!=null&&d(e,["thinking"],A),e}function Ku(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["displayName"]);i!=null&&d(e,["displayName"],i);const s=u(t,["description"]);s!=null&&d(e,["description"],s);const a=u(t,["versionId"]);a!=null&&d(e,["version"],a);const c=u(t,["deployedModels"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(w=>kN(w))),d(e,["endpoints"],_)}const p=u(t,["labels"]);p!=null&&d(e,["labels"],p);const h=u(t,["_self"]);h!=null&&d(e,["tunedModelInfo"],PR(h));const m=u(t,["defaultCheckpointId"]);m!=null&&d(e,["defaultCheckpointId"],m);const v=u(t,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(w=>w)),d(e,["checkpoints"],_)}return e}function mR(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const i=u(t,["codeExecutionResult"]);i!=null&&d(e,["codeExecutionResult"],i);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],AN(a));const c=u(t,["functionCall"]);c!=null&&d(e,["functionCall"],NN(c));const p=u(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const h=u(t,["inlineData"]);h!=null&&d(e,["inlineData"],eN(h));const m=u(t,["text"]);m!=null&&d(e,["text"],m);const v=u(t,["thought"]);v!=null&&d(e,["thought"],v);const _=u(t,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const w=u(t,["videoMetadata"]);return w!=null&&d(e,["videoMetadata"],w),e}function gR(t){const e={},n=u(t,["productImage"]);return n!=null&&d(e,["image"],Ot(n)),e}function vR(t,e){const n={},i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const s=u(t,["baseSteps"]);e!==void 0&&s!=null&&d(e,["parameters","baseSteps"],s);const a=u(t,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const c=u(t,["seed"]);e!==void 0&&c!=null&&d(e,["parameters","seed"],c);const p=u(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const m=u(t,["addWatermark"]);e!==void 0&&m!=null&&d(e,["parameters","addWatermark"],m);const v=u(t,["outputMimeType"]);e!==void 0&&v!=null&&d(e,["parameters","outputOptions","mimeType"],v);const _=u(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_);const w=u(t,["enhancePrompt"]);e!==void 0&&w!=null&&d(e,["parameters","enhancePrompt"],w);const S=u(t,["labels"]);return e!==void 0&&S!=null&&d(e,["labels"],S),n}function yR(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["source"]);s!=null&&ER(s,n);const a=u(e,["config"]);return a!=null&&vR(a,n),n}function _R(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>fa(s))),d(e,["generatedImages"],i)}return e}function ER(t,e){const n={},i=u(t,["prompt"]);e!==void 0&&i!=null&&d(e,["instances[0]","prompt"],i);const s=u(t,["personImage"]);e!==void 0&&s!=null&&d(e,["instances[0]","personImage","image"],Ot(s));const a=u(t,["productImages"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>gR(p))),d(e,["instances[0]","productImages"],c)}return n}function wR(t){const e={},n=u(t,["referenceImage"]);n!=null&&d(e,["referenceImage"],Ot(n));const i=u(t,["referenceId"]);i!=null&&d(e,["referenceId"],i);const s=u(t,["referenceType"]);s!=null&&d(e,["referenceType"],s);const a=u(t,["maskImageConfig"]);a!=null&&d(e,["maskImageConfig"],hR(a));const c=u(t,["controlImageConfig"]);c!=null&&d(e,["controlImageConfig"],aN(c));const p=u(t,["styleImageConfig"]);p!=null&&d(e,["styleImageConfig"],p);const h=u(t,["subjectImageConfig"]);return h!=null&&d(e,["subjectImageConfig"],h),e}function h0(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&d(e,["scores"],i);const s=u(t,["contentType"]);return s!=null&&d(e,["contentType"],s),e}function m0(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&d(e,["scores"],i);const s=u(t,["contentType"]);return s!=null&&d(e,["contentType"],s),e}function xR(t){const e={},n=u(t,["category"]);if(n!=null&&d(e,["category"],n),u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=u(t,["threshold"]);return i!=null&&d(e,["threshold"],i),e}function SR(t){const e={},n=u(t,["image"]);return n!=null&&d(e,["image"],Ot(n)),e}function TR(t,e){const n={},i=u(t,["mode"]);e!==void 0&&i!=null&&d(e,["parameters","mode"],i);const s=u(t,["maxPredictions"]);e!==void 0&&s!=null&&d(e,["parameters","maxPredictions"],s);const a=u(t,["confidenceThreshold"]);e!==void 0&&a!=null&&d(e,["parameters","confidenceThreshold"],a);const c=u(t,["maskDilation"]);e!==void 0&&c!=null&&d(e,["parameters","maskDilation"],c);const p=u(t,["binaryColorThreshold"]);e!==void 0&&p!=null&&d(e,["parameters","binaryColorThreshold"],p);const h=u(t,["labels"]);return e!==void 0&&h!=null&&d(e,["labels"],h),n}function IR(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["source"]);s!=null&&kR(s,n);const a=u(e,["config"]);return a!=null&&TR(a,n),n}function CR(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>XN(s))),d(e,["generatedMasks"],i)}return e}function kR(t,e){const n={},i=u(t,["prompt"]);e!==void 0&&i!=null&&d(e,["instances[0]","prompt"],i);const s=u(t,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],Ot(s));const a=u(t,["scribbleImage"]);return e!==void 0&&a!=null&&d(e,["instances[0]","scribble"],SR(a)),n}function AR(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],RN(n));const i=u(t,["retrievalConfig"]);return i!=null&&d(e,["retrievalConfig"],i),e}function NR(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const a=u(t,["fileSearch"]);a!=null&&d(e,["fileSearch"],a);const c=u(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],rR(p));const h=u(t,["googleSearch"]);h!=null&&d(e,["googleSearch"],iR(h));const m=u(t,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function g0(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(w=>PN(w))),d(e,["functionDeclarations"],_)}const i=u(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const s=u(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const a=u(t,["computerUse"]);if(a!=null&&d(e,["computerUse"],a),u(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=u(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const p=u(t,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const h=u(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],h);const m=u(t,["googleSearch"]);m!=null&&d(e,["googleSearch"],m);const v=u(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function RR(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&d(e,["createTime"],i);const s=u(t,["updateTime"]);return s!=null&&d(e,["updateTime"],s),e}function PR(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&d(e,["createTime"],i);const s=u(t,["updateTime"]);return s!=null&&d(e,["updateTime"],s),e}function bR(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const s=u(t,["description"]);e!==void 0&&s!=null&&d(e,["description"],s);const a=u(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&d(e,["defaultCheckpointId"],a),n}function MR(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const s=u(t,["description"]);e!==void 0&&s!=null&&d(e,["description"],s);const a=u(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&d(e,["defaultCheckpointId"],a),n}function DR(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","name"],ye(t,i));const s=u(e,["config"]);return s!=null&&bR(s,n),n}function LR(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["config"]);return s!=null&&MR(s,n),n}function UR(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const s=u(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&d(e,["parameters","safetySetting"],s);const a=u(t,["personGeneration"]);e!==void 0&&a!=null&&d(e,["parameters","personGeneration"],a);const c=u(t,["includeRaiReason"]);e!==void 0&&c!=null&&d(e,["parameters","includeRaiReason"],c);const p=u(t,["outputMimeType"]);e!==void 0&&p!=null&&d(e,["parameters","outputOptions","mimeType"],p);const h=u(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&d(e,["parameters","outputOptions","compressionQuality"],h);const m=u(t,["enhanceInputImage"]);e!==void 0&&m!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=u(t,["labels"]);e!==void 0&&_!=null&&d(e,["labels"],_);const w=u(t,["numberOfImages"]);e!==void 0&&w!=null&&d(e,["parameters","sampleCount"],w);const S=u(t,["mode"]);return e!==void 0&&S!=null&&d(e,["parameters","mode"],S),n}function FR(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["_url","model"],ye(t,i));const s=u(e,["image"]);s!=null&&d(n,["instances[0]","image"],Ot(s));const a=u(e,["upscaleFactor"]);a!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],a);const c=u(e,["config"]);return c!=null&&UR(c,n),n}function OR(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>fa(a))),d(e,["generatedImages"],s)}return e}function VR(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["uri"],n);const i=u(t,["encodedVideo"]);i!=null&&d(e,["videoBytes"],Qn(i));const s=u(t,["encoding"]);return s!=null&&d(e,["mimeType"],s),e}function BR(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&d(e,["videoBytes"],Qn(i));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function GR(t){const e={},n=u(t,["image"]);n!=null&&d(e,["_self"],Ot(n));const i=u(t,["maskMode"]);return i!=null&&d(e,["maskMode"],i),e}function HR(t){const e={},n=u(t,["image"]);n!=null&&d(e,["image"],pa(n));const i=u(t,["referenceType"]);return i!=null&&d(e,["referenceType"],i),e}function $R(t){const e={},n=u(t,["image"]);n!=null&&d(e,["image"],Ot(n));const i=u(t,["referenceType"]);return i!=null&&d(e,["referenceType"],i),e}function v0(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["uri"],n);const i=u(t,["videoBytes"]);i!=null&&d(e,["encodedVideo"],Qn(i));const s=u(t,["mimeType"]);return s!=null&&d(e,["encoding"],s),e}function y0(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["gcsUri"],n);const i=u(t,["videoBytes"]);i!=null&&d(e,["bytesBase64Encoded"],Qn(i));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function qR(t,e){const n={},i=u(t,["displayName"]);return e!==void 0&&i!=null&&d(e,["displayName"],i),n}function zR(t){const e={},n=u(t,["config"]);return n!=null&&qR(n,e),e}function WR(t,e){const n={},i=u(t,["force"]);return e!==void 0&&i!=null&&d(e,["_query","force"],i),n}function JR(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&WR(i,e),e}function KR(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function YR(t,e){const n={},i=u(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>c)),d(e,["customMetadata"],a)}const s=u(t,["chunkingConfig"]);return e!==void 0&&s!=null&&d(e,["chunkingConfig"],s),n}function QR(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const i=u(t,["metadata"]);i!=null&&d(e,["metadata"],i);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const a=u(t,["error"]);a!=null&&d(e,["error"],a);const c=u(t,["response"]);return c!=null&&d(e,["response"],jR(c)),e}function XR(t){const e={},n=u(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const i=u(t,["fileName"]);i!=null&&d(e,["fileName"],i);const s=u(t,["config"]);return s!=null&&YR(s,e),e}function jR(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["parent"]);i!=null&&d(e,["parent"],i);const s=u(t,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function ZR(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function eP(t){const e={},n=u(t,["config"]);return n!=null&&ZR(n,e),e}function tP(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&d(e,["nextPageToken"],i);const s=u(t,["fileSearchStores"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),d(e,["fileSearchStores"],a)}return e}function _0(t,e){const n={},i=u(t,["mimeType"]);e!==void 0&&i!=null&&d(e,["mimeType"],i);const s=u(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const a=u(t,["customMetadata"]);if(e!==void 0&&a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>h)),d(e,["customMetadata"],p)}const c=u(t,["chunkingConfig"]);return e!==void 0&&c!=null&&d(e,["chunkingConfig"],c),n}function nP(t){const e={},n=u(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const i=u(t,["config"]);return i!=null&&_0(i,e),e}function rP(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}const iP="Content-Type",oP="X-Server-Timeout",sP="User-Agent",Yu="x-goog-api-client",aP="1.34.0",lP=`google-genai-sdk/${aP}`,uP="v1beta1",cP="v1beta";class dP{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:uP,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:cP,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const s=[this.getRequestUrlInternal(n)];return i&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[c,p]of Object.entries(e.queryParams))s.searchParams.append(c,String(p));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,s.toString(),e.abortSignal),this.unaryApiCall(s,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[s,a]of Object.entries(n))typeof a=="object"?i[s]=Object.assign(Object.assign({},i[s]),a):a!==void 0&&(i[s]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,s.toString(),e.abortSignal),this.streamApiCall(s,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,s){if(n&&n.timeout||s){const a=new AbortController,c=a.signal;if(n.timeout&&n?.timeout>0){const p=setTimeout(()=>a.abort(),n.timeout);p&&typeof p.unref=="function"&&p.unref()}s&&s.addEventListener("abort",()=>{a.abort()}),e.signal=c}return n&&n.extraBody!==null&&fP(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await lg(s),new qu(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await lg(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return Ut(this,arguments,function*(){var i;const s=(i=e?.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let c="";const p="data:",h=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield de(s.read());if(m){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=a.decode(v,{stream:!0});try{const A=JSON.parse(_);if("error"in A){const N=JSON.parse(JSON.stringify(A.error)),I=N.status,L=N.code,U=`got status: ${I}. ${JSON.stringify(A)}`;if(L>=400&&L<600)throw new ca({message:U,status:L})}}catch(A){if(A.name==="ApiError")throw A}c+=_;let w=-1,S=0;for(;;){w=-1,S=0;for(const I of h){const L=c.indexOf(I);L!==-1&&(w===-1||L<w)&&(w=L,S=I.length)}if(w===-1)break;const A=c.substring(0,w);c=c.substring(w+S);const N=A.trim();if(N.startsWith(p)){const I=N.substring(p.length).trim();try{const L=new Response(I,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield de(new qu(L))}catch(L){throw new Error(`exception parsing stream chunk ${I}. ${L}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=lP+" "+this.clientOptions.userAgentExtra;return e[sP]=n,e[Yu]=n,e[iP]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[s,a]of Object.entries(e.headers))i.append(s,a);e.timeout&&e.timeout>0&&i.append(oP,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const a=this.clientOptions.uploader,c=await a.stat(e);s.sizeBytes=String(c.size);const p=(i=n?.mimeType)!==null&&i!==void 0?i:c.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=p;const h={file:s},m=this.getFileName(e),v=Q("upload/v1beta/files",h._url),_=await this.fetchUploadUrl(v,s.sizeBytes,s.mimeType,m,h,n?.httpOptions);return a.upload(e,_,this)}async uploadFileToFileSearchStore(e,n,i){var s;const a=this.clientOptions.uploader,c=await a.stat(n),p=String(c.size),h=(s=i?.mimeType)!==null&&s!==void 0?s:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(n),_={};i!=null&&_0(i,_);const w=await this.fetchUploadUrl(m,p,h,v,_,i?.httpOptions);return a.uploadToFileSearchStore(n,w,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,s,a,c){var p;let h={};c?h=c:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},s?{"X-Goog-Upload-File-Name":s}:{})};const m=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:h});if(!m||!m?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=m?.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function lg(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(i);throw n>=400&&n<600?new ca({message:s,status:n}):new Error(s)}}function fP(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,c){const p=Object.assign({},a);for(const h in c)if(Object.prototype.hasOwnProperty.call(c,h)){const m=c[h],v=p[h];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?p[h]=i(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),p[h]=m)}return p}const s=i(n,e);t.body=JSON.stringify(s)}const pP="mcp_used/unknown";let hP=!1;function E0(t){for(const e of t)if(mP(e)||typeof e=="object"&&"inputSchema"in e)return!0;return hP}function w0(t){var e;const n=(e=t[Yu])!==null&&e!==void 0?e:"";t[Yu]=(n+` ${pP}`).trimStart()}function mP(t){return t!==null&&typeof t=="object"&&t instanceof Bc}function gP(t){return Ut(this,arguments,function*(n,i=100){let s,a=0;for(;a<i;){const c=yield de(n.listTools({cursor:s}));for(const p of c.tools)yield yield de(p),a++;if(!c.nextCursor)break;s=c.nextCursor}})}class Bc{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Bc(e,n)}async initialize(){var e,n,i,s;if(this.mcpTools.length>0)return;const a={},c=[];for(const v of this.mcpClients)try{for(var p=!0,h=(n=void 0,Ft(gP(v))),m;m=await h.next(),e=m.done,!e;p=!0){s=m.value,p=!1;const _=s;c.push(_);const w=_.name;if(a[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);a[w]=v}}catch(_){n={error:_}}finally{try{!p&&!e&&(i=h.return)&&await i.call(h)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),KC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const c=await s.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:c.isError?{error:c}:c}})}return n}}async function vP(t,e,n){const i=new BC;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(i,s),e(i)}class yP{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),c=wP(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),h=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${p}`;let m=()=>{};const v=new Promise(D=>{m=D}),_=e.callbacks,w=function(){m({})},S=this.apiClient,A={onopen:w,onmessage:D=>{vP(S,_.onmessage,D)},onerror:(n=_?.onerror)!==null&&n!==void 0?n:function(D){},onclose:(i=_?.onclose)!==null&&i!==void 0?i:function(D){}},N=this.webSocketFactory.create(h,EP(c),A);N.connect(),await v;const U={setup:{model:ye(this.apiClient,e.model)}};return N.send(JSON.stringify(U)),new _P(N,this.apiClient)}}class _P{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=zA(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=qA(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Yr.PLAY)}pause(){this.sendPlaybackControl(Yr.PAUSE)}stop(){this.sendPlaybackControl(Yr.STOP)}resetContext(){this.sendPlaybackControl(Yr.RESET_CONTEXT)}close(){this.conn.close()}}function EP(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function wP(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const xP="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function SP(t,e,n){const i=new VC;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const a=JSON.parse(s);if(t.isVertexAI()){const c=KA(a);Object.assign(i,c)}else Object.assign(i,a);e(i)}class TP{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new yP(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,s,a,c,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&E0(e.config.tools)&&w0(_);const w=AP(_);if(this.apiClient.isVertexAI())v=`${h}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w,v);else{const J=this.apiClient.getApiKey();let se="BidiGenerateContent",_e="key";J?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),se="BidiGenerateContentConstrained",_e="access_token"),v=`${h}/ws/google.ai.generativelanguage.${m}.GenerativeService.${se}?${_e}=${J}`}let S=()=>{};const A=new Promise(J=>{S=J}),N=e.callbacks,I=function(){var J;(J=N?.onopen)===null||J===void 0||J.call(N),S({})},L=this.apiClient,U={onopen:I,onmessage:J=>{SP(L,N.onmessage,J)},onerror:(n=N?.onerror)!==null&&n!==void 0?n:function(J){},onclose:(i=N?.onclose)!==null&&i!==void 0?i:function(J){}},D=this.webSocketFactory.create(v,kP(w),U);D.connect(),await A;let F=ye(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const J=this.apiClient.getProject(),se=this.apiClient.getLocation();F=`projects/${J}/locations/${se}/`+F}let K={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Xs.AUDIO]}:e.config.responseModalities=[Xs.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const B=(p=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&p!==void 0?p:[],O=[];for(const J of B)if(this.isCallableTool(J)){const se=J;O.push(await se.tool())}else O.push(J);O.length>0&&(e.config.tools=O);const z={model:F,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?K=$A(this.apiClient,z):K=HA(this.apiClient,z),delete K.config,D.send(JSON.stringify(K)),new CP(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const IP={turnComplete:!0};class CP{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Ct(n.turns),e.isVertexAI()||(i=i.map(s=>da(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(xP)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},IP),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:JA(e)}:n={realtimeInput:WA(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function kP(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function AP(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const ug=10;function cg(t){var e,n,i;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const c of(n=t?.tools)!==null&&n!==void 0?n:[])if(ti(c)){s=!0;break}if(!s)return!0;const a=(i=t?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ti(t){return"callTool"in t&&typeof t.callTool=="function"}function NP(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>ti(s)))!==null&&i!==void 0?i:!1}function dg(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,s)=>{if(ti(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(s)}),n}function fg(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class RP extends En{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,s,a,c,p;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!NP(n)||cg(n.config))return await this.generateContentInternal(h);const m=dg(n);if(m.length>0){const N=m.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let v,_;const w=Ct(h.contents),S=(a=(s=(i=h.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:ug;let A=0;for(;A<S&&(v=await this.generateContentInternal(h),!(!v.functionCalls||v.functionCalls.length===0));){const N=v.candidates[0].content,I=[];for(const L of(p=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&p!==void 0?p:[])if(ti(L)){const D=await L.callTool(v.functionCalls);I.push(...D)}A++,_={role:"user",parts:I},h.contents=Ct(h.contents),h.contents.push(N),h.contents.push(_),fg(h.config)&&(w.push(N),w.push(_))}return fg(h.config)&&(v.automaticFunctionCallingHistory=w),v},this.generateContentStream=async n=>{var i,s,a,c,p;if(this.maybeMoveToResponseJsonSchem(n),cg(n.config)){const _=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(_)}const h=dg(n);if(h.length>0){const _=h.map(w=>`tools[${w}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(a=(s=(i=n?.config)===null||i===void 0?void 0:i.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,v=(p=(c=n?.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var s;let a;const c=[];if(i?.generatedImages)for(const h of i.generatedImages)h&&h?.safetyAttributes&&((s=h?.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?a=h?.safetyAttributes:c.push(h);let p;return a?p={generatedImages:c,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:p={generatedImages:c,sdkHttpResponse:i.sdkHttpResponse},p}),this.list=async n=>{var i;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((i=c.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new wr(gn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(c),c)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var i,s,a,c,p,h;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((c=(a=n.source)===null||a===void 0?void 0:a.video)===null||c===void 0)&&c.uri&&(!((h=(p=n.source)===null||p===void 0?void 0:p.video)===null||h===void 0)&&h.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,s;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const c=await Promise.all(a.map(async h=>ti(h)?await h.tool():h)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(p.config.tools=c,e.config&&e.config.tools&&E0(e.config.tools)){const h=(s=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&s!==void 0?s:{};let m=Object.assign({},h);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),w0(m),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return p}async initAfcToolsMap(e){var n,i,s;const a=new Map;for(const c of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(ti(c)){const p=c,h=await p.tool();for(const m of(s=h.functionDeclarations)!==null&&s!==void 0?s:[]){if(!m.name)throw new Error("Function declaration name is required.");if(a.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);a.set(m.name,p)}}return a}async processAfcStream(e){var n,i,s;const a=(s=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:ug;let c=!1,p=0;const h=await this.initAfcToolsMap(e);return(function(m,v,_){return Ut(this,arguments,function*(){for(var w,S,A,N,I,L;p<a;){c&&(p++,c=!1);const K=yield de(m.processParamsMaybeAddMcpUsage(_)),B=yield de(m.generateContentStreamInternal(K)),O=[],z=[];try{for(var U=!0,D=(S=void 0,Ft(B)),F;F=yield de(D.next()),w=F.done,!w;U=!0){N=F.value,U=!1;const J=N;if(yield yield de(J),J.candidates&&(!((I=J.candidates[0])===null||I===void 0)&&I.content)){z.push(J.candidates[0].content);for(const se of(L=J.candidates[0].content.parts)!==null&&L!==void 0?L:[])if(p<a&&se.functionCall){if(!se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(se.functionCall.name)){const _e=yield de(v.get(se.functionCall.name).callTool([se.functionCall]));O.push(..._e)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${se.functionCall.name}`)}}}}catch(J){S={error:J}}finally{try{!U&&!w&&(A=D.return)&&(yield de(A.call(D)))}finally{if(S)throw S.error}}if(O.length>0){c=!0;const J=new Xi;J.candidates=[{content:{role:"user",parts:O}}],yield yield de(J);const se=[];se.push(...z),se.push({role:"user",parts:O});const _e=Ct(_.contents).concat(se);_.contents=_e}else break}})})(this,h,e)}async generateContentInternal(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=og(this.apiClient,e);return p=Q("{model}:generateContent",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=ag(v),w=new Xi;return Object.assign(w,_),w})}else{const m=ig(this.apiClient,e);return p=Q("{model}:generateContent",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=sg(v),w=new Xi;return Object.assign(w,_),w})}}async generateContentStreamInternal(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=og(this.apiClient,e);return p=Q("{model}:streamGenerateContent?alt=sse",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),c.then(function(_){return Ut(this,arguments,function*(){var w,S,A,N;try{for(var I=!0,L=Ft(_),U;U=yield de(L.next()),w=U.done,!w;I=!0){N=U.value,I=!1;const D=N,F=ag(yield de(D.json()));F.sdkHttpResponse={headers:D.headers};const K=new Xi;Object.assign(K,F),yield yield de(K)}}catch(D){S={error:D}}finally{try{!I&&!w&&(A=L.return)&&(yield de(A.call(L)))}finally{if(S)throw S.error}}})})}else{const m=ig(this.apiClient,e);return p=Q("{model}:streamGenerateContent?alt=sse",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(_){return Ut(this,arguments,function*(){var w,S,A,N;try{for(var I=!0,L=Ft(_),U;U=yield de(L.next()),w=U.done,!w;I=!0){N=U.value,I=!1;const D=N,F=sg(yield de(D.json()));F.sdkHttpResponse={headers:D.headers};const K=new Xi;Object.assign(K,F),yield yield de(K)}}catch(D){S={error:D}}finally{try{!I&&!w&&(A=L.return)&&(yield de(A.call(L)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=TN(this.apiClient,e);return p=Q("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=CN(v),w=new Gm;return Object.assign(w,_),w})}else{const m=SN(this.apiClient,e);return p=Q("{model}:batchEmbedContents",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=IN(v),w=new Gm;return Object.assign(w,_),w})}}async generateImagesInternal(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=FN(this.apiClient,e);return p=Q("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=VN(v),w=new Hm;return Object.assign(w,_),w})}else{const m=UN(this.apiClient,e);return p=Q("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=ON(v),w=new Hm;return Object.assign(w,_),w})}}async editImageInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const p=_N(this.apiClient,e);return a=Q("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=EN(h),v=new AC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const p=FR(this.apiClient,e);return a=Q("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=OR(h),v=new NC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const p=yR(this.apiClient,e);return a=Q("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=_R(h),v=new RC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const p=IR(this.apiClient,e);return a=Q("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=CR(h),v=new PC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=nR(this.apiClient,e);return p=Q("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),c.then(v=>Ku(v))}else{const m=tR(this.apiClient,e);return p=Q("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Ju(v))}}async listInternal(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=dR(this.apiClient,e);return p=Q("{models_url}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=pR(v),w=new $m;return Object.assign(w,_),w})}else{const m=cR(this.apiClient,e);return p=Q("{models_url}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=fR(v),w=new $m;return Object.assign(w,_),w})}}async update(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=LR(this.apiClient,e);return p=Q("{model}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),c.then(v=>Ku(v))}else{const m=DR(this.apiClient,e);return p=Q("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Ju(v))}}async delete(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=mN(this.apiClient,e);return p=Q("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=vN(v),w=new qm;return Object.assign(w,_),w})}else{const m=hN(this.apiClient,e);return p=Q("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=gN(v),w=new qm;return Object.assign(w,_),w})}}async countTokens(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=dN(this.apiClient,e);return p=Q("{model}:countTokens",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=pN(v),w=new zm;return Object.assign(w,_),w})}else{const m=cN(this.apiClient,e);return p=Q("{model}:countTokens",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=fN(v),w=new zm;return Object.assign(w,_),w})}}async computeTokens(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const p=rN(this.apiClient,e);return a=Q("{model}:computeTokens",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=iN(h),v=new bC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=zN(this.apiClient,e);return p=Q("{model}:predictLongRunning",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),c.then(v=>{const _=$N(v),w=new js;return Object.assign(w,_),w})}else{const m=qN(this.apiClient,e);return p=Q("{model}:predictLongRunning",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const _=HN(v),w=new js;return Object.assign(w,_),w})}}}class PP extends En{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=xC(e);return p=Q("{operationName}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),c}else{const m=wC(e);return p=Q("{operationName}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const p=hC(e);return a=Q("{resourceName}:fetchPredictOperation",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}function bP(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function MP(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>HP(a))),d(e,["parts"],s)}const i=u(t,["role"]);return i!=null&&d(e,["role"],i),e}function DP(t,e,n){const i={},s=u(e,["expireTime"]);n!==void 0&&s!=null&&d(n,["expireTime"],s);const a=u(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&d(n,["newSessionExpireTime"],a);const c=u(e,["uses"]);n!==void 0&&c!=null&&d(n,["uses"],c);const p=u(e,["liveConnectConstraints"]);n!==void 0&&p!=null&&d(n,["bidiGenerateContentSetup"],GP(t,p));const h=u(e,["lockAdditionalFields"]);return n!==void 0&&h!=null&&d(n,["fieldMask"],h),i}function LP(t,e){const n={},i=u(e,["config"]);return i!=null&&d(n,["config"],DP(t,i,n)),n}function UP(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function FP(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const i=u(t,["args"]);i!=null&&d(e,["args"],i);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function OP(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function VP(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function BP(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig"],i);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const a=u(t,["temperature"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","temperature"],a);const c=u(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const p=u(t,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const h=u(t,["maxOutputTokens"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","maxOutputTokens"],h);const m=u(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=u(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const _=u(t,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],Vc(_));const w=u(t,["thinkingConfig"]);e!==void 0&&w!=null&&d(e,["setup","generationConfig","thinkingConfig"],w);const S=u(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],S);const A=u(t,["systemInstruction"]);e!==void 0&&A!=null&&d(e,["setup","systemInstruction"],MP(et(A)));const N=u(t,["tools"]);if(e!==void 0&&N!=null){let B=ui(N);Array.isArray(B)&&(B=B.map(O=>qP(li(O)))),d(e,["setup","tools"],B)}const I=u(t,["sessionResumption"]);e!==void 0&&I!=null&&d(e,["setup","sessionResumption"],$P(I));const L=u(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&d(e,["setup","inputAudioTranscription"],L);const U=u(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&d(e,["setup","outputAudioTranscription"],U);const D=u(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&d(e,["setup","realtimeInputConfig"],D);const F=u(t,["contextWindowCompression"]);e!==void 0&&F!=null&&d(e,["setup","contextWindowCompression"],F);const K=u(t,["proactivity"]);if(e!==void 0&&K!=null&&d(e,["setup","proactivity"],K),u(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function GP(t,e){const n={},i=u(e,["model"]);i!=null&&d(n,["setup","model"],ye(t,i));const s=u(e,["config"]);return s!=null&&d(n,["config"],BP(s,n)),n}function HP(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const i=u(t,["codeExecutionResult"]);i!=null&&d(e,["codeExecutionResult"],i);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const a=u(t,["fileData"]);a!=null&&d(e,["fileData"],UP(a));const c=u(t,["functionCall"]);c!=null&&d(e,["functionCall"],FP(c));const p=u(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const h=u(t,["inlineData"]);h!=null&&d(e,["inlineData"],bP(h));const m=u(t,["text"]);m!=null&&d(e,["text"],m);const v=u(t,["thought"]);v!=null&&d(e,["thought"],v);const _=u(t,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const w=u(t,["videoMetadata"]);return w!=null&&d(e,["videoMetadata"],w),e}function $P(t){const e={},n=u(t,["handle"]);if(n!=null&&d(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qP(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const a=u(t,["fileSearch"]);a!=null&&d(e,["fileSearch"],a);const c=u(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],OP(p));const h=u(t,["googleSearch"]);h!=null&&d(e,["googleSearch"],VP(h));const m=u(t,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function zP(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const s=Object.keys(i).map(a=>`${n}.${a}`);e.push(...s)}else e.push(n)}return e.join(",")}function WP(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const a=zP(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)a?t.fieldMask=a:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];s.length>0&&(p=s.map(m=>c.includes(m)?`generationConfig.${m}`:m));const h=[];a&&h.push(a),p.length>0&&h.push(...p),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class JP extends En{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=LP(this.apiClient,e);a=Q("auth_tokens",p._url),c=p._query,delete p.config,delete p._url,delete p._query;const h=WP(p,e.config);return s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>m)}}}function KP(t,e){const n={},i=u(t,["force"]);return e!==void 0&&i!=null&&d(e,["_query","force"],i),n}function YP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&KP(i,e),e}function QP(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function XP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function jP(t){const e={},n=u(t,["parent"]);n!=null&&d(e,["_url","parent"],n);const i=u(t,["config"]);return i!=null&&XP(i,e),e}function ZP(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&d(e,["nextPageToken"],i);const s=u(t,["documents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),d(e,["documents"],a)}return e}class eb extends En{constructor(e){super(),this.apiClient=e,this.list=async n=>new wr(gn.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=QP(e);return a=Q("{name}",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,i;let s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=YP(e);s=Q("{name}",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=jP(e);return a=Q("{parent}/documents",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=ZP(h),v=new MC;return Object.assign(v,m),v})}}}class tb extends En{constructor(e,n=new eb(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new wr(gn.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=zR(e);return a=Q("fileSearchStores",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=KR(e);return a=Q("{name}",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,i;let s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=JR(e);s=Q("{name}",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=eP(e);return a=Q("fileSearchStores",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=tP(h),v=new DC;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=nP(e);return a=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=rP(h),v=new LC;return Object.assign(v,m),v})}}async importFile(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=XR(e);return a=Q("{file_search_store_name}:importFile",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=QR(h),v=new Dc;return Object.assign(v,m),v})}}}let x0=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return x0=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const nb=()=>x0();function Qu(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Xu=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class kt extends Error{}class st extends kt{constructor(e,n,i,s){super(`${st.makeMessage(e,n,i)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,i){const s=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,i,s){if(!e||!s)return new ha({message:i,cause:Xu(n)});const a=n;return e===400?new T0(e,a,i,s):e===401?new I0(e,a,i,s):e===403?new C0(e,a,i,s):e===404?new k0(e,a,i,s):e===409?new A0(e,a,i,s):e===422?new N0(e,a,i,s):e===429?new R0(e,a,i,s):e>=500?new P0(e,a,i,s):new st(e,a,i,s)}}class ju extends st{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ha extends st{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class S0 extends ha{constructor({message:e}={}){super({message:e??"Request timed out."})}}class T0 extends st{}class I0 extends st{}class C0 extends st{}class k0 extends st{}class A0 extends st{}class N0 extends st{}class R0 extends st{}class P0 extends st{}const rb=/^[a-z][a-z0-9+.-]*:/i,ib=t=>rb.test(t);let Zu=t=>(Zu=Array.isArray,Zu(t));const ob=Zu;let sb=ob;const pg=sb;function ab(t){if(!t)return!0;for(const e in t)return!1;return!0}function lb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const ub=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new kt(`${t} must be an integer`);if(e<0)throw new kt(`${t} must be a positive integer`);return e},cb=t=>{try{return JSON.parse(t)}catch{return}};const db=t=>new Promise(e=>setTimeout(e,t));const Kr="0.0.1";function fb(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const pb=()=>{var t,e,n,i,s;const a=fb();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kr,"X-Stainless-OS":mg(Deno.build.os),"X-Stainless-Arch":hg(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kr,"X-Stainless-OS":mg((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":hg((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const c=hb();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function hb(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const s=i[1]||0,a=i[2]||0,c=i[3]||0;return{browser:e,version:`${s}.${a}.${c}`}}}return null}const hg=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",mg=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Ns;const mb=()=>Ns??(Ns=pb());function gb(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function b0(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function vb(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return b0({start(){},async pull(n){const{done:i,value:s}=await e.next();i?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function M0(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function yb(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),s=i.cancel();i.releaseLock(),await s}const _b=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const D0=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Cu(t,e,n){return D0(),new File(t,e??"unknown_file",n)}function Eb(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const wb=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const L0=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",xb=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&L0(t),Sb=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Tb(t,e,n){if(D0(),t=await t,xb(t))return t instanceof File?t:Cu([await t.arrayBuffer()],t.name);if(Sb(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Cu(await ec(s),e,n)}const i=await ec(t);if(e||(e=Eb(t)),!n?.type){const s=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof s=="string"&&(n=Object.assign(Object.assign({},n),{type:s}))}return Cu(i,e,n)}async function ec(t){var e,n,i,s,a;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(L0(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(wb(t))try{for(var p=!0,h=Ft(t),m;m=await h.next(),e=m.done,!e;p=!0){s=m.value,p=!1;const v=s;c.push(...await ec(v))}}catch(v){n={error:v}}finally{try{!p&&!e&&(i=h.return)&&await i.call(h)}finally{if(n)throw n.error}}else{const v=(a=t?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${Ib(t)}`)}return c}function Ib(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class U0{constructor(e){this._client=e}}U0._key=[];function F0(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const gg=Object.freeze(Object.create(null)),Cb=(t=F0)=>(function(n,...i){if(n.length===1)return n[0];let s=!1;const a=[],c=n.reduce((v,_,w)=>{var S,A,N;/[?#]/.test(_)&&(s=!0);const I=i[w];let L=(s?encodeURIComponent:t)(""+I);return w!==i.length&&(I==null||typeof I=="object"&&I.toString===((N=Object.getPrototypeOf((A=Object.getPrototypeOf((S=I.hasOwnProperty)!==null&&S!==void 0?S:gg))!==null&&A!==void 0?A:gg))===null||N===void 0?void 0:N.toString))&&(L=I+"",a.push({start:v.length+_.length,length:L.length,error:`Value of type ${Object.prototype.toString.call(I).slice(8,-1)} is not a valid path parameter`})),v+_+(w===i.length?"":L)},""),p=c.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=h.exec(p))!==null;)a.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(a.sort((v,_)=>v.start-_.start),a.length>0){let v=0;const _=a.reduce((w,S)=>{const A=" ".repeat(S.start-v),N="^".repeat(S.length);return v=S.start+S.length,w+A+N},"");throw new kt(`Path parameters result in path with invalid segments:
${a.map(w=>w.error).join(`
`)}
${c}
${_}`)}return c}),Rs=Cb(F0);class O0 extends U0{create(e,n){var i;const{api_version:s=this._client.apiVersion}=e,a=ea(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new kt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new kt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Rs`/${s}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:s=this._client.apiVersion}=n??{};return this._client.delete(Rs`/${s}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:s=this._client.apiVersion}=n??{};return this._client.post(Rs`/${s}/interactions/${e}/cancel`,i)}get(e,n={},i){var s;const a=n??{},{api_version:c=this._client.apiVersion}=a,p=ea(a,["api_version"]);return this._client.get(Rs`/${c}/interactions/${e}`,Object.assign(Object.assign({query:p},i),{stream:(s=n?.stream)!==null&&s!==void 0?s:!1}))}}O0._key=Object.freeze(["interactions"]);class V0 extends O0{}function kb(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let i=0;for(const s of t)n.set(s,i),i+=s.length;return n}let Ps;function Gc(t){let e;return(Ps??(e=new globalThis.TextEncoder,Ps=e.encode.bind(e)))(t)}let bs;function vg(t){let e;return(bs??(e=new globalThis.TextDecoder,bs=e.decode.bind(e)))(t)}class ma{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Gc(e):e;this.buffer=kb([this.buffer,n]);const i=[];let s;for(;(s=Ab(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){i.push(vg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,c=vg(this.buffer.subarray(0,a));i.push(c),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}ma.NEWLINE_CHARS=new Set([`
`,"\r"]);ma.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Ab(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function Nb(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const ta={off:0,error:200,warn:300,info:400,debug:500},yg=(t,e,n)=>{if(t){if(lb(ta,t))return t;it(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ta))}`)}};function eo(){}function Ms(t,e,n){return!e||ta[t]>ta[n]?eo:e[t].bind(e)}const Rb={error:eo,warn:eo,info:eo,debug:eo};let _g=new WeakMap;function it(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Rb;const s=_g.get(n);if(s&&s[0]===i)return s[1];const a={error:Ms("error",n,i),warn:Ms("warn",n,i),info:Ms("info",n,i),debug:Ms("debug",n,i)};return _g.set(n,[i,a]),a}const dr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);class Qr{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let s=!1;const a=i?it(i):console;function c(){return Ut(this,arguments,function*(){var h,m,v,_;if(s)throw new kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let w=!1;try{try{for(var S=!0,A=Ft(Pb(e,n)),N;N=yield de(A.next()),h=N.done,!h;S=!0){_=N.value,S=!1;const I=_;if(!w)if(I.data.startsWith("[DONE]")){w=!0;continue}else try{yield yield de(JSON.parse(I.data))}catch(L){throw a.error("Could not parse message into JSON:",I.data),a.error("From chunk:",I.raw),L}}}catch(I){m={error:I}}finally{try{!S&&!h&&(v=A.return)&&(yield de(v.call(A)))}finally{if(m)throw m.error}}w=!0}catch(I){if(Qu(I))return yield de(void 0);throw I}finally{w||n.abort()}})}return new Qr(c,n,i)}static fromReadableStream(e,n,i){let s=!1;function a(){return Ut(this,arguments,function*(){var h,m,v,_;const w=new ma,S=M0(e);try{for(var A=!0,N=Ft(S),I;I=yield de(N.next()),h=I.done,!h;A=!0){_=I.value,A=!1;const L=_;for(const U of w.decode(L))yield yield de(U)}}catch(L){m={error:L}}finally{try{!A&&!h&&(v=N.return)&&(yield de(v.call(N)))}finally{if(m)throw m.error}}for(const L of w.flush())yield yield de(L)})}function c(){return Ut(this,arguments,function*(){var h,m,v,_;if(s)throw new kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let w=!1;try{try{for(var S=!0,A=Ft(a()),N;N=yield de(A.next()),h=N.done,!h;S=!0){_=N.value,S=!1;const I=_;w||I&&(yield yield de(JSON.parse(I)))}}catch(I){m={error:I}}finally{try{!S&&!h&&(v=A.return)&&(yield de(v.call(A)))}finally{if(m)throw m.error}}w=!0}catch(I){if(Qu(I))return yield de(void 0);throw I}finally{w||n.abort()}})}return new Qr(c,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),s=a=>({next:()=>{if(a.length===0){const c=i.next();e.push(c),n.push(c)}return a.shift()}});return[new Qr(()=>s(e),this.controller,this.client),new Qr(()=>s(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return b0({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const c=Gc(JSON.stringify(s)+`
`);i.enqueue(c)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function Pb(t,e){return Ut(this,arguments,function*(){var i,s,a,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new kt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new kt("Attempted to iterate over a response with no body");const p=new Mb,h=new ma,m=M0(t.body);try{for(var v=!0,_=Ft(bb(m)),w;w=yield de(_.next()),i=w.done,!i;v=!0){c=w.value,v=!1;const S=c;for(const A of h.decode(S)){const N=p.decode(A);N&&(yield yield de(N))}}}catch(S){s={error:S}}finally{try{!v&&!i&&(a=_.return)&&(yield de(a.call(_)))}finally{if(s)throw s.error}}for(const S of h.flush()){const A=p.decode(S);A&&(yield yield de(A))}})}function bb(t){return Ut(this,arguments,function*(){var n,i,s,a;let c=new Uint8Array;try{for(var p=!0,h=Ft(t),m;m=yield de(h.next()),n=m.done,!n;p=!0){a=m.value,p=!1;const v=a;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Gc(v):v;let w=new Uint8Array(c.length+_.length);w.set(c),w.set(_,c.length),c=w;let S;for(;(S=Nb(c))!==-1;)yield yield de(c.slice(0,S)),c=c.slice(S)}}catch(v){i={error:v}}finally{try{!p&&!n&&(s=h.return)&&(yield de(s.call(h)))}finally{if(i)throw i.error}}c.length>0&&(yield yield de(c))})}class Mb{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,s]=Db(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function Db(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function Lb(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:s,startTime:a}=e,c=await(async()=>{var p;if(e.options.stream)return it(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Qr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const h=n.headers.get("content-type"),m=(p=h?.split(";")[0])===null||p===void 0?void 0:p.trim();return m?.includes("application/json")||m?.endsWith("+json")?await n.json():await n.text()})();return it(t).debug(`[${i}] response parsed`,dr({retryOfRequestLogID:s,url:n.url,status:n.status,body:c,durationMs:Date.now()-a})),c}class Hc extends Promise{constructor(e,n,i=Lb){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new Hc(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const B0=Symbol("brand.privateNullableHeaders");function*Ub(t){if(!t)return;if(B0 in t){const{values:i,nulls:s}=t;yield*i.entries();for(const a of s)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():pg(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const s=i[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const a=pg(i[1])?i[1]:[i[1]];let c=!1;for(const p of a)p!==void 0&&(e&&!c&&(c=!0,yield[s,null]),yield[s,p])}}const ji=t=>{const e=new Headers,n=new Set;for(const i of t){const s=new Set;for(const[a,c]of Ub(i)){const p=a.toLowerCase();s.has(p)||(e.delete(a),s.add(p)),c===null?(e.delete(a),n.add(p)):(e.append(a,c),n.delete(p))}}return{[B0]:!0,values:e,nulls:n}};const ku=t=>{var e,n,i,s,a,c;if(typeof globalThis.process<"u")return(i=(n=(e=lC)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(c=(a=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||a===void 0?void 0:a.call(s,t))===null||c===void 0?void 0:c.trim()};var G0;class ga{constructor(e){var n,i,s,a,c,p,h,{baseURL:m=ku("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(n=ku("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:_="v1beta"}=e,w=ea(e,["baseURL","apiKey","apiVersion"]);const S=Object.assign(Object.assign({apiKey:v,apiVersion:_},w),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=S.baseURL,this.timeout=(i=S.timeout)!==null&&i!==void 0?i:ga.DEFAULT_TIMEOUT,this.logger=(s=S.logger)!==null&&s!==void 0?s:console;const A="warn";this.logLevel=A,this.logLevel=(c=(a=yg(S.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:yg(ku("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:A,this.fetchOptions=S.fetchOptions,this.maxRetries=(p=S.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(h=S.fetch)!==null&&h!==void 0?h:gb(),this.encoder=_b,this._options=S,this.apiKey=v,this.apiVersion=_,this.clientAdapter=S.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=ji([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return ji([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ji([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new kt(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Kr}`}defaultIdempotencyKey(){return`stainless-node-retry-${nb()}`}makeStatusError(e,n,i,s){return st.generate(e,n,i,s)}buildURL(e,n,i){const s=!this.baseURLOverridden()&&i||this.baseURL,a=ib(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return ab(c)||(n=Object.assign(Object.assign({},c),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(s=>Object.assign({method:e,path:n},s)))}request(e,n=null){return new Hc(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var s,a,c;const p=await e,h=(s=p.maxRetries)!==null&&s!==void 0?s:this.maxRetries;n==null&&(n=h),await this.prepareOptions(p);const{req:m,url:v,timeout:_}=await this.buildRequest(p,{retryCount:h-n});await this.prepareRequest(m,{url:v,options:p});const w="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),S=i===void 0?"":`, retryOf: ${i}`,A=Date.now();if(it(this).debug(`[${w}] sending request`,dr({retryOfRequestLogID:i,method:p.method,url:v,options:p,headers:m.headers})),!((a=p.signal)===null||a===void 0)&&a.aborted)throw new ju;const N=new AbortController,I=await this.fetchWithTimeout(v,m,_,N).catch(Xu),L=Date.now();if(I instanceof globalThis.Error){const D=`retrying, ${n} attempts remaining`;if(!((c=p.signal)===null||c===void 0)&&c.aborted)throw new ju;const F=Qu(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(n)return it(this).info(`[${w}] connection ${F?"timed out":"failed"} - ${D}`),it(this).debug(`[${w}] connection ${F?"timed out":"failed"} (${D})`,dr({retryOfRequestLogID:i,url:v,durationMs:L-A,message:I.message})),this.retryRequest(p,n,i??w);throw it(this).info(`[${w}] connection ${F?"timed out":"failed"} - error; no more retries left`),it(this).debug(`[${w}] connection ${F?"timed out":"failed"} (error; no more retries left)`,dr({retryOfRequestLogID:i,url:v,durationMs:L-A,message:I.message})),F?new S0:new ha({cause:I})}const U=`[${w}${S}] ${m.method} ${v} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${L-A}ms`;if(!I.ok){const D=await this.shouldRetry(I);if(n&&D){const J=`retrying, ${n} attempts remaining`;return await yb(I.body),it(this).info(`${U} - ${J}`),it(this).debug(`[${w}] response error (${J})`,dr({retryOfRequestLogID:i,url:I.url,status:I.status,headers:I.headers,durationMs:L-A})),this.retryRequest(p,n,i??w,I.headers)}const F=D?"error; no more retries left":"error; not retryable";it(this).info(`${U} - ${F}`);const K=await I.text().catch(J=>Xu(J).message),B=cb(K),O=B?void 0:K;throw it(this).debug(`[${w}] response error (${F})`,dr({retryOfRequestLogID:i,url:I.url,status:I.status,headers:I.headers,message:O,durationMs:Date.now()-A})),this.makeStatusError(I.status,B,O,I.headers)}return it(this).info(U),it(this).debug(`[${w}] response start`,dr({retryOfRequestLogID:i,url:I.url,status:I.status,headers:I.headers,durationMs:L-A})),{response:I,options:p,controller:N,requestLogID:w,retryOfRequestLogID:i,startTime:A}}async fetchWithTimeout(e,n,i,s){const a=n||{},{signal:c,method:p}=a,h=ea(a,["signal","method"]);c&&c.addEventListener("abort",()=>s.abort());const m=setTimeout(()=>s.abort(),i),v=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,_=Object.assign(Object.assign(Object.assign({signal:s.signal},v?{duplex:"half"}:{}),{method:"GET"}),h);p&&(_.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(m)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,s){var a;let c;const p=s?.get("retry-after-ms");if(p){const m=parseFloat(p);Number.isNaN(m)||(c=m)}const h=s?.get("retry-after");if(h&&!c){const m=parseFloat(h);Number.isNaN(m)?c=Date.parse(h)-Date.now():c=m*1e3}if(!(c&&0<=c&&c<60*1e3)){const m=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(n,m)}return await db(c),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,c=Math.min(.5*Math.pow(2,a),8),p=1-Math.random()*.25;return c*p*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,s,a;const c=Object.assign({},e),{method:p,path:h,query:m,defaultBaseURL:v}=c,_=this.buildURL(h,m,v);"timeout"in c&&ub("timeout",c.timeout),c.timeout=(i=c.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:w,body:S}=this.buildBody({options:c}),A=await this.buildHeaders({options:e,method:p,bodyHeaders:w,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:A},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&S instanceof globalThis.ReadableStream&&{duplex:"half"}),S&&{body:S}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(a=c.fetchOptions)!==null&&a!==void 0?a:{}),url:_,timeout:c.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:s}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let p=ji([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),mb()),this._options.defaultHeaders,i,e.headers,c]);return this.validateHeaders(p),p.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=ji([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:vb(e)}:this.encoder({body:e,headers:i})}}ga.DEFAULT_TIMEOUT=6e4;class Je extends ga{constructor(){super(...arguments),this.interactions=new V0(this)}}G0=Je;Je.GeminiNextGenAPIClient=G0;Je.GeminiNextGenAPIClientError=kt;Je.APIError=st;Je.APIConnectionError=ha;Je.APIConnectionTimeoutError=S0;Je.APIUserAbortError=ju;Je.NotFoundError=k0;Je.ConflictError=A0;Je.RateLimitError=R0;Je.BadRequestError=T0;Je.AuthenticationError=I0;Je.InternalServerError=P0;Je.PermissionDeniedError=C0;Je.UnprocessableEntityError=N0;Je.toFile=Tb;Je.Interactions=V0;function Fb(t,e){const n={},i=u(t,["name"]);return i!=null&&d(n,["_url","name"],i),n}function Ob(t,e){const n={},i=u(t,["name"]);return i!=null&&d(n,["_url","name"],i),n}function Vb(t,e){const n={},i=u(t,["sdkHttpResponse"]);return i!=null&&d(n,["sdkHttpResponse"],i),n}function Bb(t,e){const n={},i=u(t,["sdkHttpResponse"]);return i!=null&&d(n,["sdkHttpResponse"],i),n}function Gb(t,e,n){const i={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=u(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&d(e,["displayName"],s),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=u(t,["epochCount"]);e!==void 0&&a!=null&&d(e,["tuningTask","hyperparameters","epochCount"],a);const c=u(t,["learningRateMultiplier"]);if(c!=null&&d(i,["tuningTask","hyperparameters","learningRateMultiplier"],c),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=u(t,["batchSize"]);e!==void 0&&p!=null&&d(e,["tuningTask","hyperparameters","batchSize"],p);const h=u(t,["learningRate"]);if(e!==void 0&&h!=null&&d(e,["tuningTask","hyperparameters","learningRate"],h),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function Hb(t,e,n){const i={};let s=u(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const S=u(t,["validationDataset"]);e!==void 0&&S!=null&&d(e,["supervisedTuningSpec"],Eg(S))}else if(s==="PREFERENCE_TUNING"){const S=u(t,["validationDataset"]);e!==void 0&&S!=null&&d(e,["preferenceOptimizationSpec"],Eg(S))}const a=u(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&d(e,["tunedModelDisplayName"],a);const c=u(t,["description"]);e!==void 0&&c!=null&&d(e,["description"],c);let p=u(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const S=u(t,["epochCount"]);e!==void 0&&S!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(p==="PREFERENCE_TUNING"){const S=u(t,["epochCount"]);e!==void 0&&S!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}let h=u(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const S=u(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(h==="PREFERENCE_TUNING"){const S=u(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}let m=u(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const S=u(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(m==="PREFERENCE_TUNING"){const S=u(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}let v=u(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const S=u(t,["adapterSize"]);e!==void 0&&S!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(v==="PREFERENCE_TUNING"){const S=u(t,["adapterSize"]);e!==void 0&&S!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}if(u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=u(t,["labels"]);e!==void 0&&_!=null&&d(e,["labels"],_);const w=u(t,["beta"]);return e!==void 0&&w!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],w),i}function $b(t,e){const n={},i=u(t,["baseModel"]);i!=null&&d(n,["baseModel"],i);const s=u(t,["preTunedModel"]);s!=null&&d(n,["preTunedModel"],s);const a=u(t,["trainingDataset"]);a!=null&&eM(a);const c=u(t,["config"]);return c!=null&&Gb(c,n),n}function qb(t,e){const n={},i=u(t,["baseModel"]);i!=null&&d(n,["baseModel"],i);const s=u(t,["preTunedModel"]);s!=null&&d(n,["preTunedModel"],s);const a=u(t,["trainingDataset"]);a!=null&&tM(a,n,e);const c=u(t,["config"]);return c!=null&&Hb(c,n,e),n}function zb(t,e){const n={},i=u(t,["name"]);return i!=null&&d(n,["_url","name"],i),n}function Wb(t,e){const n={},i=u(t,["name"]);return i!=null&&d(n,["_url","name"],i),n}function Jb(t,e,n){const i={},s=u(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const a=u(t,["pageToken"]);e!==void 0&&a!=null&&d(e,["_query","pageToken"],a);const c=u(t,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),i}function Kb(t,e,n){const i={},s=u(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const a=u(t,["pageToken"]);e!==void 0&&a!=null&&d(e,["_query","pageToken"],a);const c=u(t,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),i}function Yb(t,e){const n={},i=u(t,["config"]);return i!=null&&Jb(i,n),n}function Qb(t,e){const n={},i=u(t,["config"]);return i!=null&&Kb(i,n),n}function Xb(t,e){const n={},i=u(t,["sdkHttpResponse"]);i!=null&&d(n,["sdkHttpResponse"],i);const s=u(t,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const a=u(t,["tunedModels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>H0(p))),d(n,["tuningJobs"],c)}return n}function jb(t,e){const n={},i=u(t,["sdkHttpResponse"]);i!=null&&d(n,["sdkHttpResponse"],i);const s=u(t,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const a=u(t,["tuningJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>tc(p))),d(n,["tuningJobs"],c)}return n}function Zb(t,e){const n={},i=u(t,["name"]);i!=null&&d(n,["model"],i);const s=u(t,["name"]);return s!=null&&d(n,["endpoint"],s),n}function eM(t,e){const n={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=u(t,["examples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),d(n,["examples","examples"],s)}return n}function tM(t,e,n){const i={};let s=u(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const c=u(t,["gcsUri"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(s==="PREFERENCE_TUNING"){const c=u(t,["gcsUri"]);e!==void 0&&c!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let a=u(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=u(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=u(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function H0(t,e){const n={},i=u(t,["sdkHttpResponse"]);i!=null&&d(n,["sdkHttpResponse"],i);const s=u(t,["name"]);s!=null&&d(n,["name"],s);const a=u(t,["state"]);a!=null&&d(n,["state"],i0(a));const c=u(t,["createTime"]);c!=null&&d(n,["createTime"],c);const p=u(t,["tuningTask","startTime"]);p!=null&&d(n,["startTime"],p);const h=u(t,["tuningTask","completeTime"]);h!=null&&d(n,["endTime"],h);const m=u(t,["updateTime"]);m!=null&&d(n,["updateTime"],m);const v=u(t,["description"]);v!=null&&d(n,["description"],v);const _=u(t,["baseModel"]);_!=null&&d(n,["baseModel"],_);const w=u(t,["_self"]);return w!=null&&d(n,["tunedModel"],Zb(w)),n}function tc(t,e){const n={},i=u(t,["sdkHttpResponse"]);i!=null&&d(n,["sdkHttpResponse"],i);const s=u(t,["name"]);s!=null&&d(n,["name"],s);const a=u(t,["state"]);a!=null&&d(n,["state"],i0(a));const c=u(t,["createTime"]);c!=null&&d(n,["createTime"],c);const p=u(t,["startTime"]);p!=null&&d(n,["startTime"],p);const h=u(t,["endTime"]);h!=null&&d(n,["endTime"],h);const m=u(t,["updateTime"]);m!=null&&d(n,["updateTime"],m);const v=u(t,["error"]);v!=null&&d(n,["error"],v);const _=u(t,["description"]);_!=null&&d(n,["description"],_);const w=u(t,["baseModel"]);w!=null&&d(n,["baseModel"],w);const S=u(t,["tunedModel"]);S!=null&&d(n,["tunedModel"],S);const A=u(t,["preTunedModel"]);A!=null&&d(n,["preTunedModel"],A);const N=u(t,["supervisedTuningSpec"]);N!=null&&d(n,["supervisedTuningSpec"],N);const I=u(t,["preferenceOptimizationSpec"]);I!=null&&d(n,["preferenceOptimizationSpec"],I);const L=u(t,["tuningDataStats"]);L!=null&&d(n,["tuningDataStats"],L);const U=u(t,["encryptionSpec"]);U!=null&&d(n,["encryptionSpec"],U);const D=u(t,["partnerModelTuningSpec"]);D!=null&&d(n,["partnerModelTuningSpec"],D);const F=u(t,["customBaseModel"]);F!=null&&d(n,["customBaseModel"],F);const K=u(t,["experiment"]);K!=null&&d(n,["experiment"],K);const B=u(t,["labels"]);B!=null&&d(n,["labels"],B);const O=u(t,["outputUri"]);O!=null&&d(n,["outputUri"],O);const z=u(t,["pipelineJob"]);z!=null&&d(n,["pipelineJob"],z);const J=u(t,["serviceAccount"]);J!=null&&d(n,["serviceAccount"],J);const se=u(t,["tunedModelDisplayName"]);se!=null&&d(n,["tunedModelDisplayName"],se);const _e=u(t,["veoTuningSpec"]);return _e!=null&&d(n,["veoTuningSpec"],_e),n}function nM(t,e){const n={},i=u(t,["sdkHttpResponse"]);i!=null&&d(n,["sdkHttpResponse"],i);const s=u(t,["name"]);s!=null&&d(n,["name"],s);const a=u(t,["metadata"]);a!=null&&d(n,["metadata"],a);const c=u(t,["done"]);c!=null&&d(n,["done"],c);const p=u(t,["error"]);return p!=null&&d(n,["error"],p),n}function Eg(t,e){const n={},i=u(t,["gcsUri"]);i!=null&&d(n,["validationDatasetUri"],i);const s=u(t,["vertexDatasetResource"]);return s!=null&&d(n,["validationDatasetUri"],s),n}class rM extends En{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wr(gn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:s});return a.baseModel=void 0,await this.tuneInternal(a)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),a=await this.tuneMldevInternal(s);let c="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?c=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(c=a.name.split("/operations/")[0]),{name:c,state:$u.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=Wb(e);return p=Q("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>tc(v))}else{const m=zb(e);return p=Q("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>H0(v))}}async listInternal(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=Qb(e);return p=Q("tuningJobs",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=jb(v),w=new Wm;return Object.assign(w,_),w})}else{const m=Yb(e);return p=Q("tunedModels",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=Xb(v),w=new Wm;return Object.assign(w,_),w})}}async cancel(e){var n,i,s,a;let c,p="",h={};if(this.apiClient.isVertexAI()){const m=Ob(e);return p=Q("{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=Bb(v),w=new Jm;return Object.assign(w,_),w})}else{const m=Fb(e);return p=Q("{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const _=Vb(v),w=new Jm;return Object.assign(w,_),w})}}async tuneInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI()){const p=qb(e,e);return a=Q("tuningJobs",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>tc(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let s,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=$b(e);return a=Q("tunedModels",p._url),c=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>nM(h))}}}class iM{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const oM=1024*1024*8,sM=3,aM=1e3,lM=2,na="x-goog-upload-status";async function uM(t,e,n){var i;const s=await $0(t,e,n),a=await s?.json();if(((i=s?.headers)===null||i===void 0?void 0:i[na])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function cM(t,e,n){var i;const s=await $0(t,e,n),a=await s?.json();if(((i=s?.headers)===null||i===void 0?void 0:i[na])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=jv(a),p=new Lc;return Object.assign(p,c),p}async function $0(t,e,n){var i,s;let a=0,c=0,p=new qu(new Response),h="upload";for(a=t.size;c<a;){const m=Math.min(oM,a-c),v=t.slice(c,c+m);c+m>=a&&(h+=", finalize");let _=0,w=aM;for(;_<sM&&(p=await n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(c),"Content-Length":String(m)}}}),!(!((i=p?.headers)===null||i===void 0)&&i[na]));)_++,await fM(w),w=w*lM;if(c+=m,((s=p?.headers)===null||s===void 0?void 0:s[na])!=="active")break;if(a<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function dM(t){return{size:t.size,type:t.type}}function fM(t){return new Promise(e=>setTimeout(e,t))}class pM{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uM(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cM(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dM(e)}}class hM{create(e,n,i){return new mM(e,n,i)}}class mM{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const wg="x-goog-api-key";class gM{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(wg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(wg,this.apiKey)}}}const vM="gl-node/";class yM{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Je({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=fC(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new gM(this.apiKey);this.apiClient=new dP({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:vM+"web",uploader:new pM,downloader:new iM}),this.models=new RP(this.apiClient),this.live=new TP(this.apiClient,s,new hM),this.batches=new Gk(this.apiClient),this.chats=new xA(this.models,this.apiClient),this.caches=new _A(this.apiClient),this.files=new bA(this.apiClient),this.operations=new PP(this.apiClient),this.authTokens=new JP(this.apiClient),this.tunings=new rM(this.apiClient),this.fileSearchStores=new tb(this.apiClient)}}const $c=new yM({apiKey:""});async function _M(t){try{return(await $c.models.generateContent({model:"gemini-3-flash-preview",contents:`You are an assistant for a University Lost & Found platform. 
      Generate a clear, professional, and detailed description for an item based on these notes: "${t}". 
      Focus on identifiers that would help the owner recognize it, but don't include sensitive private details. 
      Keep it under 60 words.`})).text?.trim()||"No description generated."}catch(e){return console.error("Gemini description error:",e),t}}async function EM(t,e){try{const i=(await $c.models.generateContent({model:"gemini-3-flash-preview",contents:`Categorize the following lost/found item into one of these: Electronics, Books, IDs, Keys, Bags, Others.
      Title: ${t}
      Description: ${e}`,config:{responseMimeType:"application/json",responseSchema:{type:zt.OBJECT,properties:{category:{type:zt.STRING}}}}})).text?.trim();return i&&JSON.parse(i).category||"Others"}catch(n){return console.error("Gemini categorization error:",n),"Others"}}async function wM(t){try{const e=`A simple, minimalist black and white line art doodle icon of a ${t} item. Solid white background. Thick black outlines only. No shading, no gradients, no colors. Clean vector style. High contrast.`,n=await $c.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:e}]},config:{imageConfig:{aspectRatio:"1:1"}}});for(const i of n.candidates?.[0]?.content?.parts||[])if(i.inlineData)return`data:${i.inlineData.mimeType};base64,${i.inlineData.data}`;return null}catch(e){return console.error("Doodle generation failed:",e),null}}const xg={Electronics:"https://raw.githubusercontent.com/google/material-design-icons/master/png/hardware/computer/materialicons/48dp/2x/baseline_computer_black_48dp.png",Books:"https://raw.githubusercontent.com/google/material-design-icons/master/png/action/book/materialicons/48dp/2x/baseline_book_black_48dp.png",IDs:"https://raw.githubusercontent.com/google/material-design-icons/master/png/action/assignment_ind/materialicons/48dp/2x/baseline_assignment_ind_black_48dp.png",Keys:"https://raw.githubusercontent.com/google/material-design-icons/master/png/communication/vpn_key/materialicons/48dp/2x/baseline_vpn_key_black_48dp.png",Bags:"https://raw.githubusercontent.com/google/material-design-icons/master/png/action/shopping_bag/materialicons/48dp/2x/baseline_shopping_bag_black_48dp.png",Others:"https://raw.githubusercontent.com/google/material-design-icons/master/png/action/help_outline/materialicons/48dp/2x/baseline_help_outline_black_48dp.png"},xM=({user:t,onAdd:e})=>{const{type:n}=lc(),i=_r(),s=V.useRef(null),a=n?.toUpperCase()==="LOST"?We.LOST:We.FOUND,[c,p]=V.useState({title:"",category:"Others",location:"",description:""}),[h,m]=V.useState([]),[v,_]=V.useState(!1),[w,S]=V.useState(!1),A=()=>{p(D=>({...D,title:D.title.replace(/\w\S*/g,F=>F.charAt(0).toUpperCase()+F.substr(1).toLowerCase())}))},N=D=>{const F=D.target.files;F&&Array.from(F).forEach(K=>{const B=new FileReader;B.onloadend=()=>{m(O=>[...O,B.result])},B.readAsDataURL(K)})},I=D=>{m(F=>F.filter((K,B)=>B!==D))},L=async()=>{if(!c.title||c.title.length<5){alert("Please provide a more descriptive title first.");return}_(!0);try{const D=await _M(c.title+" "+c.description),F=await EM(c.title,D);p(K=>({...K,description:D,category:Gu.includes(F)?F:K.category}))}catch(D){console.error(D)}finally{_(!1)}},U=async D=>{if(D.preventDefault(),h.length===0&&a===We.FOUND){alert("Found items must have a photo for verification.");return}S(!0);let F=[...h];if(F.length===0&&a===We.LOST){const z=await wM(c.category);z?F=[z]:F=[xg[c.category]||xg.Others]}const K=new Date,B=`${String(K.getDate()).padStart(2,"0")}-${String(K.getMonth()+1).padStart(2,"0")}-${K.getFullYear()}`,O={id:Math.random().toString(36).substr(2,9),title:c.title,category:c.category,type:a,description:c.description,location:c.location||"Unknown Location",imagePaths:F,reporterId:t.id,reporterName:t.name,date:B,status:ke.NEW,messages:[]};e(O),S(!1),i("/")};return E.jsx("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-6 duration-700",children:E.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[3rem] shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[E.jsx("div",{className:`p-10 ${a===We.LOST?"bg-red-50 dark:bg-red-900/10 border-b border-red-100 dark:border-red-900/20":"bg-green-50 dark:bg-green-900/10 border-b border-green-100 dark:border-green-900/20"}`,children:E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsx("div",{className:`w-16 h-16 rounded-[1.5rem] flex items-center justify-center text-2xl shadow-lg ${a===We.LOST?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:E.jsx("i",{className:a===We.LOST?"fas fa-search-plus":"fas fa-bullhorn"})}),E.jsxs("div",{children:[E.jsxs("h1",{className:"text-3xl font-black text-slate-800 dark:text-white uppercase tracking-tight leading-tight",children:["Report ",a," Item"]}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-black uppercase tracking-[0.2em] opacity-70",children:"Registry Intake Protocol"})]})]})}),E.jsxs("form",{onSubmit:U,className:"p-10 space-y-8",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"md:col-span-2",children:[E.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-3 px-1",children:"Case Headline"}),E.jsx("input",{type:"text",required:!0,placeholder:"e.g. Black Casio Watch",className:"w-full px-6 py-5 bg-slate-50 dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-700 rounded-2xl focus:border-blue-500 outline-none transition text-slate-900 dark:text-white font-bold",value:c.title,onBlur:A,onChange:D=>p({...c,title:D.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-3 px-1",children:"Category"}),E.jsx("select",{className:"w-full px-6 py-5 bg-slate-50 dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-700 rounded-2xl focus:border-blue-500 outline-none transition text-slate-900 dark:text-white font-bold appearance-none cursor-pointer",value:c.category,onChange:D=>p({...c,category:D.target.value}),children:Gu.map(D=>E.jsx("option",{value:D,children:D},D))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-3 px-1",children:"Found At/Last Seen At"}),E.jsx("input",{type:"text",required:!0,placeholder:"e.g. SOC AUDI",className:"w-full px-6 py-5 bg-slate-50 dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-700 rounded-2xl focus:border-blue-500 outline-none transition text-slate-900 dark:text-white font-bold",value:c.location,onChange:D=>p({...c,location:D.target.value})})]})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between items-center mb-3 px-1",children:[E.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Description"}),E.jsxs("button",{type:"button",onClick:L,disabled:v,className:"text-[9px] font-black text-blue-600 dark:text-blue-400 flex items-center gap-2 disabled:opacity-50 transition uppercase tracking-widest bg-blue-50 dark:bg-blue-900/20 px-3 py-1.5 rounded-full border border-blue-100 dark:border-blue-800",children:[v?E.jsx("i",{className:"fas fa-sparkles animate-pulse"}):E.jsx("i",{className:"fas fa-magic"}),v?"Synthesizing...":"Gemini AI Polish"]})]}),E.jsx("textarea",{rows:4,placeholder:"Detail specific markers, stickers, or distinguishing damage...",className:"w-full px-6 py-5 bg-slate-50 dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-700 rounded-3xl focus:border-blue-500 outline-none resize-none transition text-slate-900 dark:text-white font-medium",value:c.description,onChange:D=>p({...c,description:D.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-4 px-1",children:"Visual Log"}),E.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4 mb-3",children:[h.map((D,F)=>E.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden border-2 border-slate-100 dark:border-slate-700 group shadow-lg",children:[E.jsx("img",{src:D,className:"w-full h-full object-cover",alt:"Log"}),E.jsx("button",{type:"button",onClick:()=>I(F),className:"absolute inset-0 bg-red-600/80 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:E.jsx("i",{className:"fas fa-trash-alt"})})]},F)),E.jsxs("button",{type:"button",onClick:()=>s.current?.click(),className:"aspect-square bg-slate-50 dark:bg-slate-900 rounded-2xl border-4 border-dashed border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center text-slate-400 hover:border-blue-500 transition-all group",children:[E.jsx("i",{className:"fas fa-camera text-2xl mb-2 text-blue-500"}),E.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Attach Photo"})]})]}),E.jsx("input",{type:"file",ref:s,onChange:N,accept:"image/*",multiple:!0,className:"hidden"}),a===We.LOST&&h.length===0&&E.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-900/50 rounded-2xl border border-slate-200 dark:border-slate-800 flex items-center gap-4 mt-4",children:[E.jsx("div",{className:"w-10 h-10 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-center text-blue-500 shadow-sm",children:E.jsx("i",{className:"fas fa-palette"})}),E.jsx("p",{className:"text-[9px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest leading-relaxed",children:"No photo attached."})]})]}),E.jsxs("div",{className:"flex gap-6 pt-6",children:[E.jsx("button",{type:"button",onClick:()=>i("/"),className:"flex-1 px-8 py-5 border-2 border-slate-100 dark:border-slate-700 rounded-2xl font-black text-slate-400 uppercase tracking-widest text-[10px] hover:bg-slate-50 dark:hover:bg-slate-900 transition",children:"Abort"}),E.jsxs("button",{disabled:w,type:"submit",className:`flex-[2] px-8 py-5 rounded-2xl font-black text-white uppercase tracking-[0.2em] text-[10px] transition-all flex items-center justify-center gap-4 shadow-2xl active:scale-95 ${a===We.LOST?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:[w?E.jsx("i",{className:"fas fa-circle-notch animate-spin"}):E.jsx("i",{className:"fas fa-upload"}),w?h.length===0&&a===We.LOST?"Drawing Doodle...":"Dispatching...":"Finalize Registry"]})]})]})]})})},SM=({items:t,user:e,onUpdateStatus:n,onAddMessage:i,onRemoveItem:s,onReportItem:a,showConfirm:c})=>{const{id:p}=lc(),h=_r(),m=t.find(re=>re.id===p),v=V.useRef(null),[_,w]=V.useState(!1),[S,A]=V.useState(""),[N,I]=V.useState([]),[L,U]=V.useState(!1),[D,F]=V.useState(!1),[K,B]=V.useState(!1);if(!m)return E.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-center",children:[E.jsx("i",{className:"fas fa-search text-3xl text-slate-200 mb-4"}),E.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:"Registry entry not found."}),E.jsx("button",{onClick:()=>h("/"),className:"mt-4 bg-blue-900 text-white px-6 py-2 rounded-lg font-black uppercase tracking-widest text-[10px]",children:"Back to Feed"})]});const O=m.reporterId===e.id,z=_n(e.email),J=O||z,se=m.status===ke.PENDING_CLAIM,_e=m.status===ke.CLAIMED,Le=m.status===ke.RESOLVED,fe=m.reports?.includes(e.id),Re=m.messages&&m.messages.some(re=>re.senderId===e.id||O),tt=re=>{const le=re.target.files;le&&Array.from(le).forEach(me=>{const pe=new FileReader;pe.onloadend=()=>{I(Se=>[...Se,pe.result])},pe.readAsDataURL(me)})},Ie=re=>{I(le=>le.filter((me,pe)=>pe!==re))},xe=()=>{fe||c({title:"REPORT FAKE POST",message:"Are you sure this post is fraudulent? Malicious reporting affects your Trust Score.",confirmLabel:"Confirm Report",type:"warning",onConfirm:()=>{a(m.id,e.id)}})},Y=()=>{c({title:z?"ADMIN OVERRIDE: ERASE LOG":"ERASE CASE LOG",message:"This report will be permanently erased from the registry. This cannot be undone.",confirmLabel:"Delete Case",type:"danger",onConfirm:()=>{B(!0),setTimeout(()=>{s(m.id),h("/")},1e3)}})},ae=()=>{c({title:"APPROVE CLAIM",message:"Confirming this recovery request will remove the post from public view. Continue?",confirmLabel:"Approve & Finalize",type:"info",onConfirm:()=>{n(m.id,ke.CLAIMED),i(m.id,{id:`system-approve-${Date.now()}`,senderId:"SYSTEM",senderName:"REGISTRY",text:"PROTOCOL UPDATE: Claim approved via item console. coordination active.",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),h(`/chat/${m.id}`)}})},j=()=>{c({title:"DENY CLAIM",message:"Rejecting this claim will reopen the case to the public. Are you sure?",confirmLabel:"Deny Claim",type:"danger",onConfirm:()=>{n(m.id,ke.NEW),i(m.id,{id:`system-deny-${Date.now()}`,senderId:"SYSTEM",senderName:"REGISTRY",text:"PROTOCOL UPDATE: Reporter has denied the claim in console. Case reopened.",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}})},R=()=>{c({title:"RESOLVE CASE",message:"Finalizing this case will archive the log and increment your community contribution. Has the item been successfully recovered?",confirmLabel:"Resolve & Close",type:"info",onConfirm:()=>{n(m.id,ke.RESOLVED),i(m.id,{id:`system-resolve-${Date.now()}`,senderId:"SYSTEM",senderName:"REGISTRY",text:"PROTOCOL FINALIZED: Reporter marked this case as resolved. Thank you for making SASTRA safer.",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}})},G=re=>{if(re.preventDefault(),!S.trim())return;U(!0),n(m.id,ke.PENDING_CLAIM);const le={id:`claim-${Date.now()}`,senderId:e.id,senderName:e.name,text:`Evidence Submission: ${e.name} has filed a recovery request. Information: "${S}"`,images:N,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};i(m.id,le),setTimeout(()=>{w(!1),U(!1),h(`/chat/${m.id}`)},1500)};return E.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col h-[calc(100vh-140px)] animate-in fade-in duration-500 overflow-hidden",children:[E.jsxs("div",{className:"flex items-center justify-between py-2 px-1 mb-2",children:[E.jsxs("button",{onClick:()=>h("/"),className:"text-slate-400 font-black uppercase text-[9px] tracking-widest flex items-center gap-2 hover:text-blue-900 transition",children:[E.jsx("i",{className:"fas fa-chevron-left"})," Registry Feed"]}),E.jsxs("div",{className:"flex gap-2",children:[J&&E.jsx("button",{onClick:Y,disabled:K,className:"px-3 py-1.5 rounded-lg text-[8px] font-black uppercase tracking-widest bg-red-50 text-red-600 border border-red-100 hover:bg-red-600 hover:text-white transition",children:K?"Removing...":"Delete Case"}),E.jsx("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),F(!0),setTimeout(()=>F(!1),2e3)},className:"px-3 py-1.5 rounded-lg text-[8px] font-black uppercase tracking-widest bg-slate-100 text-slate-500 border border-slate-200",children:D?"Link Copied":"Share Case"})]})]}),E.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-6 overflow-hidden h-full",children:[E.jsxs("div",{className:"lg:w-[40%] flex flex-col gap-4 overflow-hidden h-full",children:[E.jsxs("div",{className:"relative bg-white dark:bg-slate-900 rounded-[2.5rem] overflow-hidden flex-1 shadow-xl border border-slate-100 dark:border-slate-800 group",children:[E.jsx("img",{src:m.imagePaths[0],className:"absolute inset-0 w-full h-full object-cover blur-3xl opacity-20 scale-110","aria-hidden":"true",alt:""}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-8",children:E.jsx("img",{src:m.imagePaths[0],className:"max-w-full max-h-full object-contain relative z-10 rounded-2xl shadow-2xl transition-transform duration-700 group-hover:scale-[1.03]",alt:m.title,referrerPolicy:"no-referrer"})}),E.jsx("div",{className:`absolute top-6 left-6 px-4 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest text-white shadow-xl z-20 ${m.type===We.FOUND?"bg-green-500":"bg-red-500"}`,children:m.type})]}),E.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-3xl border border-slate-100 dark:border-slate-800 shadow-md flex items-center gap-4",children:[E.jsx("div",{className:"w-10 h-10 rounded-2xl bg-blue-50 dark:bg-slate-800 flex items-center justify-center text-blue-600 font-black text-xs border border-blue-100",children:m.reporterName.charAt(0)}),E.jsxs("div",{className:"flex-1",children:[E.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"Reporter Identity"}),E.jsx("p",{className:"text-[10px] font-black text-slate-800 dark:text-white uppercase truncate",children:m.reporterName})]})]}),E.jsx("div",{className:"flex gap-4",children:E.jsxs("button",{onClick:xe,disabled:fe||O,className:`flex-1 py-4 rounded-2xl text-[9px] font-black uppercase tracking-widest transition shadow-sm border ${fe?"bg-amber-50 text-amber-500 border-amber-100":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-red-50 hover:text-red-600"}`,children:[E.jsx("i",{className:"fas fa-flag mr-2"})," ",fe?"Post Reported":"Report Fake Post"]})})]}),E.jsx("div",{className:"lg:w-[60%] flex flex-col bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-xl border border-slate-100 dark:border-slate-800 overflow-hidden h-full",children:E.jsxs("div",{className:"flex-1 overflow-y-auto p-8 md:p-10 space-y-8 scrollbar-hide",children:[E.jsxs("div",{className:"border-b dark:border-slate-800 pb-6",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[E.jsx("span",{className:`px-2.5 py-1 text-[8px] font-black uppercase tracking-widest rounded-lg border ${m.status===ke.NEW?"bg-blue-50 text-blue-600 border-blue-100":m.status===ke.PENDING_CLAIM?"bg-amber-50 text-amber-600 border-amber-100 animate-pulse":m.status===ke.CLAIMED?"bg-indigo-50 text-indigo-600 border-indigo-100":"bg-green-50 text-green-600 border-green-100"}`,children:m.status.replace("_"," ")}),E.jsxs("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-tighter",children:["Registry Entry #",m.id]})]}),E.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white uppercase tracking-tight leading-tight mb-2",children:m.title}),E.jsxs("p",{className:"text-blue-600 dark:text-blue-400 text-[10px] font-black uppercase tracking-[0.25em]",children:["Logged on ",m.date]})]}),O&&!Le&&E.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/40 p-6 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-inner space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("i",{className:`fas ${se?"fa-shield-alt text-amber-500":_e?"fa-check-double text-indigo-500":"fa-cog text-slate-400"} text-xl`}),E.jsx("h3",{className:"text-[10px] font-black text-slate-800 dark:text-slate-300 uppercase tracking-widest",children:"Reporter Console"})]}),E.jsx("p",{className:"text-[9px] font-bold text-slate-500 dark:text-slate-400 leading-relaxed uppercase",children:se?"Evidence has been submitted. Review details or visit the chat for detailed audit.":_e?"Coordination is active. Once recovery is confirmed, finalize below.":"Manage this case entry. You can mark it as resolved if the item was recovered outside the platform."}),E.jsxs("div",{className:"flex flex-wrap gap-4",children:[se&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:ae,className:"flex-1 min-w-[120px] bg-green-600 text-white py-3 rounded-xl font-black text-[9px] uppercase tracking-widest shadow-lg",children:"Approve Claim"}),E.jsx("button",{onClick:j,className:"flex-1 min-w-[120px] bg-red-600 text-white py-3 rounded-xl font-black text-[9px] uppercase tracking-widest shadow-lg",children:"Deny Request"})]}),E.jsx("button",{onClick:R,className:"w-full bg-indigo-600 text-white py-3 rounded-xl font-black text-[9px] uppercase tracking-widest shadow-lg hover:bg-indigo-700 transition",children:"Mark as Resolved & Archive"})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h3",{className:"text-[10px] font-black text-slate-900 dark:text-white uppercase tracking-[0.3em] border-l-4 border-blue-900 pl-4 py-0.5",children:"Registry Metadata"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-12 gap-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between border-b dark:border-slate-800 pb-2",children:[E.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Category"}),E.jsx("span",{className:"text-[10px] font-black text-slate-800 dark:text-white uppercase",children:m.category})]}),E.jsxs("div",{className:"flex items-center justify-between border-b dark:border-slate-800 pb-2",children:[E.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Date Reported"}),E.jsx("span",{className:"text-[10px] font-black text-slate-800 dark:text-white uppercase",children:m.date})]}),E.jsxs("div",{className:"flex items-center justify-between border-b dark:border-slate-800 pb-2 col-span-full",children:[E.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Location"}),E.jsx("span",{className:"text-[10px] font-black text-slate-800 dark:text-white uppercase truncate ml-6",children:m.location})]})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h3",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-[0.4em] border-l-4 border-blue-900 pl-4 py-0.5",children:"Briefing"}),E.jsxs("p",{className:"text-lg font-black text-slate-800 dark:text-white leading-relaxed bg-slate-50 dark:bg-slate-950 p-8 rounded-2xl border border-slate-100 dark:border-slate-800 italic shadow-inner",children:['"',m.description,'"']})]}),E.jsx("div",{className:"pt-4 border-t dark:border-slate-800",children:Le?E.jsxs("div",{className:"text-center p-8 bg-green-50 dark:bg-green-900/10 rounded-[2.5rem] border border-green-100 dark:border-green-900/20",children:[E.jsx("i",{className:"fas fa-check-circle text-green-600 text-3xl mb-4"}),E.jsx("h3",{className:"text-sm font-black text-slate-800 dark:text-white uppercase tracking-tight mb-2",children:"Registry Case Finalized"}),E.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest mb-4",children:"This item has been successfully recovered and coordination archived."}),E.jsx("button",{onClick:()=>h(`/chat/${m.id}`),className:"text-green-600 font-black text-[10px] uppercase tracking-widest underline underline-offset-4",children:"View Final Audit Log"})]}):Re||O||se||_e?E.jsxs("div",{className:"text-center p-8 bg-blue-50 dark:bg-blue-900/10 rounded-[2.5rem] border border-blue-100 dark:border-blue-900/20",children:[E.jsx("i",{className:"fas fa-comments text-blue-600 text-3xl mb-4"}),E.jsx("h3",{className:"text-sm font-black text-slate-800 dark:text-white uppercase tracking-tight mb-2",children:"Registry Log Active"}),E.jsx("button",{onClick:()=>h(`/chat/${m.id}`),className:"bg-blue-900 text-white px-8 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg hover:bg-blue-800 transition",children:"Access Recovery Channel"})]}):_?E.jsx("div",{className:"bg-white dark:bg-slate-950 p-6 rounded-3xl shadow-xl border-2 border-blue-600 animate-in zoom-in duration-300",children:E.jsxs("form",{onSubmit:G,className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("i",{className:"fas fa-id-badge text-blue-600 text-2xl"}),E.jsx("h3",{className:"text-sm font-black text-slate-800 dark:text-white uppercase tracking-tight",children:"Ownership Protocol"})]}),E.jsx("textarea",{required:!0,rows:3,placeholder:"Detail unique markers known only to the owner...",className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-blue-500 font-bold text-xs",value:S,onChange:re=>A(re.target.value)}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Visual Evidence (Required for verification)"}),E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[N.map((re,le)=>E.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden border border-slate-200 group",children:[E.jsx("img",{src:re,className:"w-full h-full object-cover",alt:"Proof Preview"}),E.jsx("button",{type:"button",onClick:()=>Ie(le),className:"absolute inset-0 bg-red-600/80 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:E.jsx("i",{className:"fas fa-trash-alt text-xs"})})]},le)),E.jsxs("button",{type:"button",onClick:()=>v.current?.click(),className:"aspect-square bg-slate-50 dark:bg-slate-900 rounded-xl border border-dashed border-slate-300 flex flex-col items-center justify-center text-slate-400 hover:text-blue-600 transition",children:[E.jsx("i",{className:"fas fa-plus text-xs mb-1"}),E.jsx("span",{className:"text-[7px] font-black uppercase",children:"Add Photo"})]})]}),E.jsx("input",{type:"file",ref:v,onChange:tt,accept:"image/*",multiple:!0,className:"hidden"}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{type:"button",onClick:()=>{w(!1),I([])},className:"flex-1 text-slate-400 text-[8px] font-black uppercase tracking-widest bg-slate-100 dark:bg-slate-900 rounded-xl py-4 border border-slate-200 dark:border-slate-800",children:"Abort Process"}),E.jsx("button",{type:"submit",className:"flex-[2] bg-blue-900 text-white py-4 rounded-xl font-black text-[9px] uppercase tracking-[0.2em] shadow-lg",children:"Submit for Review"})]})]})]})]})}):E.jsxs("button",{onClick:()=>w(!0),className:"w-full bg-blue-900 text-white py-4 rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg hover:bg-blue-800 transition flex items-center justify-center gap-3",children:[E.jsx("i",{className:"fas fa-hand-holding-heart"}),"File Recovery Request"]})})]})})]})]})},TM=({user:t,items:e})=>{const[n,i]=V.useState(!1),s=_n(t.email),[a,c]=V.useState({name:t.name||"",branch:t.branch||Qs[0],yearOfStudy:t.yearOfStudy||Ys[0],residency:t.residency||"Unspecified"});V.useEffect(()=>{c({name:t.name||"",branch:t.branch||Qs[0],yearOfStudy:t.yearOfStudy||Ys[0],residency:t.residency||"Unspecified"})},[t]);const[p,h]=V.useState(!1),m=V.useRef(null),[v,_]=V.useState(!1),w=`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name||"User")}&background=1e3a8a&color=fff&size=256&bold=true`,A=e.filter(U=>U.reporterId===t.id||U.reporterId===btoa(t.email)).filter(U=>U.status!=="RESOLVED").length,N=typeof t.trustScore=="number"?t.trustScore:100,I=async()=>{if(!a.name?.trim()){alert("Institutional Name cannot be empty.");return}h(!0);try{await Bh(a)&&i(!1)}catch(U){console.error("Save Error:",U)}finally{h(!1)}},L=U=>{const D=U.target.files?.[0];if(D){if(D.size>2*1024*1024){alert("Image must be smaller than 2MB.");return}const F=new FileReader;F.onloadend=async()=>{const K=F.result;await Bh({profilePicture:K}),window.location.reload()},F.readAsDataURL(D)}};return E.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-500",children:[E.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] p-8 md:p-12 shadow-xl border border-slate-100 dark:border-slate-700 flex flex-col md:flex-row items-center gap-10 transition-colors",children:[E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"w-44 h-44 rounded-[3rem] overflow-hidden bg-blue-50 dark:bg-slate-900 ring-8 ring-blue-50 dark:ring-blue-900/20 shadow-2xl transition-transform duration-500 group-hover:scale-105",children:E.jsx("img",{src:v?w:t.profilePicture||w,alt:t.name,onError:()=>_(!0),referrerPolicy:"no-referrer",className:"w-full h-full object-cover"})}),E.jsx("button",{onClick:()=>m.current?.click(),className:"absolute -bottom-2 -right-2 bg-blue-600 text-white w-12 h-12 rounded-2xl flex items-center justify-center border-4 border-white dark:border-slate-800 shadow-2xl hover:bg-blue-700 transition active:scale-95",children:E.jsx("i",{className:"fas fa-camera text-sm"})}),E.jsx("input",{type:"file",ref:m,onChange:L,accept:"image/*",className:"hidden"})]}),E.jsxs("div",{className:"flex-1 w-full text-center md:text-left",children:[n?E.jsxs("div",{className:"space-y-4 mb-6",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Full Name"}),E.jsx("input",{type:"text",value:a.name,onChange:U=>c({...a,name:U.target.value}),className:"w-full text-2xl font-black bg-slate-50 dark:bg-slate-950 border-2 border-slate-100 dark:border-slate-800 px-5 py-3 rounded-2xl outline-none focus:border-blue-500 dark:text-white uppercase"})]}),E.jsxs("div",{className:"flex gap-4 pt-2",children:[E.jsxs("button",{onClick:I,disabled:p,className:"flex-1 bg-blue-900 text-white px-8 py-4 rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-blue-800 transition flex items-center justify-center gap-3 shadow-xl",children:[p?E.jsx("i",{className:"fas fa-spinner animate-spin"}):E.jsx("i",{className:"fas fa-save"}),"Sync Profile"]}),E.jsx("button",{onClick:()=>i(!1),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-500 px-8 py-4 rounded-2xl text-xs font-black uppercase tracking-widest transition",children:"Discard"})]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 mb-5",children:[E.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white uppercase",children:t.name||"Institutional Member"}),E.jsxs("div",{className:"flex gap-2 justify-center md:justify-start",children:[s?E.jsxs("span",{className:"px-3 py-1 bg-amber-500 text-white text-[10px] font-black rounded-full border border-amber-600 shadow-lg uppercase tracking-widest animate-pulse flex items-center gap-2",children:[E.jsx("i",{className:"fas fa-shield-halved"})," System Admin"]}):E.jsx("span",{className:"px-3 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-[10px] font-black rounded-full border border-blue-100 dark:border-blue-800 uppercase tracking-widest",children:"Verified Member"}),E.jsx("button",{onClick:()=>i(!0),className:"px-3 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-[10px] font-black rounded-full border border-slate-200 dark:border-slate-600 uppercase tracking-widest hover:bg-blue-900 hover:text-white transition",children:"Edit"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-8 text-slate-500 dark:text-slate-400 mb-8 font-bold uppercase tracking-wide",children:[E.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[E.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-blue-500 shadow-sm border dark:border-slate-700 flex-shrink-0",children:E.jsx("i",{className:"fas fa-envelope text-xs"})}),E.jsx("span",{className:"break-all",children:t.email})]}),E.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[E.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-blue-500 shadow-sm border dark:border-slate-700 flex-shrink-0",children:E.jsx("i",{className:"fas fa-id-card text-xs"})}),E.jsxs("span",{children:["REG: ",t.registrationNumber||"N/A"]})]})]})]}),E.jsx("div",{className:"flex flex-wrap justify-center md:justify-start gap-4",children:E.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 px-7 py-4 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-inner",children:[E.jsx("p",{className:"text-[9px] text-slate-400 dark:text-slate-500 font-black uppercase tracking-widest mb-2",children:"Student Trust Index"}),E.jsxs("div",{className:"flex items-center gap-5",children:[E.jsxs("p",{className:"text-4xl font-black text-blue-900 dark:text-blue-400",children:[N,"%"]}),E.jsx("div",{className:"w-32 h-3 bg-slate-200 dark:bg-slate-800 rounded-full overflow-hidden shadow-inner",children:E.jsx("div",{className:"h-full bg-blue-500 rounded-full shadow-[0_0_15px_rgba(59,130,246,0.6)] transition-all duration-1000",style:{width:`${N}%`}})})]})]})})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"group bg-white dark:bg-slate-800 p-8 rounded-[3rem] border border-slate-100 dark:border-slate-700 shadow-xl flex items-center gap-8 hover:shadow-2xl transition duration-500",children:[E.jsx("div",{className:"w-20 h-20 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-3xl flex items-center justify-center text-3xl transition border border-green-100/50",children:E.jsx("i",{className:"fas fa-medal"})}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-5xl font-black text-slate-900 dark:text-white leading-none mb-2",children:t.resolvedCount||0}),E.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-[11px] font-black uppercase tracking-widest",children:"Resolved Cases"})]})]}),E.jsxs("div",{className:"group bg-white dark:bg-slate-800 p-8 rounded-[3rem] border border-slate-100 dark:border-slate-700 shadow-xl flex items-center gap-8 hover:shadow-2xl transition duration-500",children:[E.jsx("div",{className:"w-20 h-20 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-3xl flex items-center justify-center text-3xl transition border border-red-100/50",children:E.jsx("i",{className:"fas fa-search-minus"})}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-5xl font-black text-slate-900 dark:text-white leading-none mb-2",children:A}),E.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-[11px] font-black uppercase tracking-widest",children:"Open Cases"})]})]})]})]})},IM=({items:t,user:e,onClearChat:n,showConfirm:i})=>{const s=_n(e.email),a=t.filter(h=>s||h.reporterId===e.id||h.messages&&h.messages.some(m=>m.senderId===e.id)).filter(h=>h.messages&&h.messages.length>0).sort((h,m)=>{const v=h.messages&&h.messages.length>0?h.messages[h.messages.length-1].timestamp:"";return(m.messages&&m.messages.length>0?m.messages[m.messages.length-1].timestamp:"").localeCompare(v)}),c=h=>`https://ui-avatars.com/api/?name=${encodeURIComponent(h)}&background=f1f5f9&color=475569&size=128&bold=true&rounded=true`,p=(h,m)=>{h.preventDefault(),i({title:s?"ADMIN: EXPUNGE SYSTEM LOG":"CLEAR RECOVERY SESSION",message:"This action permanently erases the coordination history. This cannot be recovered.",confirmLabel:"Confirm Deletion",type:"danger",onConfirm:()=>n(m)})};return E.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-in fade-in duration-500",children:[E.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Registry Comms"}),E.jsx("p",{className:"text-slate-400 text-xs font-black uppercase tracking-[0.2em] mt-1",children:s?"Campus-Wide Supervision Mode":"Institutional Communication Hub"})]})}),a.length>0?E.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:E.jsx("div",{className:"divide-y dark:divide-slate-700",children:a.map(h=>{const m=h.messages?.[h.messages.length-1],v=h.reporterId===e.id,_=v?m?.senderId===e.id?"Claimant":m?.senderName||"Student":h.reporterName;return E.jsxs("div",{className:"relative group flex items-center",children:[E.jsxs(an,{to:`/chat/${h.id}`,className:"flex-1 flex items-center gap-5 p-5 hover:bg-slate-50 dark:hover:bg-slate-900/50 transition-all",children:[E.jsx("div",{className:"relative w-14 h-14 flex-shrink-0",children:E.jsx("img",{src:h.imagePaths[0],className:"w-full h-full object-cover rounded-xl shadow-sm border border-slate-100 dark:border-slate-800",alt:h.title})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("h3",{className:"font-black text-base text-slate-900 dark:text-white truncate uppercase tracking-tight",children:h.title}),s&&!v&&!h.messages?.some(w=>w.senderId===e.id)?E.jsx("span",{className:"text-[8px] font-black px-2 py-0.5 rounded-md uppercase tracking-widest bg-amber-500 text-white shadow-sm",children:"SUPERVISION"}):E.jsx("span",{className:`text-[8px] font-black px-2 py-0.5 rounded-md uppercase tracking-widest ${v?"bg-blue-50 text-blue-600":"bg-indigo-50 text-indigo-600"}`,children:v?"REPORTER":"CLAIMANT"})]}),E.jsx("span",{className:"text-[9px] font-black text-slate-300 dark:text-slate-600 uppercase",children:m?.timestamp})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("img",{src:c(_),className:"w-4 h-4 rounded-full",alt:"Avatar"}),E.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 font-bold truncate italic",children:[E.jsxs("span",{className:"font-black not-italic text-slate-500 dark:text-slate-400 mr-2",children:[m?.senderName,":"]}),m?m.text:"Syncing coordination..."]})]})]})]}),E.jsx("div",{className:"pr-5 opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx("button",{onClick:w=>p(w,h.id),className:"w-10 h-10 rounded-xl bg-red-50 text-red-400 hover:bg-red-600 hover:text-white transition flex items-center justify-center text-xs shadow-sm",children:E.jsx("i",{className:"fas fa-trash-alt"})})})]},h.id)})})}):E.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] p-20 text-center border-4 border-dashed border-slate-100 dark:border-slate-800 shadow-inner",children:[E.jsx("i",{className:"fas fa-comment-slash text-4xl text-slate-100 dark:text-slate-800 mb-6"}),E.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:"No active campus-wide logs detected."})]})]})},CM=({items:t,user:e,onUpdateStatus:n,onAddMessage:i,showConfirm:s})=>{const{id:a}=lc(),c=_r(),p=t.find(O=>O.id===a),h=V.useRef(null),[m,v]=V.useState(""),[_,w]=V.useState(null);if(V.useEffect(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[p?.messages]),!p)return E.jsxs("div",{className:"h-[60vh] flex flex-col items-center justify-center text-center p-8",children:[E.jsx("i",{className:"fas fa-comment-slash text-4xl text-slate-200 mb-4"}),E.jsx("h3",{className:"font-black text-slate-400 uppercase tracking-widest text-[10px]",children:"Registry log not found."}),E.jsx("button",{onClick:()=>c("/chats"),className:"mt-6 bg-blue-900 text-white px-8 py-3 rounded-xl font-black uppercase text-[10px] tracking-widest",children:"Return to Inbox"})]});const S=p.reporterId===e.id,A=_n(e.email),N=p.status===ke.PENDING_CLAIM,I=p.status===ke.CLAIMED,L=p.status===ke.RESOLVED,U=O=>{if(O.preventDefault(),!m.trim()||L)return;const z={id:Date.now().toString(),senderId:e.id,senderName:A?`ADMIN (${e.name})`:e.name,text:m,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};i(p.id,z),v("")},D=()=>{s({title:"APPROVE CLAIM",message:"By approving, the post will be removed from the public feed and recovery coordination will be officially synchronized.",confirmLabel:"Confirm Approval",type:"info",onConfirm:()=>{n(p.id,ke.CLAIMED),i(p.id,{id:`system-approve-${Date.now()}`,senderId:"SYSTEM",senderName:"REGISTRY",text:"PROTOCOL UPDATE: Claim approved. Coordination is now officially active. Item removed from feed.",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}})},F=()=>{s({title:"DENY CLAIM",message:"Are you sure the evidence provided is insufficient? This will reset the status to public and allow others to file requests.",confirmLabel:"Deny Claim",type:"danger",onConfirm:()=>{n(p.id,ke.NEW),i(p.id,{id:`system-deny-${Date.now()}`,senderId:"SYSTEM",senderName:"REGISTRY",text:"PROTOCOL UPDATE: Reporter has denied the claim evidence. Item status reset to public.",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}})},K=()=>{s({title:"RESOLVE CASE",message:"Has the item been successfully returned/recovered? Resolving will close the case and archive the log. This contributes to your community trust score.",confirmLabel:"Mark as Resolved",type:"info",onConfirm:()=>{n(p.id,ke.RESOLVED),i(p.id,{id:`system-resolve-${Date.now()}`,senderId:"SYSTEM",senderName:"REGISTRY",text:"PROTOCOL FINALIZED: Case successfully resolved. Registry closed. Thank you for your contribution to the SASTRA community.",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}})},B=O=>{const z=O.images||(O.image?[O.image]:[]);return z.length===0?null:E.jsx("div",{className:`flex flex-wrap gap-2 mb-3 ${O.senderId===e.id?"justify-end":"justify-start"}`,children:z.map((J,se)=>E.jsxs("div",{className:"relative group cursor-pointer inline-block",onClick:()=>w(J),children:[E.jsx("img",{src:J,className:"max-w-[200px] max-h-40 object-cover rounded-xl border-2 border-white/20 shadow-lg group-hover:brightness-90 transition",alt:"Evidence"}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:E.jsx("span",{className:"bg-black/60 text-white text-[7px] font-black uppercase px-2 py-1 rounded-full backdrop-blur-sm",children:"View"})})]},se))})};return E.jsxs("div",{className:"max-w-4xl mx-auto h-[calc(100vh-160px)] flex flex-col animate-in fade-in duration-500",children:[E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-t-[2.5rem] p-6 border-b dark:border-slate-800 flex items-center justify-between shadow-sm",children:[E.jsxs("div",{className:"flex items-center gap-5",children:[E.jsx("button",{onClick:()=>c("/chats"),className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-800 flex items-center justify-center text-slate-400 hover:text-blue-600 transition",children:E.jsx("i",{className:"fas fa-arrow-left text-sm"})}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("h2",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-tight",children:p.title}),E.jsx("span",{className:`px-2 py-0.5 rounded text-[7px] font-black uppercase tracking-widest ${p.status===ke.PENDING_CLAIM?"bg-amber-50 text-amber-600":p.status===ke.CLAIMED?"bg-indigo-50 text-indigo-600":p.status===ke.RESOLVED?"bg-green-50 text-green-600":"bg-blue-50 text-blue-600"}`,children:p.status.replace("_"," ")})]}),E.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mt-1",children:"Registry Session Log"})]})]}),E.jsxs("button",{onClick:()=>c(`/item/${p.id}`),className:"text-[9px] font-black uppercase tracking-widest text-blue-600 flex items-center gap-2 hover:underline",children:[E.jsx("i",{className:"fas fa-info-circle"})," Item Details"]})]}),S&&(N||I)&&!L&&E.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-5 flex items-center justify-between border-b border-slate-100 dark:border-slate-800",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("i",{className:`fas ${N?"fa-shield-alt text-amber-500":"fa-check-circle text-indigo-500"} text-xl`}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[9px] font-black text-slate-800 dark:text-slate-300 uppercase tracking-widest",children:N?"Verification Pending":"Handover Process Active"}),E.jsx("p",{className:"text-[8px] font-bold text-slate-500 uppercase tracking-widest",children:N?"Review evidence before approving":"Coordinate handover then mark as resolved"})]})]}),E.jsx("div",{className:"flex gap-2",children:N?E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:D,className:"bg-green-600 text-white px-5 py-2.5 rounded-xl font-black text-[9px] uppercase tracking-widest shadow-lg hover:bg-green-700 transition active:scale-95",children:"Approve Proof"}),E.jsx("button",{onClick:F,className:"bg-red-50 text-red-600 px-5 py-2.5 rounded-xl font-black text-[9px] uppercase tracking-widest border border-red-100 transition active:scale-95",children:"Deny"})]}):E.jsx("button",{onClick:K,className:"bg-indigo-600 text-white px-6 py-2.5 rounded-xl font-black text-[9px] uppercase tracking-widest shadow-lg hover:bg-indigo-700 transition active:scale-95",children:"Mark as Resolved"})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto bg-slate-50/20 dark:bg-slate-950/20 p-6 space-y-6 scrollbar-hide",children:[p.messages?.map(O=>E.jsx("div",{className:`flex ${O.senderId===e.id?"justify-end":O.senderId==="SYSTEM"?"justify-center":"justify-start"}`,children:E.jsxs("div",{className:`max-w-[85%] p-5 rounded-2xl text-[12px] font-medium shadow-md leading-relaxed ${O.senderId===e.id?"bg-blue-900 text-white rounded-tr-none":O.senderId==="SYSTEM"?"bg-slate-200 dark:bg-slate-800 text-slate-500 text-[9px] font-black uppercase text-center border-none py-2 px-6":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 rounded-tl-none border border-slate-100 dark:border-slate-700"}`,children:[O.senderId!=="SYSTEM"&&E.jsx("p",{className:`text-[8px] font-black uppercase tracking-widest mb-2 ${O.senderId===e.id?"text-blue-200":"text-slate-400"}`,children:O.senderName}),B(O),E.jsx("p",{className:"whitespace-pre-wrap",children:O.text}),O.senderId!=="SYSTEM"&&E.jsx("div",{className:`text-[8px] mt-3 font-black ${O.senderId===e.id?"text-blue-300 text-right":"text-slate-300"}`,children:O.timestamp})]})},O.id)),L&&E.jsx("div",{className:"flex justify-center py-4",children:E.jsxs("div",{className:"bg-green-50 dark:bg-green-900/10 px-8 py-4 rounded-[2rem] border border-green-100 dark:border-green-900/20 text-center",children:[E.jsx("i",{className:"fas fa-check-circle text-green-600 text-2xl mb-3"}),E.jsx("h4",{className:"text-[10px] font-black text-green-800 dark:text-green-400 uppercase tracking-widest",children:"Registry Log Finalized"}),E.jsx("p",{className:"text-[8px] text-green-600/70 font-bold uppercase tracking-widest mt-1",children:"Item safely recovered"})]})}),E.jsx("div",{ref:h})]}),!L&&E.jsx("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-b-[2.5rem] border-t dark:border-slate-800",children:E.jsxs("form",{onSubmit:U,className:"flex gap-3",children:[E.jsx("input",{type:"text",placeholder:"Input recovery coordination...",className:"flex-1 px-6 py-4 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-2xl outline-none text-[11px] font-bold uppercase tracking-tight dark:text-white focus:border-blue-500 transition-all",value:m,onChange:O=>v(O.target.value)}),E.jsx("button",{type:"submit",className:"w-14 h-14 bg-blue-900 text-white rounded-2xl flex items-center justify-center shadow-xl hover:bg-blue-800 transition active:scale-95 group",children:E.jsx("i",{className:"fas fa-paper-plane text-[11px] group-hover:translate-x-1 transition-transform"})})]})}),_&&E.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-900/95 backdrop-blur-xl flex items-center justify-center p-8 animate-in fade-in duration-300",onClick:()=>w(null),children:E.jsxs("div",{className:"relative max-w-full max-h-full",children:[E.jsx("img",{src:_,className:"max-w-[90vw] max-h-[80vh] object-contain rounded-2xl shadow-2xl border-4 border-white/10",alt:"Focused Evidence"}),E.jsx("p",{className:"text-white/40 text-[10px] font-black uppercase tracking-[0.4em] text-center mt-6",children:"Protocol Evidence View  Click to close"})]})})]})},kM=({isOpen:t,title:e,message:n,confirmLabel:i,cancelLabel:s="Cancel",onConfirm:a,onCancel:c,type:p="info"})=>{if(!t)return null;const h={danger:"bg-red-600",info:"bg-blue-900",warning:"bg-amber-500"},m={danger:"fa-exclamation-triangle",info:"fa-shield-halved",warning:"fa-user-check"};return E.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:E.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden animate-in zoom-in duration-300",children:[E.jsxs("div",{className:`${h[p]} px-6 py-4 text-white flex items-center gap-3`,children:[E.jsx("div",{className:"w-8 h-8 bg-white/10 rounded flex items-center justify-center border border-white/20",children:E.jsx("i",{className:`fas ${m[p]} text-xs`})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] leading-none",children:e}),E.jsx("p",{className:"text-[8px] font-bold opacity-60 tracking-widest uppercase mt-1",children:"Institutional Protocol"})]})]}),E.jsxs("div",{className:"p-8",children:[E.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 leading-relaxed mb-8",children:n}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:c,className:"flex-1 px-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition",children:s}),E.jsx("button",{onClick:a,className:`${h[p]} flex-1 px-4 py-3 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg hover:brightness-110 active:scale-95 transition`,children:i})]})]}),E.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 px-6 py-3 border-t border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[E.jsx("span",{className:"text-[8px] font-black text-slate-300 uppercase tracking-widest",children:"Protocol Active"}),E.jsx("i",{className:"fas fa-lock text-[8px] text-slate-200"})]})]})})},AM=({currentUser:t,showConfirm:e})=>{const[n,i]=V.useState([]),[s,a]=V.useState("");V.useEffect(()=>{(async()=>{const m=await Gh();i(m)})()},[]);const c=h=>{if(h.id===t.id){alert("You cannot remove your own administrative account.");return}e({title:"ADMIN: EXPUNGE USER",message:`You are about to permanently remove ${h.name} (${h.registrationNumber}) from the SASTRA Registry. All associated reports will remain, but the user identity will be erased. Proceed?`,confirmLabel:"Expunge User",type:"danger",onConfirm:async()=>{await iC(h.id);const m=await Gh();i(m)}})},p=n.filter(h=>h.name.toLowerCase().includes(s.toLowerCase())||h.email.toLowerCase().includes(s.toLowerCase())||h.registrationNumber.toLowerCase().includes(s.toLowerCase()));return E.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700",children:[E.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end justify-between gap-4",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"User Registry"}),E.jsx("p",{className:"text-slate-400 text-xs font-black uppercase tracking-[0.2em] mt-1",children:"Administrative Control Center"})]}),E.jsxs("div",{className:"relative w-full lg:max-w-md",children:[E.jsx("i",{className:"fas fa-search absolute left-5 top-1/2 -translate-y-1/2 text-slate-300"}),E.jsx("input",{type:"text",placeholder:"Search users by name, reg, or email...",className:"w-full pl-14 pr-6 py-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl outline-none focus:border-blue-500 font-bold text-xs shadow-sm",value:s,onChange:h=>a(h.target.value)})]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(h=>E.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-slate-100 dark:border-slate-700 overflow-hidden shadow-xl group transition-all duration-500",children:[E.jsxs("div",{className:"p-8",children:[E.jsxs("div",{className:"flex items-center gap-5 mb-6",children:[E.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden bg-slate-50 dark:bg-slate-950 flex-shrink-0 shadow-inner",children:E.jsx("img",{src:h.profilePicture,className:"w-full h-full object-cover",alt:h.name,referrerPolicy:"no-referrer"})}),E.jsxs("div",{className:"min-w-0",children:[E.jsx("h3",{className:"font-black text-lg text-slate-800 dark:text-white leading-tight uppercase tracking-tight truncate",children:h.name}),E.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[E.jsx("span",{className:"text-[10px] font-black text-blue-600 dark:text-blue-400 uppercase tracking-widest",children:h.registrationNumber}),_n(h.email)&&E.jsx("span",{className:"bg-indigo-600 text-white text-[7px] font-black px-1.5 py-0.5 rounded uppercase",children:"ADMIN"})]})]})]}),E.jsxs("div",{className:"space-y-4 border-t border-slate-50 dark:border-slate-700 pt-6",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("i",{className:"fas fa-graduation-cap text-slate-300 dark:text-slate-600 mt-1"}),E.jsx("p",{className:"text-[10px] font-bold text-slate-500 dark:text-slate-400 leading-tight uppercase",children:h.branch||"No Department Specified"})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("i",{className:"fas fa-envelope text-slate-300 dark:text-slate-600"}),E.jsx("p",{className:"text-[10px] font-bold text-slate-400 truncate uppercase",children:h.email})]})]}),E.jsx("div",{className:"mt-8 flex gap-3",children:E.jsx("button",{onClick:()=>c(h),className:"flex-1 bg-red-50 dark:bg-red-900/10 text-red-600 dark:text-red-400 py-3 rounded-xl text-[9px] font-black uppercase tracking-widest border border-red-100 dark:border-red-900/20 hover:bg-red-600 hover:text-white transition-all shadow-sm",children:"Remove User"})})]}),E.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950/50 px-8 py-3 flex justify-between items-center border-t dark:border-slate-700",children:[E.jsxs("span",{className:"text-[8px] font-black text-slate-300 uppercase",children:["Trust Index: ",h.trustScore,"%"]}),E.jsx("span",{className:"text-[8px] font-black text-slate-300 uppercase",children:h.yearOfStudy})]})]},h.id))}),p.length===0&&E.jsxs("div",{className:"py-20 text-center bg-white dark:bg-slate-800 rounded-[3rem] border-4 border-dashed border-slate-100 dark:border-slate-800",children:[E.jsx("i",{className:"fas fa-users-slash text-4xl text-slate-100 mb-6"}),E.jsx("p",{className:"text-slate-400 text-[11px] font-black uppercase tracking-[0.3em]",children:"No registered users found in registry database."})]})]})},nc="sastra_items_db",Zi=()=>{const t=localStorage.getItem(nc);return t?JSON.parse(t):(localStorage.setItem(nc,JSON.stringify(Hh)),Hh)},Ds=t=>{localStorage.setItem(nc,JSON.stringify(t))},Jr={async getItems(){return Zi()},async addItem(t){const e=Zi(),n=[t,...e];return Ds(n),t},async updateStatus(t,e){const n=Zi(),i=n.findIndex(s=>s.id===t);i!==-1&&(n[i].status=e,Ds(n))},async addMessage(t,e){const n=Zi(),i=n.findIndex(s=>s.id===t);i!==-1&&(n[i].messages||(n[i].messages=[]),n[i].messages?.push(e),Ds(n))},async deleteItem(t){const n=Zi().filter(i=>i.id!==t);Ds(n)}},Sg="sastra_lf_theme",NM=()=>{const[t,e]=V.useState(null),[n,i]=V.useState([]),[s,a]=V.useState(!0),[c,p]=V.useState(()=>{const B=localStorage.getItem(Sg);return B==="dark"||B==="light"?B:"light"}),[h,m]=V.useState({isOpen:!1,title:"",message:"",confirmLabel:"",type:"info",onConfirm:()=>{}}),v=V.useCallback(B=>{m({...B,isOpen:!0})},[]),_=()=>m(B=>({...B,isOpen:!1})),w=V.useCallback(async()=>{try{const B=await Jr.getItems();i(B)}catch(B){console.error("Local Storage access failed:",B)}},[]);V.useEffect(()=>{(async()=>{const O=bc();O&&e(O),await w(),a(!1)})()},[w]),V.useEffect(()=>{c==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem(Sg,c)},[c]);const S=B=>{e(B),B.theme&&p(B.theme),w()},A=()=>{eC(),e(null)},N=()=>{const B=c==="light"?"dark":"light";if(p(B),t){const O={...t,theme:B};e(O),rC(B)}},I=async B=>{const O=await Jr.addItem(B);i(z=>[O,...z])},L=async B=>{await Jr.deleteItem(B),i(O=>O.filter(z=>z.id!==B))},U=async(B,O)=>{await Jr.updateStatus(B,O),O===ke.CLAIMED||O===ke.RESOLVED?i(z=>z.filter(J=>J.id!==B)):i(z=>z.map(J=>J.id===B?{...J,status:O}:J))},D=(B,O)=>{i(z=>z.map(J=>{if(J.id===B){const se=J.reports||[];if(!se.includes(O))return{...J,reports:[...se,O]}}return J}))},F=async(B,O)=>{await Jr.addMessage(B,O),i(z=>z.map(J=>J.id===B?{...J,messages:[...J.messages||[],O]}:J))},K=async B=>{await Jr.deleteItem(B),i(O=>O.filter(z=>z.id!==B))};return s?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"w-12 h-12 border-4 border-blue-900 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),E.jsx("p",{className:"text-slate-400 font-black uppercase tracking-[0.3em] text-[8px]",children:"Loading Dashboard..."})]})}):E.jsx(QE,{children:E.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 flex flex-col transition-colors duration-500",children:[t&&t.onboarded&&E.jsx(oC,{user:t,items:n,onLogout:A,theme:c,onToggleTheme:N}),E.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 max-w-7xl",children:E.jsxs($E,{children:[E.jsx(qt,{path:"/login",element:!t||!t.onboarded?E.jsx(aC,{onLoginSuccess:S,theme:c,onToggleTheme:N}):E.jsx(sn,{to:"/"})}),E.jsx(qt,{path:"/",element:t&&t.onboarded?E.jsx(sC,{items:n,user:t}):E.jsx(sn,{to:"/login"})}),E.jsx(qt,{path:"/chats",element:t&&t.onboarded?E.jsx(IM,{items:n,user:t,onClearChat:K,showConfirm:v}):E.jsx(sn,{to:"/login"})}),E.jsx(qt,{path:"/chat/:id",element:t&&t.onboarded?E.jsx(CM,{items:n,user:t,onUpdateStatus:U,onAddMessage:F,showConfirm:v}):E.jsx(sn,{to:"/login"})}),E.jsx(qt,{path:"/report/:type",element:t&&t.onboarded?E.jsx(xM,{user:t,onAdd:I}):E.jsx(sn,{to:"/login"})}),E.jsx(qt,{path:"/item/:id",element:t&&t.onboarded?E.jsx(SM,{items:n,user:t,onUpdateStatus:U,onAddMessage:F,onRemoveItem:L,onReportItem:D,showConfirm:v}):E.jsx(sn,{to:"/login"})}),E.jsx(qt,{path:"/profile",element:t&&t.onboarded?E.jsx(TM,{user:t,items:n}):E.jsx(sn,{to:"/login"})}),E.jsx(qt,{path:"/admin/users",element:t&&t.onboarded&&_n(t.email)?E.jsx(AM,{currentUser:t,showConfirm:v}):E.jsx(sn,{to:"/"})}),E.jsx(qt,{path:"*",element:E.jsx(sn,{to:"/"})})]})}),E.jsx(kM,{isOpen:h.isOpen,title:h.title,message:h.message,confirmLabel:h.confirmLabel,type:h.type,onConfirm:()=>{h.onConfirm(),_()},onCancel:_}),E.jsx("footer",{className:"bg-white dark:bg-slate-900 border-t dark:border-slate-800 py-6 text-center text-slate-400 text-xs",children:E.jsxs("p",{className:"font-bold tracking-widest text-[8px] opacity-60 uppercase",children:[" ",new Date().getFullYear()," Sastra Lost & Found"]})})]})})},q0=document.getElementById("root");if(!q0)throw new Error("Could not find root element to mount to");const RM=X_.createRoot(q0);RM.render(E.jsx(Ig.StrictMode,{children:E.jsx(NM,{})}));
